(window.$WP=window.$WP||[]).push({id:"@ta/common.accumulating-provider",d:["vendor-babel","vendor-react-libs"],e:["./packages/common/accumulating-provider/AccumulatingProvider.jsx"],x:{"./packages/common/accumulating-provider/AccumulatingProvider.jsx":["default"]},m:{"./packages/common/accumulating-provider/AccumulatingProvider.jsx":function(e,t,a){"use strict";a.r(t);var r=a("@babel/runtime/helpers/esm/toConsumableArray"),n=a.n(r),i=a("@babel/runtime/helpers/esm/classCallCheck"),s=a.n(i),u=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=a.n(u),o=a("@babel/runtime/helpers/esm/getPrototypeOf"),l=a.n(o),d=a("@babel/runtime/helpers/esm/createClass"),m=a.n(d),p=a("@babel/runtime/helpers/esm/inherits"),h=a.n(p),b=a("@babel/runtime/helpers/esm/assertThisInitialized"),v=a.n(b),D=a("@babel/runtime/helpers/esm/defineProperty"),f=a.n(D),g=function(e){function t(e){var a;return s()(this,t),a=c()(this,l()(t).call(this,e)),f()(v()(v()(a)),"previousData",void 0),a.state={accumulatedData:a.props.data,ids:new Set(a.props.data.map(a.props.identifier))},a.previousData=a.props.data,a}return h()(t,e),m()(t,null,[{key:"getDerivedStateFromProps",value:function e(t,a){var r=t.data.filter(function(e){return!a.ids.has(t.identifier(e))});return 0===r.length?null:{accumulatedData:t.addToStart?r.concat(a.accumulatedData):a.accumulatedData.concat(r),ids:new Set([].concat(n()(a.ids),n()(r.map(t.identifier))))}}}]),m()(t,[{key:"componentDidUpdate",value:function e(){this.props.onDataUpdate&&this.state.accumulatedData.length>this.previousData.length&&(this.previousData=this.state.accumulatedData,this.props.onDataUpdate(this.state.accumulatedData))}},{key:"render",value:function e(){return this.props.children(this.state.accumulatedData)}}]),t}(a("react").Component);t.default=g}}});
//# sourceMappingURL=common.accumulating-provider.c35cb63c77.js.map