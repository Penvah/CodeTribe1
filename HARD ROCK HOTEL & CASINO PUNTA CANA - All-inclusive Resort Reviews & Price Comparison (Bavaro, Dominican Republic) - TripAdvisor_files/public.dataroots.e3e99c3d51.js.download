(window.$WP=window.$WP||[]).push({id:"@ta/public.dataroots",d:["vendor-react-libs","ta-platform"],e:["./packages/public/dataroots/dataroots.jsx"],x:{"./packages/public/dataroots/dataroots.jsx":["bindComponent","bindComponentWithBoundary","bindUrlRenderer","bindBundleImporter","isLoaderQuery","stageAll","bindDataRoot","getSSRQueries","default"]},m:{"./packages/public/dataroots/dataroots.jsx":function(t,n,e){"use strict";e.r(n),e.d(n,"bindComponent",function(){return l}),e.d(n,"bindComponentWithBoundary",function(){return f}),e.d(n,"bindUrlRenderer",function(){return g}),e.d(n,"bindBundleImporter",function(){return p}),e.d(n,"isLoaderQuery",function(){return h}),e.d(n,"stageAll",function(){return v}),e.d(n,"bindDataRoot",function(){return y}),e.d(n,"getSSRQueries",function(){return L});var r=e("react"),a=e("@ta/common.api"),u=(e("@ta/common.logging"),e("@ta/common.imports")),o=e("@ta/common.i18n"),i=e("@ta/common.features"),s=e("@ta/common.error-handling"),c=e("@ta/common.state"),d=function t(){return null},l=function t(n,e){return e&&e.stage&&n.stagingProcs.push(function(t,n){return e.stage(t,n)}),e&&e.ssrQueries&&n.ssrQueriesList.push(e.ssrQueries),e},f=function t(n,e){return e&&e.stage&&n.stagingProcs.push(function(t,n){return e.stage(t,n)}),e&&e.ssrQueries&&n.ssrQueriesList.push(e.ssrQueries),function t(n){return r.createElement(s.ErrorBoundary,null,r.createElement(e,n))}},g=function t(n,e,r,u){return l(n,function t(n,e,r){return Object(a.bind)(function t(n,a){var u=e(n),o=u?a(u):null;return function(t,n){var e=o?o.get():null;return r(t,e,n)}})(n)}(e,r,u))},m=function t(n){var e=n.child,a=n.params,u=e;return u?r.createElement(s.ErrorBoundary,null,r.createElement(u,a)):null},p=function t(n,e,r){if(!e)return d;var s=new u.Loadable(e),l=!0,f=null,g=Object(a.bind)(function t(a,u){var d=null;if(l)if(s.isLoaded()){f=s.get(),l=!1;var g=s.getSsrQueries();g&&n.ssrQueriesList.push(g)}else d=s.getHandles(u);f&&f.stage&&f.stage(a,u);var m=f;return function(t,n){if(null!=d){var a=d.translations.get(),u=d.features.get();a&&u&&!a.loading&&!u.loading&&(a.data&&Object(o.loadMessages)(a.data),u.data&&Object(i.loadFeatures)(u.data),l=!1,d=null,e().then(function(t){(f=t&&t.default)&&f.stage&&function t(){Object(c.getStore)().dispatch(c.actions.api.requestApiRebind())}()}))}return{child:m,params:r||n||{}}}})(m);return g.displayName="Bundle(".concat(s.getName(),")"),n.stagingProcs.push(function(t,n){return g.stage(t,n)}),g},b=new RegExp("^/data/[^/]+/(translations|features)/"),h=function t(n){return!!n&&b.test(n)},Q=0,v=function t(n,e,r){n&&n.stagingProcs&&n.stagingProcs.forEach(function(t){try{t(e,r)}catch(t){Q<5&&(Q+=1,setTimeout(function(){throw t},0))}})},y=function t(n,e,r){var u=function t(){return e()};return u.stage=r?function(t,e){v(n,t,function n(u){return!u||r&&!r(t,u)?a.LOADING_HANDLE:e(u)})}:function(t,e){return v(n,t,e)},e&&e.displayName&&(u.displayName="DataRoot(".concat(e.displayName||e.name||"",")")),u},L=function t(n){return function(t){return n.ssrQueriesList.reduce(function(n,e){return n.concat(e(t))},[])}};n.default=null}}});
//# sourceMappingURL=public.dataroots.e3e99c3d51.js.map