(window.$WP=window.$WP||[]).push({id:"@ta/hotels.review-list-parts",d:["vendor-react-libs","@ta/public.graphql-util","@ta/styleguide.ribbon","ta-platform","ta-common","@ta/hotels.review-list-state","@ta/public.reviews","vendor-babel","@ta/common.text","@ta/public.share-cta","@ta/social.sections","@ta/social.actions","@ta/social.repost-action","@ta/styleguide.skeleton","@ta/common.ajax","@ta/overlays.modal","@ta/overlays.popover","@ta/list.navigable-list","@ta/common.client","@ta/common.grid","@ta/common.dates","@ta/overlays.tooltip","@ta/social.member-event","@ta/media.face-pile","@ta/social.socialproof","@ta/input.text-input","@ta/social.skeletons","@ta/hotels.community-pagination-card","@ta/common.filters","@ta/overlays.slide-in","@ta/input.filter-group","vendor-apollo-libs","@ta/hotels.hotel-review-provider","@ta/overlays.managers"],e:["./packages/hotels/review-list-parts/review-list-parts.jsx"],x:{"./packages/hotels/review-list-parts/review-list-parts.jsx":["connectReview","connectRatingLine","connectReviewTitle","connectExpando","connectInlinePhotos","connectInlineRoomTip","connectSocial","connectMTFooter","connectAdditionalRatings","connectEventDate","connectTripType","connectOwnerResponse","connectAttributionFooter","connectDisclaimerFooter","connectGoogleTranslateButton","connectHeader","connectGoogleTranslateResponseButton","connectResponseDisclaimerFooter","ReviewControlNotice","ConnectionReviewsCTA","createConnectionReviewsQuery","SearchBox","connectReviewList","ReviewFilters","connectHRQuery","REVIEW_LIST_ACTIONS","ReviewRatingFilter","getRatingSelections","HealthAndSafetyFilter","getHealthAndSafetySelections","TravelTypeFilter","getSegmentSelections","TravelTimeFilter","getTimeSelections","LanguageFilter","getLanguageSelections","SearchFilter","ReviewedByRadioFilter","PointsCampaign","SensitiveIssuesBadge","SafetyAlert","FILTER_NAME_RATING","FILTER_NAME_SAFETY","FILTER_NAME_TRAVEL_TYPE","FILTER_NAME_TRAVEL_TIME","FILTER_NAME_LANGUAGE","FILTER_NAME_TEXT","PREF_NAME_SHOWMT","PREF_NAME_SORTTYPE","REVIEW_SORT_DEFAULT","REVIEW_SORT_CONNECTIONS_FIRST","reviewTextEscape","contentLangFromState","getLanguageNames","languageDir","default"]},m:{"./packages/hotels/review-list-parts/review-list-parts.jsx":function(e,t,n){"use strict";n.r(t);var i=n("react"),a=n.n(i),r=n("@ta/public.graphql-util"),l=n("@ta/styleguide.ribbon"),s=n.n(l),o=n("@ta/common.i18n"),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SingleReview_HOTELS_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"absoluteUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mcid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mtProviderId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertStatus"},arguments:[],directives:[]}]}}],loc:{start:0,end:153}};c.loc.source={body:"62b66e75a8ec"};var d=c,u=function e(t){var n=t.reviewList,a=t.review,r=t.injectHeader,l=t.renderPhotos,c=t.renderHeader,d=t.renderMainCol,u=function e(t){if(t.accommodationCategory){if("HOTEL"===t.accommodationCategory)return Object(o.localize)("hotels_favorite");if("COLLAPSED_BB_INN"===t.accommodationCategory)return Object(o.localize)("Innkeepers_Favorite_Review")}return Object(o.localize)("Propertys_Favorite_Review")}(n.locationInfo);return i.createElement("div",{className:"hotels-review-list-parts-SingleReview__reviewContainer--d54T4","data-reviewid":a.id,key:a.id},r||null,c(),i.createElement("div",{className:"hotels-review-list-parts-SingleReview__photoCol--3PjC_"},l()),i.createElement("div",{className:"hotels-review-list-parts-SingleReview__mainCol--2XgHm"},n.preferredReviewIds&&n.preferredReviewIds[0]===a.id?i.createElement(s.a,{type:"flat-right",text:u,color:"primary"}):null,d()))};u.defaultProps={injectHeader:null};var m=function e(t,n){return t.REVIEW_FIELDS.push(Object(r.getFragment)(d,"SingleReview_HOTELS_REVIEW")),function e(t){var a=t.queryProps,r=t.injectHeader;return i.createElement(u,{key:a.review.id,reviewList:a.reviewList,review:a.review,injectHeader:r,renderHeader:function e(){return n.header?n.header(a):null},renderPhotos:function e(){return n.photos?n.photos(a):null},renderMainCol:function e(){return n.mainCol?n.mainCol(a):null}})}},v=n("@ta/styleguide.bubble-rating"),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RatingLine_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishPlatform"},arguments:[],directives:[]}]}}],loc:{start:0,end:84}};p.loc.source={body:"428ccd43536e"};var g=p,f=function e(t){var n=t.rating;return i.createElement("div",{className:"hotels-review-list-parts-RatingLine__bubbles--1oCI4"},n&&i.createElement(v.BubbleRating,{rating:n}))},_=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(g,"RatingLine_HOTELS_REVIEW")),function e(t){var n=t.review;return i.createElement(f,{rating:n.rating})}},h=n("react-redux"),k=n("@ta/common.routing"),w=n("@ta/common.features"),E=n("@ta/hotels.review-list-state"),b=n("@ta/public.reviews"),N={zh:"zhCN",zh_CN:"zhCN",zh_HK:"zhTW",zh_TW:"zhTW"},y=function e(t){return function e(t){var n=t||"en";return N[n]||n.split("_")[0]||"en"}(function e(t){return t&&t.i18n&&t.i18n.locale||"en_US"}(t))},F={"":'<span class="'.concat("hotels-review-list-parts-text__hit--WExss",'">'),"":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=function e(t){return(t||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,function(e){return F[e]||e})},T=function e(t){return t&&t.match(/^(ar|iw)/i)?"rtl":"ltr"},R=function e(t){var n=t.title,a=t.i18nlanguage,r=t.language,l=t.originalLanguage,s=t.translationType,c=t.reviewId,d=t.expandReviews,u=t.url,m={};return"MACHINE"===s&&l&&(m.lang="".concat(a,"-x-mtfrom-").concat(l)),i.createElement("div",{className:"hotels-review-list-parts-ReviewTitle__reviewTitle--2Fauz",dir:T(r)},Object(w.featureIsEnabled)("hr_linked_review_test")?i.createElement(k.Link,{href:u,className:"hotels-review-list-parts-ReviewTitle__reviewTitleText--3QrTy"},i.createElement("span",m,Object(o.unescaped)(S(n||"")))):i.createElement(k.Link,{onClick:function e(t){return d([c],!0),t.preventDefault(),!1},href:u,className:"hotels-review-list-parts-ReviewTitle__reviewTitleText--3QrTy"},i.createElement("span",m,Object(o.unescaped)(S(n||"")))))},I=function e(t){return t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("ReviewTitle_REVIEW","Review",{title:!0,language:"",url:!0})),Object(h.connect)(function(e,t){return{i18nlanguage:e.i18n.language,reviewId:t.review.id,title:t.review.title,language:t.review.language,originalLanguage:t.review.originalLanguage,translationType:t.review.translationType,url:t.review.url}},{expandReviews:E.ACTIONS.expandReviews})(R)},O=n("@babel/runtime/helpers/esm/extends"),C=n.n(O),L=n("@ta/common.text"),j=n("@ta/styleguide.icon"),A=function e(t,n,i){if(!i)return[t];var a=[];return n.forEach(function(e){(e===t||a.length>0)&&a.push(e)}),a.length>0?a:[t]},x=function e(){return i.createElement("div",{className:"hotels-review-list-parts-ExpandableReview__ctaLine--1lhYi"},i.createElement("span",{className:"hotels-review-list-parts-ExpandableReview__cta--3U9OU"},Object(o.localize)("common_Read_more")),i.createElement(j.Icon,{className:"hotels-review-list-parts-ExpandableReview__caret--2Eroy",name:"caret-down"}))},D=function e(){return i.createElement("div",{className:"hotels-review-list-parts-ExpandableReview__ctaLine--1lhYi"},i.createElement("span",{className:"hotels-review-list-parts-ExpandableReview__ctaCollapse--3qWrt"},Object(o.localize)("common_Readless")),i.createElement(j.Icon,{className:"hotels-review-list-parts-ExpandableReview__caret--2Eroy",name:"caret-up"}))},V=function e(t){var n=t.reviewId,a=t.text,r=t.expanded,l=t.pageIds,s=t.children,c=t.expandReviews,d=t.language,u=t.alwaysShowReadMore,m=t.i18nlanguage,v=t.originalLanguage,p=t.translationType,g=t.showFullReviews,f={};return"MACHINE"===p&&v&&(f.lang="".concat(m,"-x-mtfrom-").concat(v)),i.createElement("div",{className:"hotels-review-list-parts-ExpandableReview__containerStyles--2IVer"},i.createElement(L.ReadMore,{collapsible:!0,alwaysShowReadMore:u,cta:x(),ctaCollapse:D(),ctaNewline:!0,initialDivHeight:80,collapsed:!r,clickCallback:function e(t){return"CTA"===t||"CONTENT"===t&&!r?c(A(n,l,!0),!0):"CTA_COLLAPSE"===t&&r&&c(A(n,l,!1),!1),!1},numLinesToShow:4},i.createElement("q",C()({className:"hotels-review-list-parts-ExpandableReview__reviewText--3oMkH"},f),i.createElement(L.DirectionalText,{contentLanguage:d||""},r?Object(o.unescaped)(S(a.trim())):function e(t,n){var a=t.replace(/\n/g," ");if(a.length<=280)return a;var r=a.substr(0,280);if(r=r.substr(0,Math.min(r.length,r.lastIndexOf(" "))),!t.includes("")||r.includes("")){var l=i.createElement("span",{className:"hotels-review-list-parts-ExpandableReview__cutReviewText--2L8NC"},a.substr(r.length,a.length));return i.createElement("span",null,Object(o.unescaped)(S(r)),n?l:"")}var s=a.indexOf(""),c=a.substr(s-280,280),d=Math.max(0,c.indexOf(" "));c=c.substr(d,s-d);var u=i.createElement("span",{className:"hotels-review-list-parts-ExpandableReview__cutReviewText--2L8NC"},a.substr(0,a.indexOf(c)));return i.createElement("span",null,"...",n?u:"",Object(o.unescaped)(S(c)))}(a,g),!r&&a.length>280&&Object(o.unescaped)("&hellip;")))),s&&s(r))},P=function e(t,n,i){return t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("ExpandableReview_REVIEW","Review",{text:!0,language:""})),Object(h.connect)(function(e,t){var a,r;return{i18nlanguage:e.i18n.language,alwaysShowReadMore:i,reviewId:t.review.id,text:t.review.text,language:t.review.language,originalLanguage:t.review.originalLanguage,translationType:t.review.translationType,expanded:((Object(E.getState)(e)||{}).expandedReviews||{})[t.review.id],pageIds:(t.reviewList.reviews||[]).map(function(e){return e.id}),children:function e(i){return n.children&&n.children(t,i)},showFullReviews:0===(null==t?void 0:null===(a=t.reviewList)||void 0===a?void 0:null===(r=a.page)||void 0===r?void 0:r.offset)&&Object(w.featureIsEnabled)("hr_display_full_reviews_on_first_page")}},{expandReviews:E.ACTIONS.expandReviews})(V)};V.defaultProps={alwaysShowReadMore:!1};var z=n("@ta/common.classnames"),M=n.n(z),G=n("@ta/media.image"),B=function e(t){var n=t.photos,a=t.locationId,r=t.geoId,l=n&&n.length-3,s="";if(!n||0===n.length)return null;if(n)switch(n.length){case 1:s=M()("hotels-review-list-parts-SectionThumbnails__flex_item--3dWDF","hotels-review-list-parts-SectionThumbnails__use1x1--2gAAT");break;case 2:s=M()("hotels-review-list-parts-SectionThumbnails__flex_item--3dWDF","hotels-review-list-parts-SectionThumbnails__use2x1--21kO7");break;default:s=M()("hotels-review-list-parts-SectionThumbnails__flex_item--3dWDF","hotels-review-list-parts-SectionThumbnails__use3x1--hpqXQ")}return i.createElement("div",{className:"hotels-review-list-parts-SectionThumbnails__flex_grid--3Js-j"},n&&n.filter(function(e){return!!e}).slice(0,3).map(function(e,t){var n=i.createElement(i.Fragment,null,2===t&&l>0&&i.createElement("span",{className:"hotels-review-list-parts-SectionThumbnails__hasCTA--2Ok00"},"+",l),i.createElement(G.ResponsiveImage,{sources:e.photoSizes,width:"100%",height:"128px"}));return i.createElement("div",{className:s,key:e.id||t,onClick:function t(n){return function i(e,t,n,a){require(["trjs!actions/openRespPhotoViewer"],function(i){i.open(e,e.currentTarget,t,n,a,2)})}(n,a,r,e.id)}},n)}))};B.defaultProps={photos:[],locationId:-1,geoId:-1};var W=B,H={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HotelsInlineReviewPhotos_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"absoluteUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mcid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mtProviderId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statuses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"userProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:300}};H.loc.source={body:"00f7e9466a40"};var q=H,U=function e(t){var n=t.photos,a=t.locationId,r=t.geoId,l=(n||[]).filter(function(e){return!!e&&e.statuses.includes("PUBLISHED")}).slice(0,4);return l&&l.length?i.createElement(W,{photos:l,locationId:a,geoId:r}):null},K=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(q,"HotelsInlineReviewPhotos_REVIEW")),function e(t){var n=t.location,a=t.review;return i.createElement(U,{photos:a.photos,locationId:n&&n.locationId,geoId:n&&n.parentGeoId})}},Q=n("@ta/common.radio"),J=n.n(Q),X=function e(){return J()("hr-community-tab").emit("selectTab","RoomTips",!0),!1},Y=function e(t){var n=t.tipText;return n?i.createElement(i.Fragment,null,i.createElement("div",{className:"hotels-review-list-parts-InlineRoomTip__tipline--2BuK_"},i.createElement("span",{className:"hotels-review-list-parts-InlineRoomTip__tiplead--3YGRC"},Object(o.localize)("room_tip_colon_f4"))," ",Object(o.unescaped)(function e(t,n){if(!t||t.length<=n)return t;if(n<3)return"";var i=t.lastIndexOf(" ",n-3);return i<n/2&&(i=n-3),"".concat(t.substring(0,i),"...")}(n||"",100))),i.createElement("div",{className:"taLnk ".concat("hotels-review-list-parts-InlineRoomTip__linkline--2kVFc"),onClick:X},Object(o.localize)("see_more_room_tips_f4"))):null},Z=function e(t){return t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("InlineRoomTip_REVIEW","Review",{roomTip:""})),function e(t){var n=t.review;return i.createElement(Y,{tipText:n&&n.roomTip})}},$=n("@ta/public.share-cta"),ee=n("@ta/social.sections"),te=n("@ta/social.actions"),ne=n("@ta/social.repost-action"),ie={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SocialBar_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"helpfulVotes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"socialStatistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isReposted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSaved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likeCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repostCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tripCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalNames"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"normal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"long"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longParentAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParentAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longParentStateAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParentStateAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedRaw"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedStateTerritory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedStateTerritoryRaw"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalNames"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"normal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"long"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longParentAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParentAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longParentStateAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longOnlyParentStateAbbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedRaw"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedStateTerritory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviatedStateTerritoryRaw"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SocialBar_LOCATION"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserOwnerStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isValid"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1164}};ie.loc.source={body:"6e94c6233f67"};var ae=ie,re=Object(h.connect)(function(e){return{viewportCategory:e.meta.device.viewportCategory}})(function e(t){var n,a=t.review,r=t.isActiveOwner,l=t.viewportCategory,s={id:a.id,type:a.__typename},c="/OwnerResponse-d".concat(a.locationId,"?review=").concat(a.id),d=r?i.createElement("div",{className:"hotels-review-list-parts-SocialBar__respondCta--SGKBn",onClick:function e(t){window.open(c,"_blank"),t.preventDefault()}},i.createElement(j.Icon,{name:"reply-fill",className:"hotels-review-list-parts-SocialBar__icon--32m7N"}),i.createElement("span",{className:"hotels-review-list-parts-SocialBar__text--2dxB_"},Object(o.localize)("respond_review_cta"))):null;return i.createElement("div",{className:"hotels-review-list-parts-SocialBar__bar--EtXvy"},i.createElement(ee.SocialStatisticsBar,{stats:a.socialStatistics,socialRef:s,socialProofParams:{displayName:(null==a?void 0:null===(n=a.userProfile)||void 0===n?void 0:n.displayName)||(null==a?void 0:a.username)}}),i.createElement(te.SocialActionBar,null,i.createElement(te.LikeAction,{item:a}),i.createElement(te.NestedSocialAction,null,"MOBILE"===l?d:null,a.userProfile&&i.createElement(ne.RepostAction,{modalName:"repost_".concat(a.__typename,"_").concat(a.id),repostPreviewProps:{feedSectionItem:{object:a,reasonFor:null,__typename:"FeedSectionItem"},actor:a.userProfile},actor:a.userProfile,socialStatistics:a.socialStatistics}),Object(w.featureIsEnabled)("social_ugc_share")&&a.route?i.createElement($.ShareCta,{url:"".concat(a.route.url),itemType:"Review",itemId:a.id,styleAsSocialAction:!0,alignEdge:"right"}):i.createElement(te.DisabledSocialAction,{actionType:"Share"})),"MOBILE"!==l?d:null))}),le=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(ae,"SocialBar_REVIEW")),t.LOCATION_FIELDS.push(Object(r.getFragment)(ae,"SocialBar_LOCATION")),function e(t){var n,a=t.review,r=t.location;return i.createElement(re,{review:a,isActiveOwner:(null==r?void 0:null===(n=r.currentUserOwnerStatus)||void 0===n?void 0:n.isValid)||!1})}},se=n("@babel/runtime/helpers/esm/classCallCheck"),oe=n.n(se),ce=n("@babel/runtime/helpers/esm/createClass"),de=n.n(ce),ue=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),me=n.n(ue),ve=n("@babel/runtime/helpers/esm/getPrototypeOf"),pe=n.n(ve),ge=n("@babel/runtime/helpers/esm/inherits"),fe=n.n(ge),_e=n("@ta/styleguide.skeleton"),he=n.n(_e),ke=n("@ta/common.ajax"),we=n("@ta/overlays.modal"),Ee=n("@ta/overlays.popover"),be=n.n(Ee),Ne=n("@ta/common.cdn"),ye=n("@ta/list.navigable-list"),Fe=n("@ta/common.state"),Se={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RateMTFooter_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"absoluteUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mcid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mtProviderId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLanguage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]}]}}],loc:{start:0,end:138}};Se.loc.source={body:"616299a45a10"};var Te=Se,Re=function e(t){return"Review_MTEdit_".concat(t.id)},Ie=function e(t,n){var a=[];return n.forEach(function(e,n){a.push(function(a,r){return i.createElement(ye.NavigableListItem,{onSelection:function e(){return t(n)},onMouseMove:r,active:a,key:n},i.createElement("div",{className:a?"hotels-review-list-parts-RateMTFooter__activeOption--vTT_h":"hotels-review-list-parts-RateMTFooter__option--2Zgxt"},e))})}),function e(){return i.createElement(ye.NavigableList,null,a)}},Oe=function(e){function t(e){var n;return oe()(this,t),(n=me()(this,pe()(t).call(this,e))).state={doneRate:!1,doneEdit:!1},n}return fe()(t,e),de()(t,[{key:"onRate",value:function e(t){this.setState({doneRate:!0}),this.props.userId&&fetch("/RateUserReviewSlider?at=true&rateValue=".concat(this.props.review.id,",").concat(this.props.userId,",").concat(t),{method:"GET",credentials:"same-origin"})}},{key:"onEdit",value:function e(){this.props.showOverlay(Re(this.props.review))}},{key:"render",value:function e(){var t=this,n=this.props,a=n.review,r=n.readonlyMode,l=n.showOverlay,s=this.state,c=s.doneEdit,d=s.doneRate;if(!a||"MACHINE"!==a.translationType)return null;var u=a.mtProviderId||-1;if(u<=0)return null;var m=!r&&!c&&a.rating>=3;return i.createElement("div",{className:"hotels-review-list-parts-RateMTFooter__mtFooter--2MaH9"},i.createElement(b.MTProviderLogo,{providerId:u}),c?i.createElement("span",{className:"hotels-review-list-parts-RateMTFooter__mtThanks--3AScK"},i.createElement("span",{className:"sprite-grayAmenities fl"}),Object(o.localize)("mtedit_thank_you")):null,d&&!c?i.createElement("span",{className:"hotels-review-list-parts-RateMTFooter__mtThanks--3AScK"},i.createElement("span",{className:"sprite-grayAmenities fl"}),Object(o.localize)("mt_rating_thanks_13a4")):null,d||c?null:i.createElement("div",{className:"hotels-review-list-parts-RateMTFooter__inlinify--3HJnx"},i.createElement(be.a,{arrowType:"none",closeButton:!1,below:!0,contents:Ie(function(e){return t.onRate(5-2*e)},[i.createElement("span",{className:"hotels-review-list-parts-RateMTFooter__rateItem--3SQUv"},i.createElement(Ne.CdnImage,{src:"/img2/x.gif",className:"".concat("hotels-review-list-parts-RateMTFooter__good_face--2g_wC"," ").concat("hotels-review-list-parts-RateMTFooter__face--3hLd3")})," ",Object(o.localize)("mt_rating_good_13a4")),i.createElement("span",{className:"hotels-review-list-parts-RateMTFooter__rateItem--3SQUv"},i.createElement(Ne.CdnImage,{src:"/img2/x.gif",className:"".concat("hotels-review-list-parts-RateMTFooter__ok_face--1642_"," ").concat("hotels-review-list-parts-RateMTFooter__face--3hLd3")})," ",Object(o.localize)("user_improved_mt_reviews_4_233a")),i.createElement("span",{className:"hotels-review-list-parts-RateMTFooter__rateItem--3SQUv"},i.createElement(Ne.CdnImage,{src:"/img2/x.gif",className:"".concat("hotels-review-list-parts-RateMTFooter__bad_face--3Ur1T"," ").concat("hotels-review-list-parts-RateMTFooter__face--3hLd3")})," ",Object(o.localize)("mt_rating_bad_13a4"))])},function(e,t){return i.createElement("div",{ref:e,className:"ui_button small ui_link standard ".concat("hotels-review-list-parts-RateMTFooter__rateButton--BzveU"),onClick:t},Object(o.localize)("machine_translated_rate_review")," ",i.createElement(j.Icon,{name:"caret-down"}))})),i.createElement(we.Modal,{name:Re(this.props.review)},i.createElement("div",{className:"hotels-review-list-parts-RateMTFooter__mtEditContainer--d8HeS"},i.createElement(ke.AjaxRequest,{url:"/MachineTranslationEdit?r=".concat(a.id),responseType:"html"},function(e){var t=e.loading,n=e.data;return t||!n?i.createElement(he.a,{height:"300px",marginTop:"16px"}):i.createElement("div",{dangerouslySetInnerHTML:{__html:n},ref:function e(t){return function e(t,n,i){if(t){var a=t;if(!a.getAttribute("data-bound")){a.setAttribute("data-bound","true");var r=function e(t){var n=a.querySelector(t);return n?n.value:null},l=function e(t,n){var i=a.querySelector(t);i&&(i.style.display=n?"block":"none")},s=function e(t,n){var i=a.querySelector(t);i&&!!i.disabled!=!n&&(i.disabled=!n)},o=function e(){var t=r(".mtedit_orig_title"),n=r("#mtedit_mt .mtedit_title"),i=r(".mtedit_orig_text"),a=r("#mtedit_mt .mtedit_text");return n&&a&&(n!==t||a!==i)},c=function e(){o()?s("#mtedit_submit",!0):s("#mtedit_submit",!1)},d=function e(t,n){var i=a.querySelector(t);i&&(i.onclick=n)},u=function e(t,n){var i=a.querySelector(t);i&&(i.onkeyup=n)},m=function e(){return i(null),!1};d(".mtedit_buttons .ui_button.secondary",m),d("#mtedit_submit",function e(){if(s("#mtedit_submit",!1),o()){var t=r("#mtedit_mt .mtedit_title"),i=r("#mtedit_mt .mtedit_text"),c=a.querySelector("#mtedit_mt"),d=c&&c.getAttribute("data-token");if(!(c&&t&&i&&d))return;fetch("/MachineTranslationEditSubmit?r=".concat(n.id),{method:"POST",credentials:"same-origin",body:new URLSearchParams({title:t,body:i,token:d})}).then(function(e){e.ok?(l("#mtedit",!1),l("#mtedit_received",!0)):e.status>=400&&e.status<500?l("#mtedit_404",!0):(l("#mtedit_500",!0),s("#mtedit_submit",!0))})}}),d(".mtedit_ok button",m),u("#mtedit_mt .mtedit_title",c),u("#mtedit_mt .mtedit_text",c),c()}}}(t,a,l)}})}))),m?i.createElement("div",{className:"ui_button small ui_link standard ".concat("hotels-review-list-parts-RateMTFooter__improveButton--2bzcX"),onClick:function e(){return t.onEdit()}},Object(o.localize)("user_improved_mt_reviews_1_233a")):null)}}]),t}(i.Component),Ce=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(Te,"RateMTFooter_REVIEW")),t.LOCATION_FIELDS.push(null),Object(h.connect)(function(e,t){return{review:t.review,readonlyMode:e.meta.readonlyMode,userId:e.auth.loggedInUserId||e.auth.altSessId}},{showOverlay:Fe.actions.overlays.showGlobalOverlay})(Oe)},Le={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdditionalRatings_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"additionalRatings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingLabel"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:101}};Le.loc.source={body:"943d5454859b"};var je=Le,Ae=function e(t){var n=t.additionalRatings;return t.isLoading?i.createElement(he.a,{height:"10px",marginTop:"10px"}):i.createElement(i.Fragment,null,n&&n.length?i.createElement("div",{className:"hotels-review-list-parts-AdditionalRatings__ratings--2usnH"},n.map(function(e){return i.createElement("div",{className:"hotels-review-list-parts-AdditionalRatings__rating--3lBgs",key:e.ratingLabel},i.createElement("span",{className:"hotels-review-list-parts-AdditionalRatings__bubbleRating--1xiOo"},i.createElement(v.BubbleRating,{rating:e.rating})),i.createElement("span",null,Object(o.localize)(e.ratingLabel)))})):i.createElement(i.Fragment,null))};Ae.defaultProps={additionalRatings:null};var xe=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(je,"AdditionalRatings_REVIEW")),function e(t){var n=t.review;return i.createElement(Ae,{isLoading:!1,additionalRatings:n.additionalRatings})}},De={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EventDate_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tripInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stayDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:101}};De.loc.source={body:"3bb4f4a83659"};var Ve=De,Pe=function e(t){var n=t.stayDate,a=t.placeType;if(n){var r=function e(t,n){switch(t){case"ACCOMMODATION":return Object(o.localize)("Date_of_stay",n);case"AIRLINE":return Object(o.localize)("Date_of_travel",n);case"ACTIVITY":case"ATTRACTION":return Object(o.localize)("Date_of_experience",n);case"EATERY":return Object(o.localize)("Date_of_visit",n)}return""}(a,{0:"hotels-review-list-parts-EventDate__bold--LcLMP",1:o.globalize.formatDate("date_full_month_year",new Date(n))});return i.createElement("div",{className:"hotels-review-list-parts-EventDate__event_date--CRXs4"},Object(o.unescaped)(r))}return null},ze=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(Ve,"EventDate_REVIEW")),function e(t){var n=t.review;return i.createElement(Pe,{stayDate:n.tripInfo&&n.tripInfo.stayDate,placeType:n.location&&n.location.placeType})}},Me={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TripType_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tripInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tripType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:69}};Me.loc.source={body:"e94e47135836"};var Ge=Me,Be=function e(t){var n,a,r=t.isLoading,l=t.tripType;if(r)return i.createElement(he.a,{height:"10px",marginTop:"10px"});switch(l){case"BUSINESS":a=1;break;case"COUPLES":a=2;break;case"FAMILY":a=3;break;case"FRIENDS":a=4;break;case"SOLO":a=5;break;default:a=null}if(a){var s=Object(o.localize)("triptype_desc_sentence",{0:a});n=Object(o.localize)("trip_type_sentence",{0:s})}return n?i.createElement("div",{className:"hotels-review-list-parts-TripType__trip_type--2cnp7"},Object(o.unescaped)(n)):null};Be.defaultProps={tripType:null};var We=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(Ge,"TripType_REVIEW")),function e(t){var n=t.review;return i.createElement(Be,{tripType:n.tripInfo&&n.tripInfo.tripType,isLoading:!1})}},He=n("@babel/runtime/helpers/esm/assertThisInitialized"),qe=n.n(He),Ue=n("@babel/runtime/helpers/esm/defineProperty"),Ke=n.n(Ue),Qe=n("@ta/common.client"),Je=n("@ta/common.grid"),Xe=n("@ta/common.dates"),Ye=n("@ta/styleguide.avatar"),Ze=fetch("/static/decodeKey.txt",{method:"HEAD",redirect:"error",credentials:"same-origin"}).then(function(e){return!!e.ok}).catch(function(){return!1}),$e=function e(){return Ze},et=function e(){return i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__ctaLine--3NwTr"},i.createElement("span",{className:"hotels-review-list-parts-OwnerResponse__cta--2fbwa"},Object(o.localize)("common_Read_more")),i.createElement(j.Icon,{className:"hotels-review-list-parts-OwnerResponse__caret--3moJ2",name:"caret-down"}))},tt=function e(){return i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__ctaLine--3NwTr"},i.createElement("span",{className:"hotels-review-list-parts-OwnerResponse__ctaCollapse--1J_TZ"},Object(o.localize)("common_Readless")),i.createElement(j.Icon,{className:"hotels-review-list-parts-OwnerResponse__caret--3moJ2",name:"caret-up"}))},nt=function(e){function t(){var e,n;oe()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=me()(this,(e=pe()(t)).call.apply(e,[this].concat(a))),Ke()(qe()(qe()(n)),"state",{isDecodeSafe:void 0}),Ke()(qe()(qe()(n)),"componentDidMount",function(){$e().then(function(e){n.isUnmounted||n.setState({isDecodeSafe:e})}).catch(function(){return!1})}),Ke()(qe()(qe()(n)),"componentWillUnmount",function(){n.isUnmounted=!0}),Ke()(qe()(qe()(n)),"isUnmounted",!1),n}return fe()(t,e),de()(t,[{key:"render",value:function e(){var t=this.props,n=t.username,a=t.connectionToSubject,r=t.publishedDate,l=t.locationName,s=t.reviewId,c=t.text,d=t.language,u=t.expanded,m=t.header,v=t.expandReviews,p=t.translationType;if(!c||"MACHINE"===p&&!this.state.isDecodeSafe)return null;var g=u?c:c.replace(/\n/g," "),f=i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__containerStyles--JcM5F"},i.createElement(Je.Columns,{gapless:!0,multiline:!0},i.createElement(Je.Column,{mobile:{width:1},tablet:{width:1},desktop:{width:1}},i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__ownerAvatar--25a8t"},i.createElement(Ye.Avatar,{size:"small",display:"inline",alt:"",withBorder:!0}))),i.createElement(Je.Column,{mobile:{width:12},tablet:{width:10},desktop:{width:10}},i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__header--2FHYg"},n&&a&&Object(o.localize)("hsx_management_response_header",{0:n,1:a,2:l}),r&&i.createElement("div",{className:"hotels-review-list-parts-OwnerResponse__responseDate--3t9J6",title:r},Object(Xe.shouldUseRelativeDate)(new Date(r))?Object(o.localize)("relative_dates_responded_caps",{0:Object(Xe.renderRelativeDate)(new Date(r))}):Object(o.localize)("absolute_dates_responded_caps",{0:Object(Xe.renderAbsoluteDate)(new Date(r))}))),m&&m(u),i.createElement(L.ReadMore,{collapsible:!0,cta:et(),ctaCollapse:tt(),ctaNewline:!0,collapsed:!u,initialDivHeight:20,clickCallback:function e(t){return"CTA"===t||"CONTENT"===t&&!u?v([s],!0):"CTA_COLLAPSE"===t&&u&&v([s],!1),!1},numLinesToShow:3},i.createElement("span",{className:"hotels-review-list-parts-OwnerResponse__reviewText--28Wat"},i.createElement(L.DirectionalText,{contentLanguage:d||""},Object(o.unescaped)(S(g))))))));return"MACHINE"===p?i.createElement(Qe.ClientOnly,null,f):f}}]),t}(i.Component),it=function e(t,n){return t.LOCATION_FIELDS.push(Object(r.fragmentFromTemplate)("OwnerResponse_LOCATION","LocationInformation",{name:""})),t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("OwnerResponse_REVIEW","Review",{text:"",publishedDate:"",username:"",connectionToSubject:"",language:"",mgmtResponse:{id:0,text:"",language:"",publishedDate:"",username:"",connectionToSubject:""}})),Object(h.connect)(function(e,t){var i=t.location||{},a=t.review||{},r=a.mgmtResponse||{};return{reviewId:a.id,username:r.username,connectionToSubject:r.connectionToSubject,publishedDate:r.publishedDate,locationName:i.name,text:r.text,language:r.language,translationType:a.translationType,header:n.header&&function(e){return n.header?n.header(t,e):null},expanded:((Object(E.getState)(e)||{}).expandedReviews||{})[a.id]}},{expandReviews:E.ACTIONS.expandReviews})(nt)},at=n("@ta/overlays.tooltip"),rt=n.n(at),lt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AttributionFooter_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mcid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attribution"},arguments:[],directives:[]}]}}],loc:{start:0,end:82}};lt.loc.source={body:"100c48086019"};var st=lt,ot=function e(t){var n,a=t.mcid,r=t.attribution;return a&&(r||""===r)?(n=r?Object(o.localize)("RCP_attribution_branded_fffff20a",{0:r}):Object(o.localize)("RCP_attribution_generic_hotel_fffff20a"),i.createElement("div",{className:"hotels-review-list-parts-AttributionDisclaimer__disclaimer--2mPy6"},n,i.createElement("div",{className:"hotels-review-list-parts-AttributionDisclaimer__question_wrapper--2GyC7"},i.createElement(rt.a,{above:!0,message:Object(o.localize)("rcp_review_attribution_update")},function(e){return i.createElement("div",{ref:e},i.createElement(i.Fragment,null,i.createElement(j.Icon,{name:"question-circle",className:"hotels-review-list-parts-AttributionDisclaimer__question--3TCeP"})))})))):null},ct=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(st,"AttributionFooter_REVIEW")),function e(t){var n=t.review;return i.createElement(ot,{attribution:n.attribution,mcid:n.mcid})}},dt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DisclaimerFoot_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"translationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentGeoId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLocalProvider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isToolsProvider"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"original"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submissionDomain"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:260}};dt.loc.source={body:"644a360c9133"};var ut=dt;function mt(e){var t=e||"tripadvisor.com";return t.endsWith("daodao.com")&&(t="tripadvisor.cn"),t.startsWith("www")||(t="www.".concat(t)),t}var vt=function e(t){var n=t.review,a=function r(e,t,n,i){var a;if(a=e.isLocalProvider?Object(o.localize)("userreviewbody_26ec"):e.isToolProvider?Object(o.localize)("userreview_disclaimer_lp_fffffa56"):Object(o.localize)("userreview_25ed"),"HUMAN"===t){var r=Object(b.getLanguageNames)()[n||"en"]||n||"en";a+=Object(o.localize)("userreview_92d",{0:r,1:mt(i)})}return a}(n.provider,n.translationType,n.original?n.original.language:null,n.original?n.original.submissionDomain:null),l=function s(e){return"HUMAN"===e.translationType&&e.original?i.createElement("a",{href:e.original.url},Object(o.localize)("userreview_92e")):null}(n);return a?i.createElement("div",{className:"hotels-review-list-parts-DisclaimerFoot__disclaimer--2Mmz3"},a,l):null},pt=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(ut,"DisclaimerFoot_REVIEW")),function e(t){var n=t.review;return i.createElement(vt,{review:n})}},gt=n("@ta/styleguide.button"),ft=n.n(gt),_t=function e(t){var n=t.myLang,a=t.sourceLang,r=t.locationId,l=t.geoId,s=t.reviewId,c=t.reviewTranslationType,d=t.showOverlay,u=t.isReviewText;if(c||!(n&&a&&r&&l&&s))return null;if(n.substring(0,2)===a.substring(0,2))return null;var m=a;/^zh..$/.test(a)&&(m="".concat(a.substring(0,2),"-").concat(a.substring(2)));var v="/MachineTranslation?g=".concat(l,"&d=").concat(r,"&r=").concat(s,"&page=review&sl=").concat(m,"&tl=").concat(n),p="GoogleTranslation_".concat(s);return i.createElement("div",{className:M()("hotels-review-list-parts-GoogleTranslateButton__buttonDiv--1ajN4",u?"hotels-review-list-parts-GoogleTranslateButton__reviewText--374rE":null)},i.createElement(ft.a,{type:"secondary",size:"small",onClick:function e(){return d(p)}},Object(o.localize)("mobile_google_translation")),i.createElement(we.Modal,{name:p},i.createElement("div",{className:"hotels-review-list-parts-GoogleTranslateButton__overlayContainer--ALpi8"},i.createElement(ke.AjaxRequest,{url:v,responseType:"html"},function(e){var t=e.loading,n=e.data;return t||!n?i.createElement(he.a,{height:"300px",marginTop:"16px"}):i.createElement("div",{className:"hotels-review-list-parts-GoogleTranslateButton__translateModal--3UPb6",dangerouslySetInnerHTML:{__html:n}})}))))};_t.defaultProps={isReviewText:!1};var ht=function e(t){return t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("GoogleTranslateButton_REVIEW","Review",{language:"",translationType:""})),t.LOCATION_FIELDS.push(Object(r.fragmentFromTemplate)("GoogleTranslateButton_LOCATION","LocationInformation",{parentGeoId:0})),Object(h.connect)(function(e,t){return{myLang:y(e),sourceLang:t.review&&t.review.language||void 0,reviewTranslationType:t.review&&t.review.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.id||void 0,isReviewText:!0}},{showOverlay:Fe.actions.overlays.showGlobalOverlay})(_t)},kt=function e(t){return t.REVIEW_FIELDS.push(Object(r.fragmentFromTemplate)("GoogleTranslateResponseButton_REVIEW","Review",{language:"",translationType:"",mgmtResponse:{id:0,language:"",translationType:""}})),t.LOCATION_FIELDS.push(Object(r.fragmentFromTemplate)("GoogleTranslateResponseButton_LOCATION","LocationInformation",{parentGeoId:0})),Object(h.connect)(function(e,t){return{myLang:y(e),sourceLang:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.language||void 0,reviewTranslationType:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.id||void 0,isReviewText:!1}},{showOverlay:Fe.actions.overlays.showGlobalOverlay})(_t)},wt=n("@ta/social.member-event"),Et={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Header_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"userId"},name:{kind:"Name",value:"id"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"static"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"isMe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hometown"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalNames"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"long"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"contributionCounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sumAllUgc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"helpfulVote"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:578}};Et.loc.source={body:"0be3d16d80c4"};var bt=Et,Nt=function e(t){var n=t.review;return n?i.createElement("div",{className:"hotels-review-list-parts-ReviewCardHeader__padding--R2JnR"},i.createElement(wt.MemberEventOnObjectBlock,{objectEventType:"onFullReview",object:n,actor:n.userProfile||{},isEmbedded:!1})):null},yt=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(bt,"Header_REVIEW")),function e(t){var n=t.review;return i.createElement(Nt,{review:n})}},Ft={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseDisclaimerFoot_REVIEW"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Review"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mgmtResponse"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLocalProvider"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:118}};Ft.loc.source={body:"9d27cb85b721"};var St=Ft,Tt=function e(t){var n=t.review,a=function r(e,t){return e?t&&t.isLocalProvider?Object(o.localize)("userreviewbody_26eb"):Object(o.localize)("userreviewbody_25ed"):null}(n.mgmtResponse,n.provider);return a?i.createElement("div",{className:"hotels-review-list-parts-ResponseDisclaimerFooter__disclaimer--2byqt"},a):null},Rt=function e(t){return t.REVIEW_FIELDS.push(Object(r.getFragment)(St,"ResponseDisclaimerFoot_REVIEW")),function e(t){var n=t.review;return i.createElement(Tt,{review:n})}},It={french_disclaimer:"hotels-review-list-parts-ReviewControlNotice__french_disclaimer--3LEPA",french_disclaimer_icon:"hotels-review-list-parts-ReviewControlNotice__french_disclaimer_icon--qmCOH",french_disclaimer_popover:"hotels-review-list-parts-ReviewControlNotice__french_disclaimer_popover--19c2C",inlinify:"hotels-review-list-parts-ReviewControlNotice__inlinify--1vxST"};function Ot(){return i.createElement("div",{className:It.french_disclaimer_popover},Object(o.localize)("Disclaimer_Reviews_Control_Hamon_FR")," ",i.createElement("a",{href:"/pages/service.html"},Object(o.localize)("hotel_info_about_service")," "))}var Ct=function Lt(){return Object(w.featureIsEnabled)("hamon_fr")?i.createElement("div",{className:It.french_disclaimer},i.createElement("div",{className:It.inlinify},i.createElement(be.a,{below:!0,closeButton:!1,contents:function e(){return i.createElement(Ot,null)}},function(e,t){return i.createElement("div",{ref:e,onClick:t,className:It.french_disclaimer_icon},i.createElement(j.Icon,{name:"question-circle"}))})),Object(o.localize)("CTA_Review_Control_Hamon_FR")):null},jt=n("@ta/media.face-pile"),At=n("@ta/common.tracking"),xt=n.n(At),Dt=n("@ta/social.socialproof"),Vt=["rating","safety","travelType","travelTime","language","text"],Pt={RATING:"rating",ALERT_STATUS:"safety",SEGMENT:"travelType",MONTH:"travelTime",LANGUAGE:"language",TEXT:"text"},zt=function e(t,n){return Object(Dt.createContributionsQuery)(t,{locationId:n})},Mt=Object(h.connect)(function(){return{}},{setSort:function e(){return E.ACTIONS.setPrefs(Ke()({},"sortType","connectionsFirst"))}})(function e(t){var n=t.locationId,a=t.setSort;return i.createElement(Dt.LocationContributionsPoller,{locationId:n},function(e,t){if(t||!e||!e.locations||!e.locations[0]||!e.locations[0].name)return null;var n=e.connectionContributions.contributionsByLocation[0],r=n.userReviewContributions[0],l=["",Object(o.localize)("common_Terrible"),Object(o.localize)("common_Poor"),Object(o.localize)("common_Average"),Object(o.localize)("common_Verygood_fffffabd"),Object(o.localize)("common_Excellent")],s=r.userDisplayInformation.fullname?r.userDisplayInformation.fullname:r.userDisplayInformation.username,c=n.userReviewContributions.map(function(e){return e.userDisplayInformation}).filter(function(e,t,n){return t===n.findIndex(function(t){return t.userId===e.userId})}),d=c.map(function(e){return{withBorder:!0,size:"small",photo:{photoSizes:[{url:e.avatarUrl,width:100,height:100}]}}}),u=l[r.rating],m=c.length>1?Object(o.localize)("socialproof_friends_visited_non_geo",{name_class:"hotels-review-list-parts-ConnectionReviewsCTA__bold_name--1NcGr",n_connections_class:"hotels-review-list-parts-ConnectionReviewsCTA__bold_name--1NcGr",userName:s,numConnections:c.length-1,POI:e.locations[0].name}):Object(o.localize)("hr_connection_reviewed_single_see_said",{name_class:"hotels-review-list-parts-ConnectionReviewsCTA__bold_name--1NcGr",userName:s,rating_class:"hotels-review-list-parts-ConnectionReviewsCTA__bold_name--1NcGr",ratingCategory:u});return i.createElement(At.Track,{click:{module:"reviews_social",action:"click_social_header",once:!0}},i.createElement("div",{className:"hotels-review-list-parts-ConnectionReviewsCTA__pile_and_copy_wrap--1kGJY"},i.createElement("div",{className:"hotels-review-list-parts-ConnectionReviewsCTA__facepile_wrap--36Qyy"},Object(jt.FacePile)({avatarProps:d,maxFaces:7})),i.createElement("div",null,i.createElement("div",{dangerouslySetInnerHTML:{__html:m}}),i.createElement("div",{className:"hotels-review-list-parts-ConnectionReviewsCTA__cta_green--36ya5",onClick:function e(){return function e(t){var n=document&&document.getElementById("REVIEWS");n&&n.scrollIntoView(!0),t()}(a)}},Object(o.localize)("socialproof_see_their_activity",{numPeople:c.length}),i.createElement(j.Icon,{name:"single-chevron-right-circle-fill",className:"hotels-review-list-parts-ConnectionReviewsCTA__cta_icon--2Xcui"})))))})}),Gt=n("@babel/runtime/helpers/esm/objectSpread"),Bt=n.n(Gt),Wt=n("@ta/input.text-input"),Ht=function e(t){return i.createElement("div",{className:"hotels-review-list-parts-ReviewSearchTextInput__wrapper--Wlmd3"},i.createElement(j.Icon,{name:"search",className:"hotels-review-list-parts-ReviewSearchTextInput__icon--SzhB-"}),i.createElement(Wt.TextInput,Bt()({},t,{className:M()("hotels-review-list-parts-ReviewSearchTextInput__input--4v9KG",t.className)})),t.value&&i.createElement("span",{onClick:t.onCTAClick},i.createElement(j.Icon,{name:"times-circle-fill",className:"hotels-review-list-parts-ReviewSearchTextInput__ctaIcon--wCQqP"})))},qt=function e(t){var n=t.text||[],i=[],a=[];return n.forEach(function(e){"TEXT"===e.axis&&e.selections&&e.selections.forEach(function(e){e&&(a.push(e),e.split(" ").forEach(function(e){e&&""!==e&&i.push(e)}))})}),i.length<1?[]:[{index:0,param:"text",value:a.join(","),label:i.join(" "),tracker:""}]},Ut={setQuery:function e(t){var n=(t||"").trim();return""===n?E.ACTIONS.changeFilters(Ke()({},"text",[])):E.ACTIONS.changeFilters(Ke()({},"text",[{axis:"TEXT",selections:[n]}]))},clearFilters:E.ACTIONS.clearFilters},Kt=function(e){function t(e){var n;return oe()(this,t),n=me()(this,pe()(t).call(this,e)),Ke()(qe()(qe()(n)),"onCTAClick",function(){n.onSubmit(null,"")}),n.state={value:e.query,query:e.query},n}return fe()(t,e),de()(t,null,[{key:"getDerivedStateFromProps",value:function e(t,n){return t.query!==n.query?{value:t.query,query:t.query}:null}}]),de()(t,[{key:"onSubmit",value:function e(t,n){n!==this.state.query?(this.setState({value:n}),this.props.setQuery(n),xt()({module:"Reviews_Controls",action:"click_search",context:n})):n!==this.state.value&&this.setState({value:n})}},{key:"onChange",value:function e(t,n){this.setState({value:n})}},{key:"onKey",value:function e(t,n){"Enter"===t.key&&this.onSubmit(t,n)}},{key:"render",value:function e(){var t=this;return i.createElement(i.Fragment,null,i.createElement(Ht,{placeholder:Object(o.localize)("Search_reviews_248"),value:this.state.value,onChange:function e(n,i){return t.onChange(n,i)},onKeyUp:function e(n,i){return t.onKey(n,i)},onBlur:function e(n,i){return t.onSubmit(n,i)},onCTAClick:this.onCTAClick}))}}]),t}(i.Component),Qt=Object(h.connect)(function e(t,n){var i=[],a=n.reviewList.filters.text||[],r=n.reviewList.filters.language||[];a.forEach(function(e){"TEXT"===e.axis&&e.selections&&e.selections.forEach(function(e){e&&e.split(" ").forEach(function(e){e&&""!==e&&i.push(e)})})});var l="en"===y(t);return r.forEach(function(e){"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(function(e){e&&""!==e&&"en"!==e&&(l=!1)})}),Bt()({},n,{keywords:l?n.reviewList.keywords:[],query:i.join(" ")})},Ut)(Kt),Jt=n("@ta/social.skeletons"),Xt=n("@ta/hotels.community-pagination-card"),Yt=n.n(Xt),Zt=Object(h.connect)(function(e,t){return{showMT:!1!==t.reviewList.prefs.showMT}},{mtOn:function e(){return E.ACTIONS.setPrefs(Ke()({},"showMT",!0))},mtOff:function e(){return E.ACTIONS.setPrefs(Ke()({},"showMT",!1))}})(function e(t){var n=t.showMT,a=t.mtOn,r=t.mtOff;return i.createElement("div",{className:"hotels-review-list-parts-MachineTranslationHeader__mt_wrap--2zH53"},i.createElement("span",{className:"hotels-review-list-parts-MachineTranslationHeader__qtext--23bjb"},Object(o.localize)("machine_translated_review_display_toggle"))," ",i.createElement("div",{className:"ui_radio"},i.createElement("input",{type:"radio",id:"autoTranslateYes",value:"true",checked:n,onChange:a}),i.createElement("label",{htmlFor:"autoTranslateYes"},Object(o.localize)("common_Yes"))),i.createElement("div",{className:"ui_radio"},i.createElement("input",{type:"radio",id:"autoTranslateNo",value:"false",checked:!n,onChange:r}),i.createElement("label",{htmlFor:"autoTranslateNo"},Object(o.localize)("common_No"))),i.createElement(rt.a,{above:!0,alignEdge:"right",message:Object(o.localize)("machine_translated_google_disclaimer")},function(e){return i.createElement("span",{ref:e,className:"ui_icon question-circle-fill ".concat("hotels-review-list-parts-MachineTranslationHeader__tip--1KwKL")})}))}),$t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewListView_LOCATION"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentGeoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accommodationCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserOwnerStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isValid"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:154}};$t.loc.source={body:"f52b41674075"};var en,tn=$t,nn=function e(t){var n=t.reviewList,a=t.renderReview,r=t.clearFilters,l=t.listQueryProps,s=n.reviews;if(!s)return i.createElement(Jt.FeedLoadingSkeleton,{numSections:5});var c=-1;if(s.length>0)for(var d=0;d<s.length;++d)if("MACHINE"===s[d].translationType||"MACHINE_SOURCE"===s[d].translationType){c=s[d].id;break}if(s.length<1)return i.createElement("div",{className:"ui_alert warning ".concat("hotels-review-list-parts-ReviewListView__no_results_alert--3kljL"),onClick:r},Object(o.unescaped)("".concat(Object(o.localize)("no_results_found")," ").concat(Object(o.localize)("p13n_reviews_no_results_with_query_and_filters_2"))));var u=function e(t){return t.id===c?i.createElement(Zt,{reviewList:n}):null};return i.createElement(i.Fragment,null,s.map(function(e){return a?a({queryProps:Bt()({},l,{review:e}),injectHeader:u(e)}):null}))},an=function(e){function t(){return oe()(this,t),me()(this,pe()(t).apply(this,arguments))}return fe()(t,e),de()(t,[{key:"render",value:function e(){var t=this.props,n=t.renderHeader,a=t.listQueryProps,r=t.reviewList,l=t.renderReviewFilters,s=t.renderSearchBox,o=t.renderReview,c=t.clearFilters,d=t.changePage;return t.initialRelativeUrl,i.createElement(i.Fragment,null,n?n(a):null,r.hasReviews||r.isLoading?i.createElement(i.Fragment,null,l?l({reviewList:r}):null,s?s({reviewList:r}):null,i.createElement(nn,{reviewList:r,renderReview:o,clearFilters:c,listQueryProps:a})):null,r.totalCount&&r.totalCount>5&&r.page?i.createElement(Yt.a,{total:r.totalCount,limit:r.page.limit,offset:r.page.offset,module:"Reviews",onClick:function e(t,n){d(t),n.preventDefault()},url:function e(t){return Object(b.getReviewsUrl)(window.location.pathname,t.offset)}}):null)}}]),t}(i.PureComponent),rn=function e(t,n){return t.LOCATION_FIELDS.push(Object(r.getFragment)(tn,"ReviewListView_LOCATION")),Object(h.connect)(function(e,t){return{reviewList:t.reviewList,listQueryProps:t,renderHeader:n.reviewListHeader,renderReview:n.review,renderReviewFilters:n.reviewFilters,renderSearchBox:n.searchBox,initialRelativeUrl:e.meta.initialRelativeUrl}},{changePage:E.ACTIONS.changePage,clearFilters:E.ACTIONS.clearFilters})(an)},ln=n("@babel/runtime/helpers/esm/toConsumableArray"),sn=n.n(ln),on=n("@ta/common.filters"),cn=n("@ta/overlays.slide-in"),dn=n.n(cn),un=n("@ta/input.filter-group"),mn=function e(t){var n=t.children;return i.createElement("div",{className:M()("ui_header","h3","hotels-review-list-parts-FilterHeader__header--2cKCS")},i.createElement("span",{className:"hotels-review-list-parts-FilterHeader__text--3GNRE"},n))},vn="hotels-review-list-parts-ReviewFilter__filter_table--aaFCz",pn="hotels-review-list-parts-ReviewFilter__row_label--1A-0n",gn="hotels-review-list-parts-ReviewFilter__filter_row--2sfwt",fn=function e(){return[Object(o.localize)("common_Terrible"),Object(o.localize)("common_Poor"),Object(o.localize)("common_Average"),Object(o.localize)("common_Good"),Object(o.localize)("common_Excellent")]},_n=function e(t){var n=t.rating||[],i={},a=[],r=fn();n.forEach(function(e){"RATING"===e.axis&&e.selections&&e.selections.forEach(function(e){i[e]=!0})});for(var l=5;l>=1;--l)i[l]&&a.push({index:0,param:"rating",value:String(l),label:r[l-1],tracker:""});return a},hn=Object(h.connect)(function(e,t){return t},{changeFilters:E.ACTIONS.changeFilters})(function e(t){var n=t.reviewList,a=t.displayType,r=t.changeFilters,l=n.ratingCounts,s=l.reduce(function(e,t){return e+t},0),c=[],d=[],u={},m=fn();(n.filters.rating||[]).forEach(function(e){"RATING"===e.axis&&e.selections&&e.selections.forEach(function(e){u[e]=!0})});for(var v=function e(t){var n=String(t);u[n]=!u[n];var i=Object.keys(u).filter(function(e){return u[e]}).sort();i.length?r(Ke()({},"rating",[{axis:"RATING",selections:i}])):r(Ke()({},"rating",[])),xt()({module:"Reviews_Controls",action:"click_ta_rating",context:n,value:u[n]?1:0})},p=function e(t){var n=0;s>0&&(n=100*l[t-1]/s),c.push(i.createElement("li",{className:"ui_checkbox ".concat(gn),key:t},i.createElement("input",{id:"ReviewRatingFilter_".concat(t),type:"checkbox",value:t,checked:!!u[String(t)],onChange:function e(){return v(t)}}),i.createElement("label",{htmlFor:"ReviewRatingFilter_".concat(t),className:pn},m[t-1]),i.createElement("span",{className:"hotels-review-list-parts-ReviewRatingFilter__row_bar_cell--3Doxw",onClick:function e(){return v(t)}},i.createElement("span",{className:"hotels-review-list-parts-ReviewRatingFilter__row_bar--35huy"},i.createElement("span",{className:"hotels-review-list-parts-ReviewRatingFilter__row_fill--opJP-",style:{width:"".concat(n,"%")}}))),i.createElement("span",{className:"hotels-review-list-parts-ReviewRatingFilter__row_num--gIW_f"},o.globalize.formatNumber("integer",l[t-1])))),u[String(t)]&&d.push({id:String(t),value:m[t-1],active:!0})},g=5;g>=1;--g)p(g);return"dropdown"===a?i.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("common_Travelerrating"),itemsActive:d,itemsVisible:i.createElement("ul",{className:vn},c)}):i.createElement(i.Fragment,null,i.createElement(mn,null,Object(o.localize)("common_Travelerrating")),i.createElement("ul",{className:vn},c))}),kn=n("@babel/runtime/helpers/esm/slicedToArray"),wn=n.n(kn),En=["True"],bn=function e(t){if(!Object(w.featureIsEnabled)("health_and_safety_review_alert_web"))return[];var n=t.safety||[],i={},a=[],r=function e(){return[Object(o.localize)("hs_safety_filter_removable")]}();n.forEach(function(e){"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(function(e){i[e]=!0})});for(var l=0;l<En.length;++l)i[En[l]]&&a.push({index:0,param:"safety",value:En[l],label:r[l],tracker:""});return a},Nn=Object(h.connect)(function(e,t){return{filter:t.reviewList.filters.safety||[]}},{changeFilters:E.ACTIONS.changeFilters})(function e(t){var n=t.reviewList,r=t.filter,l=t.displayType,s=t.changeFilters,c=Object(i.useState)(0),d=wn()(c,2),u=d[0],m=d[1];if(!Object(w.featureIsEnabled)("health_and_safety_review_alert_web")||!(null==n?void 0:n.alertStatusCount)&&0===u)return null;var v=[],p=[],g={};(null==n?void 0:n.alertStatusCount)&&u!==(null==n?void 0:n.alertStatusCount)&&m(n.alertStatusCount);var f=function e(t){return[Object(o.localize)("hs_safety_filter",{0:t})]}(u);r.forEach(function(e){"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(function(e){g[e]=!0})});for(var _=function e(t){v.push(a.a.createElement("li",{className:"ui_checkbox ".concat(gn),key:t},a.a.createElement("input",{id:"HealthAndSafetyFilter_".concat(t),type:"checkbox",value:En[t],checked:!!g[En[t]],onChange:function e(){return function e(t){g[t]=!g[t];var n=Object.keys(g).filter(function(e){return g[e]}).sort();n.length?s(Ke()({},"safety",[{axis:"ALERT_STATUS",selections:n}])):s(Ke()({},"safety",[])),xt()({module:"Reviews_Controls",action:"click_safety_filter",context:t,value:g[t]?1:0})}(En[t])}}),a.a.createElement("label",{htmlFor:"HealthAndSafetyFilter_".concat(t),className:pn},f[t]))),g[En[t]]&&p.push({id:String(t),value:f[t],active:!0})},h=0;h<En.length;++h)_(h);return"dropdown"===l?a.a.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("hs_traveler_safety_title"),itemsActive:p,itemsVisible:a.a.createElement("ul",{className:vn},v)}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"hotels-review-list-parts-HealthAndSafetyFilter__title--3cyu0"},a.a.createElement(mn,null,Object(o.localize)("hs_traveler_safety_title")),a.a.createElement(rt.a,{below:!0,message:Object(o.localize)("hs_safety_tooltip"),maxWidth:222,alignEdge:"left",shiftX:-50,shiftArrow:-8,toggleOnTouch:!0},function(e){return a.a.createElement("span",{ref:e,className:"hotels-review-list-parts-HealthAndSafetyFilter__tooltip--1vOkZ"},a.a.createElement(j.Icon,{name:"information-circle",className:"hotels-review-list-parts-HealthAndSafetyFilter__tooltipIcon--2Vnam"}))})),a.a.createElement("ul",{className:vn},v))}),yn=[[3,4,5],[6,7,8],[9,10,11],[12,1,2]],Fn=function e(){return[Object(o.localize)("season_mar_may_1cb3"),Object(o.localize)("season_jun_aug_1cb3"),Object(o.localize)("season_sep_nov_1cb3"),Object(o.localize)("season_dec_feb_1cb3")]},Sn=function e(t){var n=t.travelTime||[],i={},a=[],r=Fn();n.forEach(function(e){"MONTH"===e.axis&&e.selections&&e.selections.forEach(function(e){i[e]=!0})});for(var l=function e(t){var n=!1;yn[t].forEach(function(e){n=n||i[String(e)]}),n&&a.push({index:0,param:"travelTime",value:yn[t].join(","),label:r[t],tracker:""})},s=0;s<yn.length;++s)l(s);return a},Tn=Object(h.connect)(function(e,t){return{filter:t.reviewList.filters.travelTime||[]}},{changeFilters:E.ACTIONS.changeFilters})(function e(t){var n=t.filter,a=t.displayType,r=t.changeFilters,l=[],s=[],c={},d=Fn();n.forEach(function(e){"MONTH"===e.axis&&e.selections&&e.selections.forEach(function(e){c[e]=!0})});for(var u=function e(t){var n=!1;yn[t].forEach(function(e){n=n||c[String(e)]}),l.push(i.createElement("li",{className:"ui_checkbox ".concat(gn),key:t},i.createElement("input",{id:"TravelTimeFilter_".concat(t),type:"checkbox",value:t,checked:!!n,onChange:function e(){return function e(t){var n=!1;yn[t].forEach(function(e){n=n||c[String(e)]}),n=!n,yn[t].forEach(function(e){c[String(e)]=n});var i=Object.keys(c).filter(function(e){return c[e]}).sort();i.length?r(Ke()({},"travelTime",[{axis:"MONTH",selections:i}])):r(Ke()({},"travelTime",[])),xt()({module:"Reviews_Controls",action:"click_season",context:yn[t].join(),value:n?1:0})}(t)}}),i.createElement("label",{htmlFor:"TravelTimeFilter_".concat(t),className:pn},d[t]))),n&&s.push({id:String(t),value:d[t],active:!0})},m=0;m<yn.length;++m)u(m);return"dropdown"===a?i.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("p13n_time_of_year"),itemsActive:s,itemsVisible:i.createElement("ul",{className:vn},l)}):i.createElement(i.Fragment,null,i.createElement(mn,null,Object(o.localize)("p13n_time_of_year")),i.createElement("ul",{className:vn},l))}),Rn=["Family","Couples","Solo","Business","Friends"],In=function e(){return[Object(o.localize)("favorite_review_travelertype_families"),Object(o.localize)("favorite_review_travelertype_couples"),Object(o.localize)("favorite_review_travelertype_solo"),Object(o.localize)("favorite_review_travelertype_business"),Object(o.localize)("favorite_review_travelertype_friends")]},On=function e(t){var n=t.travelType||[],i={},a=[],r=In();n.forEach(function(e){"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(function(e){i[e]=!0})});for(var l=0;l<Rn.length;++l)i[Rn[l]]&&a.push({index:0,param:"travelType",value:Rn[l],label:r[l],tracker:""});return a},Cn=Object(h.connect)(function(e,t){return{filter:t.reviewList.filters.travelType||[]}},{changeFilters:E.ACTIONS.changeFilters})(function e(t){var n=t.filter,a=t.displayType,r=t.changeFilters,l=[],s=[],c={},d=In();n.forEach(function(e){"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(function(e){c[e]=!0})});for(var u=function e(t){l.push(i.createElement("li",{className:"ui_checkbox ".concat(gn),key:t},i.createElement("input",{id:"TravelTypeFilter_".concat(t),type:"checkbox",value:Rn[t],checked:!!c[Rn[t]],onChange:function e(){return function e(t){c[t]=!c[t];var n=Object.keys(c).filter(function(e){return c[e]}).sort();n.length?r(Ke()({},"travelType",[{axis:"SEGMENT",selections:n}])):r(Ke()({},"travelType",[])),xt()({module:"Reviews_Controls",action:"click_traveler_filter",context:t,value:c[t]?1:0})}(Rn[t])}}),i.createElement("label",{htmlFor:"TravelTypeFilter_".concat(t),className:pn},d[t]))),c[Rn[t]]&&s.push({id:String(t),value:d[t],active:!0})},m=0;m<Rn.length;++m)u(m);return"dropdown"===a?i.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("traveler_type"),itemsActive:s,itemsVisible:i.createElement("ul",{className:vn},l)}):i.createElement(i.Fragment,null,i.createElement(mn,null,Object(o.localize)("traveler_type")),i.createElement("ul",{className:vn},l))}),Ln=null,jn=function e(){return Ln=Ln||Bt()({},Object(b.getLanguageNames)(),{"":Object(o.localize)("common_alllangs_3dd")})},An=function e(t){var n=t.language||[],i=[],a=jn();return n.forEach(function(e){"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(function(e){a[e]&&i.push({index:0,param:"language",value:e,label:a[e],tracker:""})})}),i},xn=Object(h.connect)(function(e,t){return Bt()({},t,{myLang:y(e)})},{showOverlay:function e(){return Fe.actions.overlays.showGlobalOverlay("ReviewList_Languages")},hideOverlay:function e(){return Fe.actions.overlays.hideGlobalOverlay("ReviewList_Languages")},changeFilters:E.ACTIONS.changeFilters,clearFilters:E.ACTIONS.clearFilters})(function e(t){var n=t.reviewList,a=t.displayType,r=t.myLang,l=t.showOverlay,s=t.hideOverlay,c=t.changeFilters,d=t.clearFilters,u=[],m=[],v={},p=n.filters.language||[],g=jn(),f=Bt()({},n.languageCounts||{});p.forEach(function(e){"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(function(e){f[e]=f[e]||0,v[e]=!0})}),r&&g[r]&&(f[r]=f[r]||0);for(var _=Object.keys(f).filter(function(e){return g[e]&&!(!f[e]&&!v[e]&&""!==e&&e!==r)}).sort(function(e,t){return f[t]-f[e]||e.localeCompare(t)}),h=-1,k=0;k<_.length;++k)if(v[_[k]]){h=k;break}var w=_.length;if("dropdown"!==a&&w>5&&(w=4,h>=4)){var E=_[h];_.splice(h,1),h=3,_.splice(h,0,E)}for(var b=h>0?_[h]:"",N=function e(t){d(),c(t&&""!==t?Ke()({},"language",[{axis:"LANGUAGE",selections:[t]}]):Ke()({},"language",[])),xt()({module:"Reviews_Controls",action:"click_language",context:t}),s()},y=function e(t){u.push(i.createElement("li",{className:"ui_radio ".concat(gn),key:t},i.createElement("input",{id:"LanguageFilter_".concat(t),type:"radio",value:_[t],checked:_[t]===b,onChange:function e(){return N(_[t])}}),i.createElement("label",{htmlFor:"LanguageFilter_".concat(t),className:"hotels-review-list-parts-LanguageFilter__row_label--26g7t"},i.createElement("span",{className:"hotels-review-list-parts-LanguageFilter__no_wrap--3zMxR"},g[_[t]]),i.createElement("span",{className:"".concat("hotels-review-list-parts-LanguageFilter__paren_count--EHwQo")},"(",o.globalize.formatNumber("integer",f[_[t]]||0),")")))),_[t]===b&&""!==_[t]&&m.push({id:String(t),value:g[_[t]],active:!0})},F=0;F<w;++F)y(F);if("dropdown"===a)return i.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("OwnerResponse_filter_languages_1"),itemsActive:m,itemsVisible:i.createElement("ul",{className:vn},u)});var S=null;if(_.length>w){for(var T=[],R=function e(t){T.push(i.createElement("li",{className:"ui_radio ".concat(gn),key:t},i.createElement("input",{id:"LanguageFilter_".concat(t),type:"radio",value:_[t],checked:_[t]===b,onChange:function e(){return N(_[t])}}),i.createElement("label",{htmlFor:"LanguageFilter_".concat(t),className:pn},g[_[t]]," ",i.createElement("span",{className:"hotels-review-list-parts-LanguageFilter__paren_count--EHwQo"},"(",o.globalize.formatNumber("integer",f[_[t]]||0),")"))))},I=0;I<_.length;++I)R(I);S=i.createElement(i.Fragment,{key:"moreLink"},i.createElement(we.Modal,{name:"ReviewList_Languages"},i.createElement("ul",{className:vn},T)),i.createElement("div",{onClick:l,className:"".concat("hotels-review-list-parts-LanguageFilter__taLnk--3iBfk")},i.createElement("span",{className:"text"},Object(o.localize)("north_star_more_languages")),i.createElement("span",{className:"ui_icon caret-down"})))}return i.createElement(i.Fragment,null,i.createElement(mn,null,Object(o.localize)("OwnerResponse_filter_languages_1")),i.createElement("ul",{className:vn},u,S))}),Dn=(en={},Ke()(en,"",Object(o.localize)("reviews_all_reviewers")),Ke()(en,"connectionsFirst",Object(o.localize)("ppl_you_know")),en),Vn=Object(h.connect)(function(e,t){return Bt()({},t,{selectedSort:t.reviewList.prefs.sortType})},{updateSort:function e(t){return E.ACTIONS.setPrefs(Ke()({},"sortType",t))}})(function e(t){var n=t.reviewList,a=t.selectedSort,r=t.displayType,l=t.updateSort;return n&&n.locationInfo&&n.locationInfo.locationId?i.createElement(Dt.LocationContributionsPoller,{locationId:n.locationInfo.locationId},function(e,t){if(t||!e)return i.createElement("div",null);for(var n=[],s=[],c=Object.keys(Dn),d=Object.prototype.hasOwnProperty.call(Dn,a)?a:"",u=function e(t){n.push(i.createElement("li",{className:"ui_radio ".concat(gn),key:t},i.createElement("input",{id:"ReviewedByRadio_".concat(t),type:"radio",value:c[t],checked:c[t]===d,onChange:function e(){l(c[t]),xt()({module:"Reviews_Controls",action:"click_social",context:"people_you_know",value:"connectionsFirst"===c[t]?1:0})}}),i.createElement("label",{htmlFor:"ReviewedByRadio_".concat(t),className:pn},Dn[c[t]]))),c[t]===d&&""!==c[t]&&s.push({id:String(t),value:Dn[c[t]],active:!0})},m=0;m<c.length;++m)u(m);return"dropdown"===r?i.createElement(un.FilterGroup,{category:"reviews",textTitle:Object(o.localize)("reviewed_by_title"),itemsActive:s,itemsVisible:i.createElement("ul",{className:vn},n)}):i.createElement("div",null,i.createElement(mn,null,Object(o.localize)("reviewed_by_title")),i.createElement("ul",{className:vn},n))}):i.createElement("div",null)}),Pn={setQuery:function e(t){var n=(t||"").trim();return""===n?E.ACTIONS.changeFilters(Ke()({},"text",[])):E.ACTIONS.changeFilters(Ke()({},"text",[{axis:"TEXT",selections:[n]}]))}},zn=function(e){function t(e){var n;return oe()(this,t),(n=me()(this,pe()(t).call(this,e))).state={value:e.query,query:e.query},n}return fe()(t,e),de()(t,null,[{key:"getDerivedStateFromProps",value:function e(t,n){return t.query!==n.query?{value:t.query,query:t.query}:null}}]),de()(t,[{key:"onSubmit",value:function e(t,n){n!==this.state.query?(this.setState({value:n}),this.props.setQuery(n)):n!==this.state.value&&this.setState({value:n})}},{key:"render",value:function e(){var t=this;return i.createElement(i.Fragment,null,this.props.keywords&&this.props.keywords.length>0&&i.createElement(mn,null,Object(o.localize)("community_popular_mentions")),i.createElement("div",{className:"".concat("hotels-review-list-parts-SearchFilter__button_wrap--3msGA")},function e(t,n,a){var r,l=" ".concat(t," "),s=[];return n&&n.length>0&&(r=n.length>22?n.slice(0,22):n,""===t?s.push(i.createElement("button",{className:"ui_button primary small ".concat("hotels-review-list-parts-SearchFilter__word_button_primary--2fVMp"),key:"*"},Object(o.localize)("airm_all_reviews"))):s.push(i.createElement("button",{className:"ui_button secondary small ".concat("hotels-review-list-parts-SearchFilter__word_button_secondary--1OWD6"),key:"*",onClick:function e(){""!==t&&a("")}},Object(o.localize)("airm_all_reviews"))),r.forEach(function(e){var n=l.indexOf(" ".concat(e," "))>=0;s.push(i.createElement("button",{className:"ui_button ".concat(n?"primary":"secondary"," small ").concat(n?"hotels-review-list-parts-SearchFilter__word_button_primary--2fVMp":"hotels-review-list-parts-SearchFilter__word_button_secondary--1OWD6"),key:e,onClick:function n(){return function e(n){var i=" ".concat(n," "),r=l.indexOf(i)>=0;a(r?l.replace(i," ").trim():"".concat(t," ").concat(n)),xt()({module:"Reviews_Controls",action:"click_tag_cloud",context:n,value:r?0:1})}(e)}},e))})),s}(this.state.query,this.props.keywords,function(e){return t.onSubmit(null,e)})))}}]),t}(i.Component),Mn=Object(h.connect)(function e(t,n){var i=[],a=n.reviewList.filters.text||[],r=n.reviewList.filters.language||[];a.forEach(function(e){"TEXT"===e.axis&&e.selections&&e.selections.forEach(function(e){e&&e.split(" ").forEach(function(e){e&&""!==e&&i.push(e)})})});var l="en"===y(t);return r.forEach(function(e){"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(function(e){e&&""!==e&&"en"!==e&&(l=!1)})}),Bt()({},n,{keywords:l?n.reviewList.keywords:[],query:i.join(" ")})},Pn)(zn),Gn=Object(h.connect)(function(e,t){return t},{showOverlay:function e(){return Fe.actions.overlays.showGlobalOverlay("ReviewList_Filters")},changeFilters:E.ACTIONS.changeFilters})(function e(t){var n=t.reviewList,a=t.showOverlay,r=t.changeFilters;return i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__filters_wrap--1WMWG"},i.createElement(Je.Columns,null,i.createElement(Je.Column,{mobile:{width:12},width:5},i.createElement(hn,{reviewList:n}),i.createElement(Nn,{reviewList:n})),i.createElement(Je.Column,{mobile:{shown:!1},tablet:{shown:!0,width:2}},i.createElement(Tn,{reviewList:n})),i.createElement(Je.Column,{mobile:{shown:!1},tablet:{shown:!0,width:2}},i.createElement(Cn,{reviewList:n})),i.createElement(Je.Column,{mobile:{shown:!1},tablet:{shown:!0,width:3}},i.createElement(xn,{reviewList:n}))),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__reverse_order--Cj7XT"},i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__hide_if_possible--1PEWA"},i.createElement(Vn,{reviewList:n})),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__expand_if_possible--3k7XU"},i.createElement("div",{className:"".concat("hotels-review-list-parts-ReviewFilters__pill_wrap--1ZKE3"," is-hidden-tablet")},i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__filter_title--2ONxE"},Object(o.localize)("hs_selected_filters")),i.createElement(on.SelectionPills,{actions:[{label:Object(o.localize)("filter_ffffe84e"),chevron:!0,onClick:a,tracker:""}],selections:[].concat(sn()(_n(n.filters)),sn()(bn(n.filters)),sn()(On(n.filters)),sn()(Sn(n.filters)),sn()(An(n.filters)),sn()(qt(n.filters))),onClearSelection:function e(t,i){return function e(t,n,i,a){var r=t[i];if(r){var l=Ke()({},a,!0);a.split(",").forEach(function(e){l[e]=!0});var s=r.map(function(e){return Bt()({},e,{selections:(e.selections||[]).filter(function(e){return!l[e]})})}).filter(function(e){return e.selections.length>0});n(Ke()({},i,s))}}(n.filters,r,t,i)}})),i.createElement(Mn,{reviewList:n}))),i.createElement(dn.a,{name:"ReviewList_Filters",slideFrom:"right",bodyContentClass:"hotels-review-list-parts-ReviewFilters__filters_overlay--2tLho",header:i.createElement(i.Fragment,null,i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_header--EJ2Z1"},Object(o.localize)("filter_reviews")),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_count--Zul8J"},Object(o.localize)("num_results_plural",{0:n.totalCount||0})))},function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_group--3-BCw"},i.createElement(hn,{displayType:"dropdown",reviewList:n})),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_group--3-BCw"},i.createElement(Nn,{displayType:"dropdown",reviewList:n})),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_group--3-BCw"},i.createElement(Cn,{displayType:"dropdown",reviewList:n})),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_group--3-BCw"},i.createElement(Tn,{displayType:"dropdown",reviewList:n})),i.createElement("div",{className:"hotels-review-list-parts-ReviewFilters__overlay_group--3-BCw"},i.createElement(xn,{displayType:"dropdown",reviewList:n})))}))}),Bn=n("react-apollo"),Wn=n("@ta/hotels.hotel-review-provider"),Hn=n.n(Wn),qn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateReviewSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"key"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"val"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"writePersonalCache"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"key"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"val"}}}],directives:[]}]}}],loc:{start:0,end:109}};qn.loc.source={body:"213eb9126e7b"};var Un=qn,Kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReviewListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FilterConditionInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"prefs"}},type:{kind:"NamedType",name:{kind:"Name",value:"ReviewListPrefsInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"initialPrefs"}},type:{kind:"NamedType",name:{kind:"Name",value:"ReviewListPrefsInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filterCacheKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"prefsCacheKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keywordVariant"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"needKeywords"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cachedFilters"},name:{kind:"Name",value:"personalCache"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"filterCacheKey"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cachedPrefs"},name:{kind:"Name",value:"personalCache"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"prefsCacheKey"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"ROOT_FIELDS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentGeoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[{kind:"Argument",name:{kind:"Name",value:"variant"},value:{kind:"Variable",name:{kind:"Name",value:"keywordVariant"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"needKeywords"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"keyword"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"LOCATION_FIELDS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"prefs"},value:{kind:"Variable",name:{kind:"Name",value:"prefs"}}},{kind:"Argument",name:{kind:"Name",value:"initialPrefs"},value:{kind:"Variable",name:{kind:"Name",value:"initialPrefs"}}},{kind:"Argument",name:{kind:"Name",value:"filterCacheKey"},value:{kind:"Variable",name:{kind:"Name",value:"filterCacheKey"}}},{kind:"Argument",name:{kind:"Name",value:"prefsCacheKey"},value:{kind:"Variable",name:{kind:"Name",value:"prefsCacheKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingCounts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"languageCounts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"preferredReviewIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertStatusCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"REVIEW_LIST_FIELDS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"REVIEW_FIELDS"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1088}};Kn.loc.source={body:"320161c05c0d"};var Qn=Kn,Jn=function(e){function t(){return oe()(this,t),me()(this,pe()(t).apply(this,arguments))}return fe()(t,e),de()(t,[{key:"shouldComponentUpdate",value:function e(t){return t.version>0&&(!this.props||t.version!==this.props.version)}},{key:"componentDidUpdate",value:function e(t){this.props.version>0&&(!t||this.props.version!==t.version)&&this.props.onChange()}},{key:"render",value:function e(){return null}}]),t}(i.Component),Xn=n("@babel/runtime/helpers/esm/typeof"),Yn=n.n(Xn),Zn=function(e){function t(){return oe()(this,t),me()(this,pe()(t).apply(this,arguments))}return fe()(t,e),de()(t,[{key:"componentDidUpdate",value:function e(t){if(this.props.offset!==t.offset){if(!(this.props.navigate&&this.props.route&&"object"===("undefined"==typeof window?"undefined":Yn()(window))&&window.history&&document))return;var n=Bt()({},this.props.route,{o:"r".concat(this.props.offset)});this.props.navigate(n,{noHistory:!0});var i=Object(b.getReviewsUrl)(window.location.pathname,this.props.offset);window.history.pushState(n,document.title,i),window.location.hash="#REVIEWS"}}},{key:"render",value:function e(){return null}}]),t}(i.Component),$n=Object(k.withRouteContext)(Object(h.connect)(function(e){return{offset:Object(E.getState)(e).offset}})(Zn)),ei=function e(t){return t?[{axis:"LANGUAGE",selections:[t]}]:[]},ti=[{axis:"LANGUAGE",selections:[""]}],ni=function e(t){return"".concat("hotelReviewFilters","_").concat(t)},ii=function e(t,n){var i=Object(E.getState)(t);return{locationId:n.locationId,queryNode:n.queryNode,renderList:n.renderList,offset:i.offset||0,filtersVersion:i.filtersVersion||0,filtersMap:i.filters||null,prefs:i.prefs,prefsVersion:i.prefsVersion||0,language:y(t),defaultPreferFriendReviews:t.route&&"true"===t.route.preferFriendReviews}},ai=function e(t,n){var i=t.locationId,a=t.defaultPreferFriendReviews,r=t.language,l=!!(t.filtersVersion||t.prefsVersion||t.offset),s=[];t.filtersMap&&l?(s=[],Vt.forEach(function(e){var n,i,a,r,l=t.filtersMap&&t.filtersMap[e]||[];"language"===e&&(null===(n=t.filtersMap)||void 0===n?void 0:n[e])&&(null===(i=t.filtersMap)||void 0===i?void 0:null===(a=i.safety)||void 0===a?void 0:a.length)||s&&(r=s).push.apply(r,sn()(l))})):s=ei(r);var o=a?Ke()({},"sortType","connectionsFirst"):{};return{query:t.queryNode,variables:{locationId:i,offset:t.offset,filters:s,prefs:t.prefsVersion>0&&t.prefs||null,initialPrefs:o,limit:5,filterCacheKey:t.filtersVersion>0?null:ni(i),prefsCacheKey:t.prefsVersion>0?null:"hotelReviewPrefs",needKeywords:!(l&&n),keywordVariant:"location_keywords_v2_llr_order_30_".concat(r)},errorPolicy:"all",skip:!i||i<=0}},ri=function(e){function t(e){var n;return oe()(this,t),n=me()(this,pe()(t).call(this,e)),Ke()(qe()(qe()(n)),"stash",void 0),n.stash={},n.state={},n}return fe()(t,e),de()(t,[{key:"componentDidMount",value:function e(){this.stash.filters&&!this.props.filtersVersion&&this.props.onGotFilters&&this.props.onGotFilters(this.stash.filters),this.stash.prefs&&!this.props.prefsVersion&&this.props.onGotPrefs&&this.props.onGotPrefs(this.stash.prefs)}},{key:"render",value:function e(){var t=this,n=ai(this.props,this.stash.keywords);return this.stash.locationId&&this.stash.locationId!==this.props.locationId&&(this.stash={}),this.props.locationId?i.createElement(i.Fragment,null,i.createElement(Bn.Mutation,{mutation:Un},function(e){return i.createElement(Jn,{version:t.props.filtersVersion,onChange:function i(){return e({variables:{key:ni(t.props.locationId),val:JSON.stringify(n.variables.filters)}})}})}),i.createElement(Bn.Mutation,{mutation:Un},function(e){return i.createElement(Jn,{version:t.props.prefsVersion,onChange:function t(){return e({variables:{key:"hotelReviewPrefs",val:JSON.stringify(n.variables.prefs)}})}})}),i.createElement(Bn.Query,{query:n.query,variables:n.variables,errorPolicy:n.errorPolicy,skip:n.skip},function(e){var i=e.loading,a=e.data,r=e.error,l=e.refetch,s=a&&a.locations&&a.locations[0],o=!i&&s&&s.reviewList&&!0,c=s&&s.reviewList||{},d=c.page&&c.page.offset||n.variables.offset,u=s&&s.reviewSummary&&s.reviewSummary.count,m=s&&s.keywords&&s.keywords.keywords;m=(m=m&&m.map(function(e){return e&&e.keyword}).filter(function(e){return!!e}))||t.stash.keywords;var v=c.reviews?c.totalCount||0:t.stash.totalCount,p=c.ratingCounts||t.stash.ratingCounts,g=function e(t,n,i){if(!n)return t;var a=Bt()({},t);return Object.keys(n).forEach(function(e){n&&n[e]>(t[e]||0)&&(a[e]=n[e])}),(!t[""]||i&&i>t[""])&&(a[""]=i||0),a}(t.stash.languageCounts||{},c.languageCounts,u),f=t.props.filtersMap||function e(t,n){try{if(!n)return Object(w.featureIsEnabled)("hotel_review_is_thin_content")?Ke()({},"language",ti):t?Ke()({},"language",ei(t)):{};var i=JSON.parse(n);if(!i||!i.length||!i.forEach)return{};var a={};return i.forEach(function(e){var t=Pt[e.axis];t&&(a[t]=a[t]||[],a[t].push(e))}),a}catch(e){return{}}}(t.props.language,a&&a.cachedFilters),_=n.variables.prefs||function e(t,n){try{var i;if(!n||"{"!==n.charAt(0))return{};var a=JSON.parse(n);return a?(i={},Ke()(i,"showMT",!!a.showMT),Ke()(i,"sortType",t?"connectionsFirst":a.sortType),i):{}}catch(e){return{}}}(!t.props.prefsVersion&&t.props.defaultPreferFriendReviews,a&&a.cachedPrefs);if(t.stash={locationId:t.props.locationId,keywords:m,totalCount:v,ratingCounts:p,languageCounts:g,filters:f,prefs:_,retryCount:t.stash.retryCount,retryRequested:t.stash.retryRequested},!i)if(o||!r)t.stash.retryRequested=!1,t.stash.retryCount=null;else if(!t.stash.retryRequested){t.stash.retryRequested=!0;var h=(t.stash.retryCount||0)+1;t.stash.retryCount=h,h>=1&&h<=4?setTimeout(function(){t.stash.retryRequested=!1,l()},[1e3,1e3,1500,2200,3500][h]):h>4&&(o=!0)}c=Bt()({},c,{hasReviews:!!u,keywords:m,ratingCounts:p||[0,0,0,0,0],languageCounts:g,totalCount:v,page:{offset:d,limit:5},isLoading:!o,locationInfo:s,filters:f,prefs:_});var k={root:a,location:a&&a.locations&&a.locations[0],reviewList:c};return t.props.renderList(k)})):(this.stash={},this.props.renderList({location:null,root:null,reviewList:{hasReviews:!1,keywords:[],ratingCounts:[0,0,0,0,0],languageCounts:{},page:{offset:0,limit:5},isLoading:!0,filters:{},prefs:{}}}))}}]),t}(i.PureComponent);Ke()(ri,"defaultProps",{offset:0,filtersVersion:0,prefsVersion:0,filtersMap:null,prefs:null,language:"en"});var li=Object(h.connect)(ii,{onGotFilters:E.ACTIONS.gotFilters,onGotPrefs:E.ACTIONS.gotPrefs})(ri),si=function e(t,n){var a=Object(r.injectFragments)(Qn,t);return t.SSR_QUERIES.push(function e(t){return ai(ii(t,{locationId:t.page.detailId,queryNode:a,renderList:n}),null)}),function e(){return i.createElement(Hn.a,null,function(e){var t=e.locationId;return t?i.createElement(i.Fragment,null,i.createElement(li,{queryNode:a,locationId:t,renderList:n}),i.createElement($n,null)):null})}},oi=n("@ta/common.is-visible"),ci=n("@ta/overlays.managers"),di=function e(t){var n=t.campaign,a=t.children;return i.createElement(i.Fragment,null,i.createElement(ci.Opener,{name:"points_campaign_".concat(n.lightboxId||n.campaignName)},a),i.createElement(we.Modal,{name:"points_campaign_".concat(n.lightboxId||n.campaignName)},i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__content--H3Blk"},i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__top--1pKvR"},Object(o.localize)("m4r_infobox_title")),i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__middle--1ZF5i"},n.lightboxItems.map(function(e){return i.createElement("a",{className:"hotels-review-list-parts-PointsCampaignModal__campaign--1smBb",href:e.lander,target:"_blank",onClick:function t(n){return function e(t,n){Object(At.trackClick)(t,{module:"MileCampaigns",action:n.campaignLowerCase,context:"Learn".concat(n.campaign),value:1})}(n,e)},key:e.campaignLowerCase},i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__logoContainer--1RSEl"},i.createElement("img",{className:"hotels-review-list-parts-PointsCampaignModal__logo--10Oot",src:e.logoSrc,alt:e.logoAlt})),i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__header--1vZ0q"},e.title),i.createElement(ft.a,{type:"primary"},Object(o.localize)("m4r_learn_more")))})),i.createElement("div",{className:"hotels-review-list-parts-PointsCampaignModal__bottom--XSy47"},Object(o.localize)("m4r_infobox_disclaimer")))))},ui={airasia:"hotels-review-list-parts-PointsCampaign__airasia--te-A2",ana:"hotels-review-list-parts-PointsCampaign__ana--1AWm2",asiamiles:"hotels-review-list-parts-PointsCampaign__asiamiles--2M7YF",asiana:"hotels-review-list-parts-PointsCampaign__asiana--3HcZX",garuda:"hotels-review-list-parts-PointsCampaign__garuda--1aOR9",jal:"hotels-review-list-parts-PointsCampaign__jal--1JXZ0",jpmiles:"hotels-review-list-parts-PointsCampaign__jpmiles--148Hq",payback:"hotels-review-list-parts-PointsCampaign__payback--2rjGc"},mi=function e(t){var n=t.campaign,a=t.children;return n.lightboxId?i.createElement(di,{campaign:n},function(e){return i.createElement("div",{onClick:function t(i){e(),function e(t,n){Object(At.trackClick)(t,{module:"MileCampaigns",action:n,context:"PointsSticker",value:1})}(i,n.campaignName)}},a)}):n.registrationLink?i.createElement("a",{href:n.registrationLink,target:"_blank"},a):i.createElement(i.Fragment,null,a)},vi=function e(t){var n=t.locationId,a=i.useState(null),r=wn()(a,2),l=r[0],s=r[1],o=Object(oi.useOnVisible)(function(){fetch("/data/1.0/reviewpointscampaign/".concat(n),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e.json();throw Error()}).then(function(e){return s(e)}).catch(function(){return!1})},[],0,1);return i.createElement("div",{ref:o},!l||l.campaignPointValue<=0?null:i.createElement("div",{className:M()("hotels-review-list-parts-PointsCampaign__campaign--2xrJ3",ui[l.campaignName]),"data-test-target":"points_campaign"},i.createElement(mi,{campaign:l},i.createElement("span",{className:"hotels-review-list-parts-PointsCampaign__iconContainer--2ksaS",style:{backgroundImage:"url(".concat(l.imgLink,")")},title:l.imgAlt},i.createElement("span",{className:"hotels-review-list-parts-PointsCampaign__iconValue--3mZOs"},l.milePointStr)))))},pi=n("@ta/common.api"),gi=Object(pi.bind)(function(e,t){var n=e.page.detailId>0?t("/data/1.0/hotelDetail/".concat(e.page.detailId,"/locationAlert")):null,i=n&&n.get().data,a=i?Bt()({},i):{};return function(){return a}})(function e(t){var n=i.useState(!1),a=wn()(n,2),r=a[0],l=a[1];return t.message&&t.hasSensitiveIssuesBadge?i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__outerWrapper--2hyjs"},i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__wrapper--3e5DG"},i.createElement(j.Icon,{className:"hotels-review-list-parts-SensitiveIssuesBadge__icon--1M6Tq",name:"alert-fill"}),i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__message--1vv89"},i.createElement("strong",null,Object(o.localize)("NoticeHeader_1d63")," "),t.message,t.ownerResponseText?i.createElement(i.Fragment,null,i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__ui_message_response--3U7ap"},i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__response--RzTm_"},i.createElement("span",null,Object(o.localize)("media_badge_owner_response_title",{0:t.ownerName||"",1:t.ownerRole||"",2:t.ownerPropertyName||""})),i.createElement("span",{className:"hotels-review-list-parts-SensitiveIssuesBadge__response_date--3BBon"},Object(o.localize)("media_badge_owner_response_date",{0:t.responseDate||""})),i.createElement("span",{className:"hotels-review-list-parts-SensitiveIssuesBadge__response_content--3J7zO"},i.createElement("span",{className:M()("hotels-review-list-parts-SensitiveIssuesBadge__truncate_to_limit--xFDC4",r?null:"hotels-review-list-parts-SensitiveIssuesBadge__truncate--1CDr0")},t.ownerResponseText),r?i.createElement("span",{className:"hotels-review-list-parts-SensitiveIssuesBadge__toggle_limit--2eJOp",onClick:function e(){return l(!1)}},Object(o.localize)("media_badge_owner_response_show_less")):i.createElement("span",{className:"hotels-review-list-parts-SensitiveIssuesBadge__toggle_limit--2eJOp",onClick:function e(){return l(!0)}},Object(o.localize)("media_badge_owner_response_show_more")))),i.createElement("div",{className:"hotels-review-list-parts-SensitiveIssuesBadge__disclaimer--3hUdg"},Object(o.localize)("userreviewbody_26eb")))):null))):null}),fi=function e(t){return t.hasAlert&&Object(w.featureIsEnabled)("health_and_safety_review_alert_web")?i.createElement("div",{className:"hotels-review-list-parts-SafetyAlert__alertContainer--237tj"},i.createElement(j.Icon,{name:"alert-fill",className:"hotels-review-list-parts-SafetyAlert__alertIcon--3KLVI"}),i.createElement("span",{className:"hotels-review-list-parts-SafetyAlert__alertText--2L0UV"},Object(o.localize)("hs_safety_flag_on_review_updated"))):null};n.d(t,"connectReview",function(){return m}),n.d(t,"connectRatingLine",function(){return _}),n.d(t,"connectReviewTitle",function(){return I}),n.d(t,"connectExpando",function(){return P}),n.d(t,"connectInlinePhotos",function(){return K}),n.d(t,"connectInlineRoomTip",function(){return Z}),n.d(t,"connectSocial",function(){return le}),n.d(t,"connectMTFooter",function(){return Ce}),n.d(t,"connectAdditionalRatings",function(){return xe}),n.d(t,"connectEventDate",function(){return ze}),n.d(t,"connectTripType",function(){return We}),n.d(t,"connectOwnerResponse",function(){return it}),n.d(t,"connectAttributionFooter",function(){return ct}),n.d(t,"connectDisclaimerFooter",function(){return pt}),n.d(t,"connectGoogleTranslateButton",function(){return ht}),n.d(t,"connectHeader",function(){return yt}),n.d(t,"connectGoogleTranslateResponseButton",function(){return kt}),n.d(t,"connectResponseDisclaimerFooter",function(){return Rt}),n.d(t,"ReviewControlNotice",function(){return Ct}),n.d(t,"ConnectionReviewsCTA",function(){return Mt}),n.d(t,"createConnectionReviewsQuery",function(){return zt}),n.d(t,"SearchBox",function(){return Qt}),n.d(t,"connectReviewList",function(){return rn}),n.d(t,"ReviewFilters",function(){return Gn}),n.d(t,"connectHRQuery",function(){return si}),n.d(t,"REVIEW_LIST_ACTIONS",function(){return E.ACTIONS}),n.d(t,"ReviewRatingFilter",function(){return hn}),n.d(t,"getRatingSelections",function(){return _n}),n.d(t,"HealthAndSafetyFilter",function(){return Nn}),n.d(t,"getHealthAndSafetySelections",function(){return bn}),n.d(t,"TravelTypeFilter",function(){return Cn}),n.d(t,"getSegmentSelections",function(){return On}),n.d(t,"TravelTimeFilter",function(){return Tn}),n.d(t,"getTimeSelections",function(){return Sn}),n.d(t,"LanguageFilter",function(){return xn}),n.d(t,"getLanguageSelections",function(){return An}),n.d(t,"SearchFilter",function(){return Mn}),n.d(t,"ReviewedByRadioFilter",function(){return Vn}),n.d(t,"PointsCampaign",function(){return vi}),n.d(t,"SensitiveIssuesBadge",function(){return gi}),n.d(t,"SafetyAlert",function(){return fi}),n.d(t,"FILTER_NAME_RATING",function(){return"rating"}),n.d(t,"FILTER_NAME_SAFETY",function(){return"safety"}),n.d(t,"FILTER_NAME_TRAVEL_TYPE",function(){return"travelType"}),n.d(t,"FILTER_NAME_TRAVEL_TIME",function(){return"travelTime"}),n.d(t,"FILTER_NAME_LANGUAGE",function(){return"language"}),n.d(t,"FILTER_NAME_TEXT",function(){return"text"}),n.d(t,"PREF_NAME_SHOWMT",function(){return"showMT"}),n.d(t,"PREF_NAME_SORTTYPE",function(){return"sortType"}),n.d(t,"REVIEW_SORT_DEFAULT",function(){return""}),n.d(t,"REVIEW_SORT_CONNECTIONS_FIRST",function(){return"connectionsFirst"}),n.d(t,"reviewTextEscape",function(){return S}),n.d(t,"contentLangFromState",function(){return y}),n.d(t,"getLanguageNames",function(){return b.getLanguageNames}),n.d(t,"languageDir",function(){return T}),t.default={}}}});
//# sourceMappingURL=hotels.review-list-parts.f9df43e2f2.js.map