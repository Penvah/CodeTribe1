(window.$WP=window.$WP||[]).push({id:"@ta/trips.saver",d:["vendor-react-libs","vendor-apollo-libs","ta-platform","@ta/trips.graphql","@ta/trips.trip-types","@ta/trips.trip-util"],e:["./packages/trips/saver/Saver.jsx"],x:{"./packages/trips/saver/Saver.jsx":["default"]},m:{"./packages/trips/saver/Saver.jsx":function(e,t,r){"use strict";r.r(t);var a=r("react"),i=r("react-apollo"),o=r("@ta/common.features"),n=r("@ta/trips.graphql"),l=(r("@ta/trips.trip-types"),r("@ta/trips.trip-util")),s=function e(t){var r=t.object,s=t.children,p=t.onSave,d=t.onError,u=t.placement,c=Object(n.selectMutation)("ADD_ITEM",u);return a.createElement(i.Mutation,{mutation:null==c?void 0:c.mutation,displayName:null==c?void 0:c.displayName,onError:function e(){return d&&d({query:"ADD_ITEM_TO_TRIP"})},update:function e(t){return Object(l.updateSocialStatisticsOnSave)(t,r)}},function(e){return s(function(t){e({variables:{tripId:t,referenceId:"".concat(r.id),referenceType:r.type,allowDuplicates:!1,socialReference:Object(o.featureIsEnabled)("social_at_referencing_profile_links")}}).then(function(e){var t,a,i,o,n,s,u=null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(a=t.addItemToTrip)||void 0===a?void 0:a.trip,c=null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(o=i.addItemToTrip)||void 0===o?void 0:null===(n=o.errors)||void 0===n?void 0:null===(s=n[0])||void 0===s?void 0:s.error;if(u){var v=Object(l.getItemByReference)(u,r);v?p(u,v):d&&d({query:"ADD_ITEM_TO_TRIP",tripsError:c})}else d&&d({query:"ADD_ITEM_TO_TRIP",tripsError:c})})})})};s.defaultProps={placement:"DEFAULT"},t.default=s}}});
//# sourceMappingURL=trips.saver.74d5433168.js.map