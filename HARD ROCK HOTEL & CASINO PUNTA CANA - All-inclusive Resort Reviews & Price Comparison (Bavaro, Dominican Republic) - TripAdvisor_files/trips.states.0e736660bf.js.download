(window.$WP=window.$WP||[]).push({id:"@ta/trips.states",d:["vendor-babel","vendor-react-libs","ta-platform","ta-common","@ta/social.login-gate","@ta/trips.tracking","@ta/overlays.fullscreen-overlay","@ta/overlays.modal","@ta/overlays.managers"],e:["./packages/trips/states/index.jsx"],x:{"./packages/trips/states/index.jsx":["FinishedLoading","LoggedOut","LoggedOutControlled","LoggedOutGates","TripsLink"]},m:{"./packages/trips/states/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("@babel/runtime/helpers/esm/objectSpread"),r=n.n(o),i=n("@babel/runtime/helpers/esm/classCallCheck"),a=n.n(i),s=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),l=n.n(s),c=n("@babel/runtime/helpers/esm/getPrototypeOf"),u=n.n(c),d=n("@babel/runtime/helpers/esm/createClass"),g=n.n(d),m=n("@babel/runtime/helpers/esm/inherits"),p=n.n(m),f=n("react"),h=function(e){function t(e){var n;return a()(this,t),(n=l()(this,u()(t).call(this,e))).state={deferCallback:!1,isMounted:!1},n}return p()(t,e),g()(t,null,[{key:"getDerivedStateFromProps",value:function e(t,n){return t.loading?r()({},n,{hasEverFinishedLoading:!0}):r()({},n)}}]),g()(t,[{key:"componentDidMount",value:function e(){this.state.deferCallback&&!this.props.loading?(this.props.onFinishedLoading(),this.setState({deferCallback:!1,isMounted:!0})):this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function e(t){this.state.isMounted&&t.loading&&!this.props.loading&&this.props.onFinishedLoading()}},{key:"render",value:function e(){return null}}]),t}(f.Component),v=n("@babel/runtime/helpers/esm/defineProperty"),_=n.n(v),L=n("@ta/common.i18n"),b=n("@ta/common.cdn"),C=n("@ta/common.classnames"),E=n.n(C),k=n("@ta/styleguide.button"),O=n.n(k),y=n("@ta/social.login-gate"),w=n("@ta/trips.tracking"),F=function e(t){var n=t.onLoginClicked,o=t.onLoginFlowComplete,r=t.joinGate,i=t.loginGate,a=t.preventLogInteraction;return f.createElement(w.TripInteraction,{source:"trips"},function(e){var t=function t(n){return e(_()({},n,{element:"trips_login_nav"}))};return f.createElement("div",{className:"trips-states-LoggedOut__logged_out_container--F5Lt3"},f.createElement("div",{className:"trips-states-LoggedOut__section_one--1KfiC"},f.createElement(b.CdnImage,{className:"trips-states-LoggedOut__ta_logo--1W_4f",src:"/img2/branding/rebrand/TA_logo_primary.svg"}),f.createElement("div",{className:E()("trips-states-LoggedOut__say_hello--3GwZQ","trips-states-LoggedOut__header--3O85O")},Object(L.localize)("logged_out_home_hello_trips")),f.createElement("div",{className:"trips-states-LoggedOut__text--2jEJn"},Object(L.localize)("logged_out_home_trips_give")),f.createElement(O.a,{type:"primary",size:"fullwidth",onClick:function e(){n&&n(),a||t("elementClick"),r().then(function(){return!a&&t("modalSuccess")}).then(o)}},Object(L.localize)("empty_trip_home_get_started")),f.createElement("a",{className:E()("trips-states-LoggedOut__log_in--2BMVJ","ui_link"),onClick:function e(){n&&n(),a||t("elementClick"),i().then(function(){return!a&&t("modalSuccess")}).then(o)}},Object(L.localize)("trips_log_in_now"))),f.createElement("div",{className:"trips-states-LoggedOut__section_two--3OHWQ"}))})},j=function e(t){var n=t.onLoginSuccess,o=t.children;return f.createElement(y.SocialLoginGate,{flowOrigin:"login",pid:40439,onLoginSuccess:n},function(e){return f.createElement(y.SocialLoginGate,{flowOrigin:"join",pid:40439,onLoginSuccess:n},function(t){return o(t,e)})})},S=function e(t){var n=t.onLoginFlowComplete;return f.createElement(j,null,function(e,t){return f.createElement(F,{onLoginFlowComplete:n,joinGate:e,loginGate:t})})},I={onLoginClicked:void 0,onLoginFlowComplete:void 0};S.defaultProps=I,F.defaultProps=I,j.defaultProps={onLoginSuccess:void 0};var G=n("@babel/runtime/helpers/esm/assertThisInitialized"),M=n.n(G),x=n("react-redux"),N=n("@ta/overlays.fullscreen-overlay"),P=n.n(N),T=n("@ta/overlays.modal"),z=n("@ta/overlays.managers"),W=n("@ta/common.routing"),B=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),_()(M()(M()(n)),"state",{show:!1}),n}return p()(t,e),g()(t,[{key:"renderInner",value:function e(t,n){var o=this,r=this.props,i=r.isLoggedIn,a=r.isMobile,s=r.loggedInElement,l=r.loggedOutElement;return f.createElement(w.TripInteraction,{source:"trips"},function(e){var r=function t(){return e({elementClick:{element:a?"mw_trips":"mastheadCta"}})};if(i)return f.createElement("span",{onClick:r},s);var c=f.createElement("div",{className:"modal-container"},f.createElement(W.RouteConsumer,null,function(e){var o=e.navigate;return f.createElement(F,{joinGate:t,loginGate:n,onLoginFlowComplete:function e(){return o({page:"Trips",login:!0})}})}));return f.createElement(f.Fragment,null,a?f.createElement(f.Fragment,null,l(function(){r(),o.setState({show:!0})}),o.state.show&&f.createElement(P.a,{closeButton:!0,onClose:function e(){return o.setState({show:!1})}},c)):f.createElement(f.Fragment,null,f.createElement(z.Opener,{name:"trip-link-widget-modal"},function(e){return l(function(){r(),e()})}),f.createElement(T.Modal,{name:"trip-link-widget-modal",isFullBleed:!0,closeXColorVariant:"WHITE"},c)))})}},{key:"render",value:function e(){var t=this;return f.createElement(j,null,function(e,n){return t.renderInner(e,n)})}}]),t}(f.Component),D=Object(x.connect)(function(e){return{isLoggedIn:e.auth.isMember,isMobile:"MOBILE"===e.meta.device.viewportCategory}})(B);n.d(t,"FinishedLoading",function(){return h}),n.d(t,"LoggedOut",function(){return S}),n.d(t,"LoggedOutControlled",function(){return F}),n.d(t,"LoggedOutGates",function(){return j}),n.d(t,"TripsLink",function(){return D})}}});
//# sourceMappingURL=trips.states.0e736660bf.js.map