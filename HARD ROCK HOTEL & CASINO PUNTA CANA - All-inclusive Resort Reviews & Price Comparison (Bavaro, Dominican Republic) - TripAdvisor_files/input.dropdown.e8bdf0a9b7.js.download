(window.$WP=window.$WP||[]).push({id:"@ta/input.dropdown",d:["vendor-babel","vendor-react-libs","ta-common","ta-platform","@ta/list.navigable-list","@ta/events.keyboard-event-listener","@ta/events.window"],e:["./packages/input/dropdown/index.jsx"],x:{"./packages/input/dropdown/index.jsx":["Dropdown","MultiSelectDropdown","SectionHeaderDropdown","Select"]},m:{"./packages/input/dropdown/index.jsx":function(e,n,o){"use strict";o.r(n);var t=o("@babel/runtime/helpers/esm/classCallCheck"),r=o.n(t),i=o("@babel/runtime/helpers/esm/createClass"),a=o.n(i),l=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=o.n(l),p=o("@babel/runtime/helpers/esm/getPrototypeOf"),d=o.n(p),s=o("@babel/runtime/helpers/esm/inherits"),u=o.n(s),w=o("@babel/runtime/helpers/esm/assertThisInitialized"),m=o.n(w),v=o("@babel/runtime/helpers/esm/defineProperty"),h=o.n(v),f=o("react"),_=o("@ta/styleguide.icon"),D=o("@ta/common.classnames"),g=o.n(D),b=o("@ta/list.navigable-list"),S=o("@ta/events.keyboard-event-listener"),y=o.n(S),O=o("@ta/events.window"),k=o.n(O),E={container:"input-dropdown-Dropdown__container--CnC6t",overlay:"input-dropdown-Dropdown__overlay--3iJgP",autoWidth:"input-dropdown-Dropdown__autoWidth--1Hr9c",below:"input-dropdown-Dropdown__below--3tVH2",dropdown:"input-dropdown-Dropdown__dropdown--2JVwq",small:"input-dropdown-Dropdown__small--2kN35",large:"input-dropdown-Dropdown__large--2mtaL",allowOptionWrapping:"input-dropdown-Dropdown__allowOptionWrapping--15ktm",disabled:"input-dropdown-Dropdown__disabled--XQYOf",selectLabel:"input-dropdown-Dropdown__selectLabel--x-4K4",caretDownIcon:"input-dropdown-Dropdown__caretDownIcon--2AvQv",caretGreen:"input-dropdown-Dropdown__caretGreen--2tOQM",caretLarge:"input-dropdown-Dropdown__caretLarge--2erbu",leadingIcon:"input-dropdown-Dropdown__leadingIcon--16q4h",icon:"input-dropdown-Dropdown__icon--2TBYb",option:"input-dropdown-Dropdown__option--wWHeh",hideSelection:"input-dropdown-Dropdown__hideSelection--102-J",active:"input-dropdown-Dropdown__active--CiXBO",noWrapLabel:"input-dropdown-Dropdown__noWrapLabel--pjDyv"},I=function(e){function n(){var e,o;r()(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=c()(this,(e=d()(n)).call.apply(e,[this].concat(i))),h()(m()(m()(o)),"state",{opening:!1,isOpen:!!o.props.open}),h()(m()(m()(o)),"getCheckmarkIfSelected",function(e){return e&&!o.props.hideSelection?f.createElement(_.Icon,{name:"checkmark",className:E.icon}):null}),h()(m()(m()(o)),"isDropdownMounted",!1),h()(m()(m()(o)),"selectedOptionItem",null),h()(m()(m()(o)),"dropdownOverlay",null),h()(m()(m()(o)),"currentSelectionByValue",function(){var e=o.props;return e.options[e.selectedIndex]}),h()(m()(m()(o)),"handleOnKeyDown",function(){o.selectedOptionItem&&o.dropdownOverlay&&(o.dropdownOverlay.scrollTop=o.selectedOptionItem.offsetTop-o.dropdownOverlay.offsetHeight/2+o.selectedOptionItem.offsetHeight/2)}),h()(m()(m()(o)),"createDropDownOptions",function(){var e=o.props,n=e.options,t=e.selectedIndex,r=e.onSelect,i=e.hideSelection,a=[];return n.forEach(function(e,n){var l=n===t;a.push(function(t,a){var c;return f.createElement(b.NavigableListItem,{onSelection:function e(){o.setState({opening:!1,isOpen:!1}),r(n)},onMouseMove:a,active:t,key:n},f.createElement("div",{ref:function e(n){t&&(o.selectedOptionItem=n)},className:g()(E.option,"option",(c={},h()(c,E.active,t),h()(c,E.hideSelection,i),c))},o.getCheckmarkIfSelected(l),"function"==typeof e?e(!1):e))})}),a}),o}return u()(n,e),a()(n,[{key:"componentDidMount",value:function e(){this.isDropdownMounted=!0}},{key:"componentWillUnmount",value:function e(){this.isDropdownMounted=!1}},{key:"render",value:function e(){var n,o,t=this,r=this.currentSelectionByValue(),i=this.props.onClick?this.props.onClick:function(){},a=this.props.onBlur?this.props.onBlur:function(){},l=this.props,c=l.disabled,p=l.size,d=l.autoWidth,s=l.noWrapLabel,u=l.allowOptionWrapping,w=l.leadingIcon,m=l.id,v=l.caretStyle;return f.createElement(f.Fragment,null,f.createElement("div",{className:E.container,onBlur:a,tabIndex:"0"},f.createElement("div",{id:m,className:g()(E.selectLabel,h()({},E.disabled,c)),onClick:function e(){t.setState({opening:!0,isOpen:!0}),i()}},w&&f.createElement(_.Icon,{name:w,className:E.leadingIcon}),f.createElement(_.Icon,{name:"caret-down",className:g()(E.caretDownIcon,(n={},h()(n,E.caretGreen,"green"===(null==v?void 0:v.color)),h()(n,E.caretLarge,"large"===(null==v?void 0:v.size)),n))}),r?f.createElement("div",{className:g()(h()({},E.noWrapLabel,s))},"function"==typeof r?r(!0):r):f.createElement("div",null,this.props.placeholder)),this.state.isOpen&&f.createElement("div",{ref:function e(n){t.dropdownOverlay=n},className:g()(E.overlay,E.dropdown,(o={},h()(o,E.small,"small"===p),h()(o,E.large,"large"===p),h()(o,E.autoWidth,d),h()(o,E.allowOptionWrapping,u),h()(o,E.below,this.props.openBelow),o))},f.createElement(y.a,{keyName:"Escape",callback:function e(){return t.setState({opening:!1,isOpen:!1})}}),f.createElement(b.NavigableList,{onKeyDown:this.handleOnKeyDown},this.createDropDownOptions()))),f.createElement(k.a,{event:"click",callback:function e(){if(t.isDropdownMounted){var n=t.state.opening;t.setState({opening:!1,isOpen:n})}}}))}}]),n}(f.PureComponent),N=function(e){function n(){var e,o;r()(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=c()(this,(e=d()(n)).call.apply(e,[this].concat(i))),h()(m()(m()(o)),"state",{opening:!1,isOpen:!1}),o}return u()(n,e),a()(n,[{key:"render",value:function e(){var n=this,o=this.props,t=o.options,r=o.selectedView,i=this.props.onClick?this.props.onClick:function(){};return f.createElement(f.Fragment,null,f.createElement("div",{className:"input-dropdown-MultiSelectDropdown__container--1cxzr"},f.createElement("div",{className:"input-dropdown-MultiSelectDropdown__selectLabel--iAlCo",onClick:function e(){n.setState({opening:!0,isOpen:!0}),i()}},f.createElement(_.Icon,{name:"caret-down",className:"input-dropdown-MultiSelectDropdown__caretDownIcon--2MMsE"}),f.createElement("div",null,r)),this.state.isOpen&&f.createElement("div",{className:"ui_overlay ui_dropdown ".concat("input-dropdown-MultiSelectDropdown__overlay--3fC7l")},t.map(function(e,n){return f.createElement("div",{key:n,className:"option",onClick:function e(n){n.stopPropagation()}},e)}))),f.createElement(k.a,{event:"click",callback:function e(){n.setState({opening:!1,isOpen:n.state.opening})}}))}}]),n}(f.PureComponent),C={container:"input-dropdown-SectionHeaderDropdown__container--3nJkJ",overlay:"input-dropdown-SectionHeaderDropdown__overlay--2e1Di",autoWidth:"input-dropdown-SectionHeaderDropdown__autoWidth--2SXcw",dropdown:"input-dropdown-SectionHeaderDropdown__dropdown--28JW8",small:"input-dropdown-SectionHeaderDropdown__small--3h8-P",large:"input-dropdown-SectionHeaderDropdown__large--3nR0n",allowOptionWrapping:"input-dropdown-SectionHeaderDropdown__allowOptionWrapping--2bFuG",disabled:"input-dropdown-SectionHeaderDropdown__disabled--1aB3z",selectLabel:"input-dropdown-SectionHeaderDropdown__selectLabel--3XCDn",caretDownIcon:"input-dropdown-SectionHeaderDropdown__caretDownIcon--1GUzX",leadingIcon:"input-dropdown-SectionHeaderDropdown__leadingIcon--3bwwc",icon:"input-dropdown-SectionHeaderDropdown__icon--3mWw2",option:"input-dropdown-SectionHeaderDropdown__option--3YU8Y",hideSelection:"input-dropdown-SectionHeaderDropdown__hideSelection--Lm9W9",headerOption:"input-dropdown-SectionHeaderDropdown__headerOption--VMV4d",active:"input-dropdown-SectionHeaderDropdown__active--11EVo",noWrapLabel:"input-dropdown-SectionHeaderDropdown__noWrapLabel--1YPxy"},W=function(e){function n(){var e,o;r()(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=c()(this,(e=d()(n)).call.apply(e,[this].concat(i))),h()(m()(m()(o)),"state",{opening:!1,isOpen:!!o.props.open}),h()(m()(m()(o)),"getCheckmarkIfSelected",function(e){return e&&!o.props.hideSelection?f.createElement(_.Icon,{name:"checkmark",className:C.icon}):null}),h()(m()(m()(o)),"isDropdownMounted",!1),h()(m()(m()(o)),"selectedOptionItem",null),h()(m()(m()(o)),"dropdownOverlay",null),h()(m()(m()(o)),"currentSelectionByValue",function(){var e=o.props,n=e.sections,t=e.selectedSectionRowArray;if(!t)return null;for(var r,i=n.keys(),a=i.next();!a.done;){var l=a.value;l[0]===t[0]&&(r=l),a=i.next()}var c=r&&n.get(r);return c&&c[t[1]]}),h()(m()(m()(o)),"handleOnKeyDown",function(){o.selectedOptionItem&&o.dropdownOverlay&&(o.dropdownOverlay.scrollTop=o.selectedOptionItem.offsetTop-o.dropdownOverlay.offsetHeight/2+o.selectedOptionItem.offsetHeight/2)}),h()(m()(m()(o)),"createDropDownOptions",function(){var e=o.props,n=e.sections,t=e.selectedSectionRowArray,r=e.onSelect,i=e.hideSelection,a=[],l=0;return n.forEach(function(e,n){var c=n[1],p=l;return a.push(function(e,n){return f.createElement(b.NavigableListItem,{onSelection:function e(){o.setState({opening:!1,isOpen:!1})},onMouseMove:n,active:e,key:p},f.createElement("div",{ref:function n(t){e&&(o.selectedOptionItem=t)},className:g()(C.headerOption,h()({},C.hideSelection,!0))},c))}),e.forEach(function(e,n){var c=t&&l===t[0]&&n===t[1],p=l;a.push(function(t,a){var l;return f.createElement(b.NavigableListItem,{onSelection:function e(){o.setState({opening:!1,isOpen:!1}),r([p,n])},onMouseMove:a,active:t,key:"".concat(n,'"-"').concat(p)},f.createElement("div",{ref:function e(n){t&&(o.selectedOptionItem=n)},className:g()(C.option,"option",(l={},h()(l,C.active,t),h()(l,C.hideSelection,i),l))},o.getCheckmarkIfSelected(c),"function"==typeof e?e(!1):e))})}),l+=1,a}),a}),o}return u()(n,e),a()(n,[{key:"componentDidMount",value:function e(){this.isDropdownMounted=!0}},{key:"componentWillUnmount",value:function e(){this.isDropdownMounted=!1}},{key:"render",value:function e(){var n,o=this,t=this.currentSelectionByValue(),r=this.props.onClick?this.props.onClick:function(){},i=this.props,a=i.disabled,l=i.size,c=i.autoWidth,p=i.noWrapLabel,d=i.allowOptionWrapping,s=i.leadingIcon,u=i.id;return f.createElement(f.Fragment,null,f.createElement("div",{className:C.container},f.createElement("div",{id:u,className:g()(C.selectLabel,h()({},C.disabled,a)),onClick:function e(){o.setState({opening:!0,isOpen:!0}),r()}},s&&f.createElement(_.Icon,{name:s,className:C.leadingIcon}),f.createElement(_.Icon,{name:"caret-down",className:C.caretDownIcon}),t?f.createElement("div",{className:g()(h()({},C.noWrapLabel,p))},"function"==typeof t?t(!0):t):f.createElement("div",null,this.props.placeholder)),this.state.isOpen&&f.createElement("div",{ref:function e(n){o.dropdownOverlay=n},className:g()(C.overlay,C.dropdown,(n={},h()(n,C.small,"small"===l),h()(n,C.large,"large"===l),h()(n,C.autoWidth,c),h()(n,C.allowOptionWrapping,d),n))},f.createElement(y.a,{keyName:"Escape",callback:function e(){return o.setState({opening:!1,isOpen:!1})}}),f.createElement(b.NavigableList,{onKeyDown:this.handleOnKeyDown},this.createDropDownOptions()))),f.createElement(k.a,{event:"click",callback:function e(){if(o.isDropdownMounted){var n=o.state.opening;o.setState({opening:!1,isOpen:n})}}}))}}]),n}(f.PureComponent),H={select:"input-dropdown-Select__select--32Z7s",selectBox:"input-dropdown-Select__selectBox--KRiV1",selectContainer:"input-dropdown-Select__selectContainer--3sTVr",disabled:"input-dropdown-Select__disabled--3NCLv",icon:"input-dropdown-Select__icon--3G9mO"};function L(e){var n=e.id,o=e.onChange,t=e.value,r=e.options,i=e.label,a=e.placeholder,l=e.disabled,c=r.find(function(e){return e.value===t}),p=null==c?a:c.label;return f.createElement("div",{className:H.selectContainer},f.createElement("div",{className:"".concat(H.selectBox," ").concat(l?H.disabled:"")},p,f.createElement(_.Icon,{className:H.icon,name:"caret-down"})),f.createElement("select",{id:n,className:H.select,value:t||"",onChange:function e(n){return!l&&o(n.currentTarget.value)},"aria-label":i,disabled:l},a&&f.createElement("option",{value:"placeholder",disabled:null!=c},a),r.map(function(e){return f.createElement("option",{key:e.value,value:e.value},e.label)})))}L.defaultProps={id:void 0,onChange:function e(){},label:null,placeholder:null,disabled:!1};var M=L;o.d(n,"Dropdown",function(){return I}),o.d(n,"MultiSelectDropdown",function(){return N}),o.d(n,"SectionHeaderDropdown",function(){return W}),o.d(n,"Select",function(){return M})}}});
//# sourceMappingURL=input.dropdown.e8bdf0a9b7.js.map