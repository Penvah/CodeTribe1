(window.$WP=window.$WP||[]).push({id:"ta-common",d:["vendor-babel","vendor-react-libs","ta-platform","exif-js","@ta/input.drop-zone","@ta/overlays.managers"],e:["527f7"],p:{"@ta/media.image":"./packages/media/image/image.jsx","@ta/media.common":"./packages/media/common/common.jsx","@ta/loading.error":"./packages/loading/error/index.js","@ta/failover.readonly":"./packages/failover/readonly/index.jsx","@ta/styleguide.bubble-rating":"./packages/styleguide/bubble-rating/index.jsx","@ta/styleguide.icon":"./packages/styleguide/icon/index.jsx","@ta/styleguide.loading":"./packages/styleguide/loading/index.jsx","@ta/styleguide.avatar":"./packages/styleguide/avatar/index.jsx","@ta/styleguide.button":"./packages/styleguide/button/Button.jsx","@ta/common.string":"./packages/common/string/string.jsx"},x:{"./packages/common/string/string.jsx":["inputLength","stringHash","uuid"],"./packages/failover/readonly/index.jsx":["HideOnReadonly"],"./packages/loading/error/index.js":["LoadingErrorMessage","LoadingErrorBanner","RenderErrorBanner"],"./packages/media/common/common.jsx":["getImageDimensions","getGeoPointFromExif","base64ToUint8Array","cropImageToJpegUrl","orientationValueToDegrees","photoOrientation","rotateImageIfNeeded","mediaType","checkMediaReady","getImageDataURL","restoreExifAndRotateIfNeeded","getVideoTrackingModule","getSizeWithMostPixels","supportedImageTypes","supportedVideoTypes","boundNumber","Point","Dimension","VideoPlayerProvider","VideoPlayerConsumer","ActionTypes","getMediaFilterToRetrieveAllPhotos","getMediaFilterToRetrieveDefaultPhotos"],"./packages/media/image/LazyImage.jsx":["a"],"./packages/media/image/image.jsx":["ResponsiveImage","pickSourceForSize","LazyImage"],"./packages/styleguide/avatar/index.jsx":["Avatar"],"./packages/styleguide/bubble-rating/index.jsx":["BubbleRating","BubbleRatingWithReviewCount","BubbleRatingWithLinkedReviewCount","BubbleRatingWithLabel"],"./packages/styleguide/button/Button.jsx":["default"],"./packages/styleguide/icon/Icon.jsx":["a"],"./packages/styleguide/icon/index.jsx":["Icon","IconStacked","T4BIcon"],"./packages/styleguide/loading/index.jsx":["LoadingBar","LoadingBubbles","LoadingSpinner"]},m:{"./packages/common/string/string.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"inputLength",function(){return a}),n.d(t,"stringHash",function(){return i}),n.d(t,"uuid",function(){return r});var a=function e(t){if(!t)return 0;for(var n=0,a=t.length-1;a>=0;a--){n+=1;var i=t.charCodeAt(a);(i>=19968&&i<=40959||i>=12352&&i<=12543||i>=44032&&i<=55295)&&(n+=1)}return n},i=function e(t){for(var n=5381,a=t.length;a;)n=33*n^t.charCodeAt(--a);return n>>>0},r=function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},"./packages/failover/readonly/index.jsx":function(e,t,n){"use strict";n.r(t),n("react");var a=n("react-redux"),i=Object(a.connect)(function(e){return{isReadonlyMode:e.meta.readonlyMode}})(function e(t){var n=t.isReadonlyMode,a=t.replaceWith,i=t.children;return n?void 0!==a?a:null:i});n.d(t,"HideOnReadonly",function(){return i})},"./packages/loading/error/index.js":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("./packages/styleguide/button/Button.jsx"),r=n("@ta/common.i18n"),o=function e(t){return a.createElement("div",{className:"loading-error-LoadingErrorMessage__error_block--3EMwD"},a.createElement("p",{className:"loading-error-LoadingErrorMessage__error_heading--aYyYz"},Object(r.localize)("social_loading_error_1")," "),a.createElement("p",{className:"loading-error-LoadingErrorMessage__error_body--1-Lfo"},Object(r.localize)("soical_loading_error_2")," "),a.createElement(i.default,{onClick:function e(){return t.refetch()},type:"primary",size:"large"},a.createElement("span",null,Object(r.localize)("mobile_try_again")," ")))},l=n("@ta/overlays.managers"),c=function e(t){var n=t.children;return a.createElement(l.Opener,{name:"__ERROR__",local:!0},n)},s=function e(t){var n=t.refetch;return a.createElement(l.Local,{name:"__ERROR__"},a.createElement("div",{className:"".concat("loading-error-LoadingErrorBanner__error_block--36B8-"," ui_card")},a.createElement("div",{className:"loading-error-LoadingErrorBanner__error_heading--21NVA"},Object(r.localize)("social_loading_error_1")," ",Object(r.localize)("soical_loading_error_2")," "),a.createElement(i.default,{onClick:function e(){n&&n()},type:"primary",size:"default"},Object(r.localize)("mobile_try_again")," ")))};s.defaultProps={refetch:function e(){window.location.reload()}};var u=s;n.d(t,"LoadingErrorMessage",function(){return o}),n.d(t,"LoadingErrorBanner",function(){return u}),n.d(t,"RenderErrorBanner",function(){return c})},"./packages/media/common/common.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/slicedToArray"),i=n.n(a),r=n("exif-js"),o=n.n(r),l=n("@babel/runtime/helpers/esm/classCallCheck"),c=n.n(l),s=n("@babel/runtime/helpers/esm/defineProperty"),u=n.n(s),d=[".jpg",".jpeg",".gif",".png"],g=[".mp4",".m4v",".mov"],h=function e(t){var n;return t.forEach(function(e){n?n.width*n.height<e.width*e.height&&(n=e):n=e}),n},m=function e(t,n){var a=this;c()(this,e),u()(this,"x",void 0),u()(this,"y",void 0),u()(this,"distanceFrom",function(e){return Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))}),this.x=t,this.y=n},f=function e(t,n){var a=this;c()(this,e),u()(this,"width",void 0),u()(this,"height",void 0),u()(this,"equals",function(e){return e&&a.width===e.width&&a.height===e.height}),u()(this,"aspectRatio",function(){return a.width/a.height}),this.width=t,this.height=n},p=function e(t,n,a){var i=Math.max(t,n);return Math.min(i,a)},v=function e(t){var n="ta_video";return t&&("Home"===t.page?n="home_video":"Profile"===t.page&&(n="profile_video")),n},b=new Map([["N",1],["S",-1]]),y=new Map([["E",1],["W",-1]]),k=function e(t,n){var a=i()(t,3),r=a[0],o=a[1],l=a[2],c=r+(o?o/60:0)+(l?l/3600:0);return n<0?-c:c},x=function e(t,n){var a=document.createElement("img");a.onload=function(){o.a.getData(this,function(){var e=o.a.getTag(this,"GPSLatitude"),t=o.a.getTag(this,"GPSLatitudeRef"),a=b.get(t),i=o.a.getTag(this,"GPSLongitude"),r=o.a.getTag(this,"GPSLongitudeRef"),l=y.get(r);if(e&&a&&i&&l){var c=k(e,a),s=k(i,l);n({latitude:c,longitude:s})}})};var i=document.createAttribute("src");i.value=t,a.setAttributeNode(i)},_=function e(t,n){var a=new Image;a.onload=function(){n(new f(this.width,this.height))},a.src=t},w=n("@ta/input.drop-zone"),I=n("@ta/common.logging"),S=n.n(I),E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=function e(t){var n="",a="",i="",r="",o="",l="",c=0,s=[];do{n=E.indexOf(t.charAt(c++))<<2|(r=E.indexOf(t.charAt(c++)))>>4,a=(15&r)<<4|(o=E.indexOf(t.charAt(c++)))>>2,i=(3&o)<<6|(l=E.indexOf(t.charAt(c++))),s.push(n),64!==o&&s.push(a),64!==l&&s.push(i),n="",a="",i="",r="",o="",l=""}while(c<t.length);return s},C=function e(t,n,a){var i="data:".concat(a,";base64,");if(!t.match(i))return n;var r=t.replace(i,"");if(/[^A-Za-z0-9+\/=]/g.exec(r))return n;var o=function e(t){var n=0,a=[];do{if(255===t[n]&&218===t[n+1])break;if(255===t[n]&&216===t[n+1])n+=2;else{var i=n+(256*t[n+2]+t[n+3])+2,r=t.slice(n,i);a.push(r),n=i}}while(n<=t.length);return a}(R(r));return i+function e(t){var n="",a="",i="",r="",o="",l="",c="",s="",u=0;do{o=(a=t[u++])>>2,l=(3&a)<<4|(i=t[u++])>>4,c=(15&i)<<2|(r=t[u++])>>6,s=63&r,isNaN(i)?(c=64,s=64):isNaN(r)&&(s=64),n="".concat(n).concat(E.charAt(o)).concat(E.charAt(l)).concat(E.charAt(c)).concat(E.charAt(s)),a="",i="",r="",o="",l="",c="",s=""}while(u<t.length);return n}(function e(t,n){var a=function e(t,n){var a=R(t),i=a.indexOf(255,3),r=a.slice(0,i),o=a.slice(i);return r.concat(n).concat(o)}(t,function e(t){for(var n,a=0;a<t.length;a++)if(255===(n=t[a])[0]&&225===n[1])return n;return[]}(n));return new Uint8Array(a)}(n.replace(i,""),o))},z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PhotoDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"photoIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"id"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statuses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};z.loc.source={body:"ac43ce855b4b"};var L=z,N=function e(t){for(var n=atob(t.split(",")[1]),a=[],i=0;i<n.length;)a.push(n.charCodeAt(i)),i+=1;return new Uint8Array(a)},P=function e(t,n,a,i,r,o){var l=document.createElement("canvas");return l.width=r,l.height=o,l.getContext("2d").drawImage(t,a,i,r,o,0,0,r,o),"image/png"===n?l.toDataURL():l.toDataURL("image/jpeg")},j=function e(t,n,a,i){var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=90===Math.abs(n%180)?r.height:r.width,e.height=90===Math.abs(n%180)?r.width:r.height;var t=e.getContext("2d");t.save(),t.translate(e.width/2,e.height/2),t.rotate(n*Math.PI/180),t.drawImage(r,-r.width/2,-r.height/2),t.restore(),i(e.toDataURL(a))},r.src=t},U=function e(t,n){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var t=e.getContext("2d");t.drawImage(a,0,0),t.save(),n(e.toDataURL())},a.src=t},A=function e(t){return 1===t?0:8===t?270:3===t?180:6===t?90:0},B=function e(t,n){var a=new FileReader;a.onload=function(e){var t=new DataView(e.target.result);if(65496!==t.getUint16(0,!1))return n(-2);for(var a=t.byteLength,i=2;i<a;){if(t.getUint16(i+2,!1)<=8)return n(-1);var r=t.getUint16(i,!1);if(i+=2,65505===r){if(i+=2,1165519206!==t.getUint32(i,!1))return n(-1);var o=18761===t.getUint16(i+=6,!1);i+=t.getUint32(i+4,o);var l=t.getUint16(i,o);i+=2;for(var c=0;c<l;c++)if(274===t.getUint16(i+12*c,o))return n(t.getUint16(i+12*c+8,o))}else{if(65280!=(65280&r))break;i+=t.getUint16(i,!1)}}return n(-1)},a.readAsArrayBuffer(t)},O=function e(t,n){B(t,function(e){var a=A(e);if(0===a)n(URL.createObjectURL(t));else{var i=new FileReader;i.onload=function(e){var i=e.target.result.toString(),r=t.type,o=URL.createObjectURL(t);j(o,a,r,function(e){URL.revokeObjectURL(o);var t=e;try{t=C(i,t,r)}catch(e){S.a.warn("Cannot restore exif:",e)}var a=new Blob([N(t)],{type:r});n(URL.createObjectURL(a))})},i.readAsDataURL(t)}})},T=function e(t,n,a,i){var r=new FileReader;r.onload=function(){var e=r.result.toString(),t=C(e,n,a);i(t)},r.readAsDataURL(t)},D=function e(t,n,a,i){t?fetch(t,{method:"GET",credentials:"same-origin"}).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.blob()}).then(function(e){B(e,function(t){var r=A(t);0===r?T(e,n,a,i):j(n,-r,a,function(t){T(e,t,a,i)})})}).catch(function(e){S.a.warn("Cannot restore exif:",e),i(n)}):i(n)},M=function e(t){return d.includes(Object(w.fileExtentsion)(t))?"photo":g.includes(Object(w.fileExtentsion)(t))?"video":"unknown"},V=function e(t,n,a,i,r){n>a?r():setTimeout(function(){i.query({query:L,variables:{id:t},fetchPolicy:"network-only"}).then(function(o){if(o.data&&o.data.photos&&o.data.photos[0]){var l=o.data.photos[0].statuses;l&&0!==l.length&&!l.includes("UPLOADING")?r():e(t,n+1,a,i,r)}else e(t,n+1,a,i,r)})},1e3)},F=n("@babel/runtime/helpers/esm/createClass"),W=n.n(F),H=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),G=n.n(H),q=n("@babel/runtime/helpers/esm/getPrototypeOf"),K=n.n(q),J=n("@babel/runtime/helpers/esm/inherits"),Y=n.n(J),Z=n("@babel/runtime/helpers/esm/assertThisInitialized"),Q=n.n(Z),$=n("@babel/runtime/helpers/esm/objectSpread"),X=n.n($),ee=n("react"),te=n("@ta/common.object-util"),ne=ee.createContext(null),ae={VIDEO_VISIBLE:"VIDEO_VISIBLE",VIDEO_INVISIBLE:"VIDEO_INVISIBLE"},ie=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function e(){return Object.freeze({})}(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ae.VIDEO_VISIBLE:return!t.activePlayer||t.activePlayer!==n.player&&t.activePlayer.state.userInteracted?X()({},t,{activePlayer:n.player}):t.activePlayer!==n.player&&n.player.elemPosition+50<t.activePlayer.elemPosition?X()({},t,{activePlayer:n.player}):t;case ae.VIDEO_INVISIBLE:return t.activePlayer===n.player?X()({},t,{activePlayer:void 0}):t;default:return t}},re=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=G()(this,(e=K()(t)).call.apply(e,[this].concat(i))),u()(Q()(Q()(n)),"state",{activePlayer:void 0,dispatch:function e(t){var a=ie(n.state,t);Object(te.shallowEquals)(a,n.state)||n.setState(a)}}),n}return Y()(t,e),W()(t,[{key:"render",value:function e(){var t=this.state,n=this.props.children;return ee.createElement(ne.Provider,{value:t},n)}}]),t}(ee.PureComponent),oe=ne.Consumer,le=n("@ta/common.features"),ce=function e(){return{mediaGroup:Object(le.featureIsEnabled)("display_restricted_partner_photos")||Object(le.featureIsEnabled)("bcom_partner_photos")?"ALL_INCLUDING_RESTRICTED":"ALL_UNRESTRICTED"}},se=function e(){return{mediaGroup:Object(le.featureIsEnabled)("display_restricted_partner_photos")||Object(le.featureIsEnabled)("bcom_partner_photos")?"DEFAULT_INCLUDING_RESTRICTED":"DEFAULT"}};n.d(t,"getImageDimensions",function(){return _}),n.d(t,"getGeoPointFromExif",function(){return x}),n.d(t,"base64ToUint8Array",function(){return N}),n.d(t,"cropImageToJpegUrl",function(){return P}),n.d(t,"orientationValueToDegrees",function(){return A}),n.d(t,"photoOrientation",function(){return B}),n.d(t,"rotateImageIfNeeded",function(){return O}),n.d(t,"mediaType",function(){return M}),n.d(t,"checkMediaReady",function(){return V}),n.d(t,"getImageDataURL",function(){return U}),n.d(t,"restoreExifAndRotateIfNeeded",function(){return D}),n.d(t,"getVideoTrackingModule",function(){return v}),n.d(t,"getSizeWithMostPixels",function(){return h}),n.d(t,"supportedImageTypes",function(){return d}),n.d(t,"supportedVideoTypes",function(){return g}),n.d(t,"boundNumber",function(){return p}),n.d(t,"Point",function(){return m}),n.d(t,"Dimension",function(){return f}),n.d(t,"VideoPlayerProvider",function(){return re}),n.d(t,"VideoPlayerConsumer",function(){return oe}),n.d(t,"ActionTypes",function(){return ae}),n.d(t,"getMediaFilterToRetrieveAllPhotos",function(){return ce}),n.d(t,"getMediaFilterToRetrieveDefaultPhotos",function(){return se})},"./packages/media/image/LazyImage.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n("@babel/runtime/helpers/esm/extends"),i=n.n(a),r=n("@babel/runtime/helpers/esm/objectSpread"),o=n.n(r),l=n("@babel/runtime/helpers/esm/classCallCheck"),c=n.n(l),s=n("@babel/runtime/helpers/esm/createClass"),u=n.n(s),d=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),g=n.n(d),h=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(h),f=n("@babel/runtime/helpers/esm/inherits"),p=n.n(f),v=n("@babel/runtime/helpers/esm/assertThisInitialized"),b=n.n(v),y=n("@babel/runtime/helpers/esm/defineProperty"),k=n.n(y),x=n("react"),_=n("@ta/common.is-visible"),w=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=g()(this,(e=m()(t)).call.apply(e,[this].concat(i))),k()(b()(b()(n)),"state",{seen:!1}),k()(b()(b()(n)),"seen",function(){n.setState({seen:!0})}),n}return p()(t,e),u()(t,[{key:"render",value:function e(){var t=this,n=o()({},this.props);return delete n.loadingElement,this.state.seen||(void 0!==n.src&&delete n.src,void 0!==n.srcSet&&delete n.srcSet),delete n.threshold,this.state.seen?x.createElement("img",n):x.createElement(_.HasBeenVisible,{threshold:this.props.threshold,onVisible:this.seen},function(e){return t.props.loadingElement?t.props.loadingElement(e):x.createElement("img",i()({ref:e},n))})}}]),t}(x.Component);k()(w,"defaultProps",{srcSet:void 0,sizes:void 0,className:void 0,onLoad:void 0,threshold:200})},"./packages/media/image/image.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/extends"),i=n.n(a),r=n("@babel/runtime/helpers/esm/classCallCheck"),o=n.n(r),l=n("@babel/runtime/helpers/esm/createClass"),c=n.n(l),s=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=n.n(s),d=n("@babel/runtime/helpers/esm/getPrototypeOf"),g=n.n(d),h=n("@babel/runtime/helpers/esm/inherits"),m=n.n(h),f=n("@babel/runtime/helpers/esm/assertThisInitialized"),p=n.n(f),v=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(v),y=n("react"),k=n("@ta/common.classnames"),x=n.n(k),_=n("@ta/common.features"),w=n("@ta/common.is-visible"),I=n("@ta/common.logging"),S=n.n(I),E=function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=1.5;return"undefined"!=typeof window&&window.devicePixelRatio&&t&&(n=Math.min(window.devicePixelRatio,1.5)),n},R=function e(t,n,a,i){var r=i&&i.allowedStretch||.25,o=i&&i.pickImageBasedOnClientInfo||!0,l=E(o),c=n*l,s=t*l,u=c*s,d=a.filter(function(e){return e.width<=2560});if(0===d.length){var g=a.length>0&&(!a[0].width||!a[0].height);return S.a.error("ResponsiveImage: no suitable source found. sources.length ".concat(a.length," missingWidthHeight ").concat(g.toString())),{url:"",width:0,height:0}}var h=d.map(function(e){var t=(s-e.width)/e.width,n=(c-e.height)/e.height,a=Math.max(t,n),i=e.width*e.height;return{src:e,stretchRatio:a,wastedRatio:(i-u)/i}});h.sort(function(e,t){return e.wastedRatio-t.wastedRatio});var m=h.filter(function(e){return e.src.width*e.src.height<=4e4}).filter(function(e){return e.stretchRatio<=0});if(m.length>0){var f=m[0].src;return{url:f.url,width:f.width,height:f.height}}var p=h.filter(function(e){return e.stretchRatio<=r});if(p.length>0){var v=p[0].src;return{url:v.url,width:v.width,height:v.height}}h.sort(function(e,t){return e.stretchRatio-t.stretchRatio});var b=h[0].src;return{url:b.url,width:b.width,height:b.height}},C=function e(t,n){var a=Math.floor(t/n)*n,i=Math.ceil(t/n)*n,r=0===a?0:(t-a)/a;return 0===r||r>.25?i:a},z=function e(t,n,a,i,r){var o,l=E(i),c="",s=0,u=0;a.forEach(function(e){(!o||e.width>o.width)&&(o=e),e.url.indexOf("/photo-o/")>-1?(c=e.url,s=e.width,u=e.height):e.url.indexOf("/photo-m/")>-1&&(c=e.url.replace("/photo-m/1280/","/photo-o/"),s=e.width,u=e.height)}),""===c&&o&&(c=o.url,s=o.width,u=o.height);var d=C(t*l,50),g=C(n*l,50);d>s&&(d=s),g>u&&(g=u);var h=s/u,m=t/n;(Math.abs(h-m)/m<.1||"cover"!==r)&&(g=Math.ceil(d*u/s));var f="https://io-tacdn-com.global.ssl.fastly.net".concat(c.substring(c.indexOf("/media/")));return{url:"".concat(f,"?width=").concat(d,"&height=").concat(g,"&fit=crop&auto=webp"),width:d,height:g}},L=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=u()(this,(e=g()(t)).call.apply(e,[this].concat(i))),b()(p()(p()(n)),"state",{drawable:!!n.props.ssrContainerDimensions,pickImageBasedOnClientInfo:!1}),b()(p()(p()(n)),"getContainerSize",function(){var e=n.containerNode.current;if(!e||0===e.clientWidth||0===e.clientHeight||!n.state.pickImageBasedOnClientInfo){if(!n.props.ssrContainerDimensions)return null;e=n.props.ssrContainerDimensions}var t=e,a=t.clientWidth,i=t.clientHeight;return 0===i||0===a?null:{clientWidth:a,clientHeight:i}}),b()(p()(p()(n)),"containerNode",y.createRef()),b()(p()(p()(n)),"argCache",{sources:null,containerSize:null,result:null}),b()(p()(p()(n)),"pickImage",function(e){var t=n.getContainerSize();return n.cachedPickUrlFromContainerSize(e,t)}),b()(p()(p()(n)),"pickUrlFromContainerSize",function(e,t){if(!e||0===e.length||!t)return null;var a,i=t.clientWidth,r=t.clientHeight,o=n.state.pickImageBasedOnClientInfo;if(Object(_.featureIsEnabled)("media991_fastly_ondemand_resizing"))a=z(i,r,e,o,n.props.fitStrategy);else{var l={pickImageBasedOnClientInfo:o,allowedStretch:n.props.allowedStretch};a=R(i,r,e,l)}return"function"==typeof n.props.onImageChosen&&n.props.onImageChosen(a.url),a}),b()(p()(p()(n)),"cachedPickUrlFromContainerSize",function(e,t){var a=n.argCache.containerSize&&n.argCache.containerSize.clientWidth||-1,i=n.argCache.containerSize&&n.argCache.containerSize.clientHeight||-1,r=t&&t.clientWidth||0,o=t&&t.clientHeight||0;return n.argCache.sources===e&&t&&a>=r&&i>=o&&n.argCache.result?n.argCache.result:(n.argCache={result:n.pickUrlFromContainerSize(e,t),sources:e,containerSize:t},n.argCache.result)}),b()(p()(p()(n)),"drawable",function(){n.setState({drawable:!0})}),n}return m()(t,e),c()(t,[{key:"componentDidMount",value:function e(){this.setState({pickImageBasedOnClientInfo:!0})}},{key:"renderAltText",value:function e(){var t=this.props.alt;return t?y.createElement("span",{role:"img","aria-label":t}):null}},{key:"render",value:function e(){var t=this.state.drawable?this.pickImage(this.props.sources):null,n=t&&"string"==typeof t.url?'url("'.concat(t.url,'")'):"none",a=this.props,r=a.children,o=a.fitStrategy,l=a.height,c=a.width,s=a.padding,u=a.borderRadius,d=a.transform,g=a.opacity,h=a.threshold,m=a.backgroundColor,f=a.backgroundPosition,p=a.customFitStrategySelector,v=a.ssrContainerDimensions,k="cover";if("contain"===o||"cover"===o)k=o;else if("calculated"===o){var I=this.containerNode.current;!I&&v&&(I=v),I&&t&&"function"==typeof p&&(k=p(t.width,t.height,I.clientWidth,I.clientHeight))}var S,E={className:x()("media-image-ResponsiveImage__default--1s-9x",b()({},"media-image-ResponsiveImage__findResponsiveImage--PI9cG",Object(_.featureIsEnabled)("media_find_responsive_image"))),style:{height:l,width:c,padding:s,borderRadius:u,transform:d,opacity:g,backgroundImage:n,backgroundColor:m,backgroundPosition:f,backgroundSize:k}};S=this.state.drawable||this.props.notLazy?y.createElement("div",i()({ref:this.containerNode},E),this.renderAltText(),r):y.createElement(w.HasBeenVisible,{node:this.containerNode,threshold:h,onVisible:this.drawable},y.createElement("div",i()({ref:this.containerNode},E),this.renderAltText(),r));var R=this.props.preloadImage&&t?y.createElement("link",{rel:"preload",crossOrigin:!0,as:"image",type:"image/jpeg",href:t.url}):null;return y.createElement(y.Fragment,null,S,R)}}],[{key:"getDerivedStateFromProps",value:function e(t,n){return t.notLazy&&!n.drawable?{drawable:!0}:null}}]),t}(y.Component);b()(L,"defaultProps",{padding:void 0,borderRadius:void 0,threshold:200,fitStrategy:"cover",customFitStrategySelector:function e(t,n,a,i){if(0===i||0===a||0===n||0===t)return"cover";var r=t/n,o=a/i;if(0===r||0===o)return"cover";var l=r<o,c=l?r/o:o/r;if(c>.75)return"cover";var s=c/.75;return l?"".concat(100*s,"% auto"):"auto ".concat(100*s,"%")},preloadImage:!1});var N=n("./packages/media/image/LazyImage.jsx");n.d(t,"ResponsiveImage",function(){return L}),n.d(t,"pickSourceForSize",function(){return R}),n.d(t,"LazyImage",function(){return N.a})},"./packages/styleguide/avatar/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("@ta/common.classnames"),r=n.n(i),o=n("react-redux"),l=n("@ta/common.routing"),c=n("./packages/styleguide/icon/Icon.jsx"),s=n("./packages/media/image/LazyImage.jsx"),u={avatar:"styleguide-avatar-Avatar__avatar--2NStU"},d={"xtra-small":24,small:32,default:42,large:72,"xtra-large":120},g={className:void 0,photo:void 0,icon:null,size:"default",tabletSize:void 0,desktopSize:void 0,widescreenSize:void 0,display:null,href:"",target:"_blank",mobileTarget:void 0,onClick:void 0,imgCdnUrl:"",alt:"",withBorder:!1,notLazy:!1},h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=d[n],i=null;if(t&&t.photoSizes&&t.photoSizes.length>0){var r=t.photoSizes.find(function(e){return e.width>=a?e.url:null});i=r?r.url:t.photoSizes[t.photoSizes.length-1].url}return i},m=function e(t){var n=t.photoUrl,i=t.imgCdnUrl,r=t.icon,o=t.alt,l=t.notLazy;return a.createElement(a.Fragment,null,n?function e(t,n,i){return i?a.createElement("img",{src:t,alt:n}):a.createElement(s.a,{src:t,alt:n})}(function e(t,n){return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:n?n+t:t}(n,i),o||"",l):a.createElement(c.a,{name:"member-fill"}),r&&a.createElement("div",{className:r}))},f=function e(t){return a.createElement(l.ResponsiveTargetLink,{className:t.className,href:t.href,target:t.target,mobileTarget:t.mobileTarget,onClick:t.onClick},a.createElement(m,{photoUrl:t.photoUrl,imgCdnUrl:t.imgCdnUrl,icon:t.icon,alt:t.alt,notLazy:t.notLazy}))};function p(e){var t=e.photo,n=e.photoUrl,i=e.imgCdnUrl,o=e.viewportCategory,l=e.icon,c=e.size,s=e.tabletSize,d=e.desktopSize,g=e.widescreenSize,p=e.display,v=e.href,b=e.onClick,y=e.alt,k=e.withBorder?"ui_social_avatar":"ui_avatar",x="default"!==e.size&&e.size,_=s?"".concat(s,"-tablet"):null,w=d?"".concat(d,"-desktop"):null,I=g?"".concat(g,"-widescreen"):null,S=r()(u.avatar,k,x,_,w,I,p,e.className),E=t?h(t,"DESKTOP"===o?d||s||c:"TABLET"===o&&s||c):n;return v?a.createElement(f,{photoUrl:E,imgCdnUrl:e.imgCdnUrl,icon:e.icon,href:e.href,target:e.target,mobileTarget:e.mobileTarget,onClick:e.onClick,alt:e.alt,className:S,withBorder:e.withBorder,notLazy:e.notLazy}):a.createElement("span",{className:S,onClick:b},a.createElement(m,{photoUrl:E,imgCdnUrl:i,icon:l,alt:y,notLazy:e.notLazy}))}f.defaultProps={photoUrl:null,icon:g.icon,className:g.className,href:g.href,target:g.target,onClick:g.onClick,imgCdnUrl:g.imgCdnUrl,alt:g.alt,withBorder:g.withBorder,mobileTarget:g.mobileTarget},m.defaultProps={photoUrl:f.defaultProps.photoUrl,imgCdnUrl:g.imgCdnUrl,icon:g.icon,alt:g.alt,notLazy:g.notLazy},p.defaultProps=g;var v=Object(o.connect)(function(e){return{imgCdnUrl:e.meta.imageCdnUrl,viewportCategory:e.meta.device.viewportCategory}})(p);n.d(t,"Avatar",function(){return v})},"./packages/styleguide/bubble-rating/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=function e(t){var n=t.rating,i=t.verticalAlign,r=t.useAffiliateStars,o=function e(t){return 5*Math.round(2*t)}(n),l=o>=0&&o<=50?function e(t){return 5===t?"05":"".concat(t)}(o):"0",c=r?"ui_star_rating star_":"ui_bubble_rating bubble_";return a.createElement("span",{className:"".concat(c).concat(l),style:i&&{verticalAlign:i}})};i.defaultProps={verticalAlign:null,useAffiliateStars:!1};var r=i,o=n("@ta/common.i18n"),l=function e(t){return a.createElement("div",{className:"ui_poi_review_rating ".concat(t.hoverable?"styleguide-bubble-rating-BubbleRatingWithLabel__hoverable--2Md13":""),style:t.fontSize&&{fontSize:t.fontSize,lineHeight:1.29}},a.createElement(r,{rating:t.rating,verticalAlign:t.bubbleRatingVerticalAlign,useAffiliateStars:t.useAffiliateStars}),t.label)};l.defaultProps={fontSize:null,hoverable:!1,bubbleRatingVerticalAlign:null,useAffiliateStars:!1};var c=l,s=function e(t){var n="reviewCount ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__reviewCount--37tMc");return t.dottedRatingUnderline&&(n+=" ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__dottedUnderline--1oKfh")),a.createElement(c,{rating:t.rating,fontSize:t.fontSize,hoverable:t.bubbleRatingHoverable,bubbleRatingVerticalAlign:t.bubbleRatingVerticalAlign,useAffiliateStars:t.useAffiliateStars,label:a.createElement("span",{className:n,style:t.fontSize&&{fontSize:t.fontSize}},Object(o.localize)("mobile_reviews_plural",{0:o.globalize.formatNumber("integer",t.numReviews)}))})};s.defaultProps={fontSize:null,bubbleRatingHoverable:!1,dottedRatingUnderline:!1,bubbleRatingVerticalAlign:null,useAffiliateStars:!1};var u=s,d=n("@ta/common.routing"),g=function e(t){var n="reviewCount ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__reviewCount--37tMc");return t.dottedRatingUnderline&&(n+=" ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__dottedUnderline--1oKfh")),a.createElement(c,{rating:t.rating,useAffiliateStars:t.useAffiliateStars,bubbleRatingVerticalAlign:t.bubbleRatingVerticalAlign,label:a.createElement(d.Link,{href:t.url,onClick:t.onClick},a.createElement("span",{className:n,style:t.fontSize&&{fontSize:t.fontSize}},Object(o.localize)("mobile_reviews_plural",{0:o.globalize.formatNumber("integer",t.numReviews)})))})};g.defaultProps={fontSize:null,onClick:void 0,dottedRatingUnderline:!1,useAffiliateStars:!1,bubbleRatingVerticalAlign:null};var h=g;n.d(t,"BubbleRating",function(){return r}),n.d(t,"BubbleRatingWithReviewCount",function(){return u}),n.d(t,"BubbleRatingWithLinkedReviewCount",function(){return h}),n.d(t,"BubbleRatingWithLabel",function(){return c})},"./packages/styleguide/button/Button.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("@ta/common.classnames"),r=n.n(i),o=function e(t){var n=t.children,i=t.size,o=t.type,l=t.fullwidth,c=t.chevron,s=t.loading,u=t.disabled,d=t.onClick;return a.createElement("button",{className:r()("ui_button","none"!==o?o:"","default"!==i?i:"",{chevron:c,disabled:u,loading:s,fullwidth:l}),disabled:u,onClick:d},n)};o.defaultProps={children:null,onClick:function e(){},type:"original",size:"default",chevron:!1,loading:!1,disabled:!1,fullwidth:!1},t.default=o},"./packages/styleguide/icon/Icon.jsx":function(e,t,n){"use strict";var a=n("react"),i=function e(t){var n=t.name,i=t.className,r=t.children;return a.createElement("span",{className:"ui_icon ".concat(n," ").concat(i)},r)};i.defaultProps={className:"",children:void 0},t.a=i},"./packages/styleguide/icon/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("./packages/styleguide/icon/Icon.jsx"),i=n("@babel/runtime/helpers/esm/defineProperty"),r=n.n(i),o=n("react"),l=n("@ta/common.classnames"),c=n.n(l),s=function e(t){var n=t.innerIcon,i=t.outerIcon,l=t.hover,s=t.active;return o.createElement("span",{className:c()("ui_icon_stacked","styleguide-icon-IconStacked__ui_icon_stacked--3-Z0a",r()({},"styleguide-icon-IconStacked__hover--1H_k_",l))},o.createElement("span",{className:"styleguide-icon-IconStacked__ui_icon_stacked_inner--1Q9Mh"},o.createElement(a.a,{name:n,className:c()("stacked","styleguide-icon-IconStacked__innerIcon--HUV1T",r()({},"styleguide-icon-IconStacked__active--3zJoA",s))}),o.createElement(a.a,{name:i,className:c()("stacked","styleguide-icon-IconStacked__outerIcon--7s7FA")})))};s.defaultProps={hover:!1,active:!1};var u=s,d=function e(t){var n=t.name,a=t.className;return o.createElement("span",{className:"t4b_ui_icon ".concat(n," ").concat(a)})};d.defaultProps={className:""};var g=d;n.d(t,"Icon",function(){return a.a}),n.d(t,"IconStacked",function(){return u}),n.d(t,"T4BIcon",function(){return g})},"./packages/styleguide/loading/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i={loadingBar:"styleguide-loading-LoadingBar__loadingBar--3d3LK",infinite:"styleguide-loading-LoadingBar__infinite--3vw-S",loading:"styleguide-loading-LoadingBar__loading--39ZY9",percentBar:"styleguide-loading-LoadingBar__percentBar--2L6I6"},r=function e(t){var n=t.visible,r=t.topDistance,o=t.transitionDuration,l=t.infinite,c=t.percent,s=t.zIndex;return a.createElement("div",{className:[i.loadingBar,l?i.infinite:""].join(" "),style:{display:n?"block":"none",top:r,transitionDuration:o,zIndex:s}},a.createElement("div",{className:i.percentBar,style:{width:"".concat(c,"%"),display:c>0?"block":"none"}}))};r.defaultProps={infinite:!1,percent:0,topDistance:0,transitionDuration:"500ms",visible:!0,zIndex:"auto"};var o=r,l=function e(t){var n=t.size,i=t.color;return a.createElement("span",{className:"ui_loader ".concat(n||""," ").concat(i||"")},a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null))};l.defaultProps={size:void 0,color:void 0};var c=l,s=function e(t){var n=t.size,i=t.inverted;return a.createElement("div",{className:"ui_spinner ".concat(n||""," ").concat(i?"inverted":"")})};s.defaultProps={size:void 0,inverted:!1};var u=s;n.d(t,"LoadingBar",function(){return o}),n.d(t,"LoadingBubbles",function(){return c}),n.d(t,"LoadingSpinner",function(){return u})},"527f7":function(e,t,n){e.exports=n}}});
//# sourceMappingURL=ta-common.03e658bc28.js.map