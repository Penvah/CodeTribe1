(window.$WP=window.$WP||[]).push({id:"@ta/hotels.hotel-review-location",d:["vendor-babel","vendor-react-libs","ta-platform","@ta/styleguide.skeleton","@ta/common.grid","@ta/hotels.hotel-review-layout","@ta/public.business-listing","@ta/public.ride-service-callout","ta-common","@ta/common.text","vendor-apollo-libs","@ta/events.window-resize","@ta/maps.snapshot","@ta/overlays.tooltip"],e:["./packages/hotels/hotel-review-location/hotel-review-location.jsx"],x:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":["default","ssrQueries"]},m:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/objectSpread"),i=n.n(a),l=n("@babel/runtime/helpers/esm/classCallCheck"),r=n.n(l),o=n("@babel/runtime/helpers/esm/createClass"),c=n.n(o),s=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),d=n.n(s),u=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(u),v=n("@babel/runtime/helpers/esm/inherits"),p=n.n(v),k=n("@babel/runtime/helpers/esm/assertThisInitialized"),g=n.n(k),h=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(h),N=n("react"),y=n("@ta/common.api"),f=n("@ta/common.i18n"),_=n("@ta/common.is-visible"),E=n("@ta/common.tracking"),I=n.n(E),S=n("@ta/styleguide.skeleton"),w=n.n(S),C=n("@ta/common.grid"),L=n("@ta/hotels.hotel-review-layout"),A=n("@ta/common.features"),T=function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-layout-LocationColumn__locationColumn--kANeS"},t.children)},F=n("@ta/common.classnames"),O=n.n(F),M=function e(t){var n=t.children,a=t.title,i=t.fillSpace;return N.createElement("div",{className:O()("hotels-hotel-review-location-layout-SubSection__content--1ZnEg",i&&"hotels-hotel-review-location-layout-SubSection__fill--39hMi")},N.createElement("div",{className:"hotels-hotel-review-location-layout-SubSection__title--4W3t8"},a),n)};M.defaultProps={fillSpace:!1};var R=M,V=n("@ta/overlays.tooltip"),U=n.n(V),z=n("@ta/styleguide.icon"),j=n("react-apollo"),D=n("@ta/public.business-listing"),P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GeoPointInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isMobile"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"servletName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnitLengthInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useHPS"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"currentLocation"},name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyAttractionsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ATTRACTION"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyHotelsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HOTEL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyRestaurantsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"RESTAURANT"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"businessAdvantage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"isMobile"},value:{kind:"Variable",name:{kind:"Name",value:"isMobile"}}},{kind:"Argument",name:{kind:"Name",value:"commerceCountryId"},value:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}}},{kind:"Argument",name:{kind:"Name",value:"servletName"},value:{kind:"Variable",name:{kind:"Name",value:"servletName"}}},{kind:"Argument",name:{kind:"Name",value:"isSponsoredAttribution"},value:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContactBaFields"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyTransit"},name:{kind:"Name",value:"nearby"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"1.0"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}},{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}]}},{kind:"Argument",name:{kind:"Name",value:"locationFilter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"placeType"},value:{kind:"EnumValue",value:"METRO_STATION"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocations"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyAirports"},name:{kind:"Name",value:"nearestAirports"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"50.0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportLocationId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyLocations"},name:{kind:"Name",value:"locationsWithDistance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}}},{kind:"Argument",name:{kind:"Name",value:"fromPoint"},value:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPS"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hotels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"walkScore"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ContactBaFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationProductData"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinkType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailParts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickTrackingUrl"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"encode"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"column"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StandardLocationInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NearbyLocations"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Hotel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nearbyLocations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"distanceUnit"},value:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPS"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attractionCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hotelCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restaurantCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:3101}};P.loc.source={body:"637239943a0c"};var x=P,H={loading:!0,hasGeoCenter:!1,currentLocation:null,distanceRange:0,walkScore:null,hotels:[],restaurants:[],attractions:[],contacts:null,restaurantsCount:0,attractionsCount:0,nearbyAttractionsUrl:null,nearbyHotelsUrl:null,nearbyRestaurantsUrl:null,nearbyTransit:null,nearbyAirports:null},B=N.createContext(H),G=B.Consumer,Y=B.Provider,Q=function e(t){var n=t.locationId,a=t.placeType,i=t.name,l=t.latitude,r=t.longitude,o=t.distanceFromCenter,c=t.url,s=t.reviewSummary;return{locationId:n,placeType:a,name:i,latitude:l,longitude:r,distanceInMiles:o,url:c,rating:s?s.rating:0,reviewCount:s?s.count:0}},q=function e(t){var n=t.locationId,a=t.nearbyLocationData,i=t.isMobile,l=t.commerceCountryId,r=t.servlet,o=t.sponsoredListingLocationIdAttribution,c=t.distanceUnit,s={latitude:a&&a.centerLatitude||0,longitude:a&&a.centerLongitude||0},d={locationId:n,nearbyLocationIds:a&&a.nearbyLocationIds||[],centerPoint:s,useGQForAirports:Object(A.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),isMobile:i,commerceCountryId:l,servletName:r,isSponsoredAttribution:o===n,useHPS:Object(A.featureIsEnabled)("hr_location_via_hps"),distanceUnit:c};return{query:x,errorPolicy:"all",variables:d,skip:!d.locationId||d.locationId<0}},W=function e(t){var n=q(t),a=t.children,l=t.nearbyLocationData;return N.createElement(j.Query,{query:n.query,variables:n.variables,errorPolicy:n.errorPolicy,skip:n.skip},function(e){var t,r=e.loading,o=e.data;if(r)t=H;else if(o&&o.currentLocation&&o.currentLocation[0]&&(o.nearbyLocations||o.currentLocation[0].detail&&o.currentLocation[0].detail.nearbyLocations||o.currentLocation[0].nearbyAirports)){var c=o.currentLocation[0];t={loading:r,hasGeoCenter:!1,distanceRange:0,walkScore:o.hotels&&o.hotels[0]?o.hotels[0].walkScore:null,currentLocation:Q(o.currentLocation[0]),hotels:[],restaurants:[],attractions:[],nearbyAttractionsUrl:c.nearbyAttractionsUrl,nearbyHotelsUrl:c.nearbyHotelsUrl,nearbyRestaurantsUrl:c.nearbyRestaurantsUrl,nearbyTransit:c.nearbyTransit,nearbyAirports:c.nearbyAirports,contacts:c.businessAdvantage&&Object(D.remapContacts)(c.businessAdvantage.contactLinks||[]),restaurantsCount:0,attractionsCount:0},n.variables.useHPS&&c&&c.detail&&c.detail.nearbyLocations?(t.hasGeoCenter=!(!c.latitude||!c.longitude),t.distanceRange=c.detail.nearbyLocations.distanceRange||0,t.restaurantsCount=c.detail.nearbyLocations.restaurantCount||0,t.attractionsCount=c.detail.nearbyLocations.attractionCount||0,(c.detail.nearbyLocations.locationList||[]).forEach(function(e){if(e&&e.location)switch(e.placeType){case"ACCOMMODATION":t.hotels.push(Q(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})));break;case"EATERY":t.restaurants.push(i()({},Q(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})),{cuisines:e.location&&e.location.detail&&e.location.detail.cuisines||[]}));break;case"ATTRACTION":t.attractions.push(i()({},Q(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})),{category:e.location&&e.location.detail&&e.location.detail.category||[],type:e.location&&e.location.detail&&e.location.detail.type||[]}))}})):l&&o.nearbyLocations&&(t.distanceRange=l.distanceRange||0,t.hasGeoCenter=!(!l.centerLatitude||!l.centerLongitude),t.restaurantsCount=l.restaurantsCount||0,t.attractionsCount=l.attractionsCount||0,(o.nearbyLocations||[]).forEach(function(e){if(e)switch(e.placeType){case"ACCOMMODATION":t.hotels.push(Q(e));break;case"EATERY":t.restaurants.push(i()({},Q(e),{cuisines:e.detail&&e.detail.cuisines||[]}));break;case"ATTRACTION":t.attractions.push(i()({},Q(e),{category:e.detail&&e.detail.category||[],type:e.detail&&e.detail.type||[]}))}}))}else t=i()({},H,{loading:!1});return N.createElement(Y,{value:t},a)})},Z={orange:"hotels-hotel-review-location-layout-Highlight__orange--1N-BP",blue:"hotels-hotel-review-location-layout-Highlight__blue--2qc3K",green:"hotels-hotel-review-location-layout-Highlight__green--3lccI",wrapper:"hotels-hotel-review-location-layout-Highlight__wrapper--1Ome5",number:"hotels-hotel-review-location-layout-Highlight__number--S3wsZ",collapsible:"hotels-hotel-review-location-layout-Highlight__collapsible--1Ht-P",arrowIcon:"hotels-hotel-review-location-layout-Highlight__arrowIcon--1driA",icon:"hotels-hotel-review-location-layout-Highlight__icon--DYg-3"},K=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"state",{collapsed:!0}),b()(g()(g()(n)),"toggleCollapse",function(){return n.setState({collapsed:!n.state.collapsed})}),n}return p()(t,e),c()(t,[{key:"render",value:function e(){var t=this.props,n=t.number,a=t.children,i=t.color,l=t.icon,r=t.viewport,o=t.collapsedContent,c=Z[i];return"MOBILE"===r&&o?N.createElement(C.Column,{width:4},N.createElement("div",{className:Z.collapsible,onClick:this.toggleCollapse},N.createElement(z.Icon,{name:this.state.collapsed?"caret-down":"caret-up",className:Z.arrowIcon}),l&&N.createElement(z.Icon,{name:l,className:"".concat(Z.icon," ").concat(c)}),N.createElement("span",{className:"".concat(Z.number," ").concat(c)},n),a,this.state.collapsed?o(!0):o(!1))):N.createElement(C.Column,{width:4},N.createElement("div",{className:Z.wrapper},N.createElement("span",{className:"".concat(Z.number," ").concat(c)},n),a))}}]),t}(N.Component);b()(K,"defaultProps",{icon:""});var X=K,$={tooltip:"hotels-hotel-review-location-Infographic__tooltip--FoMax",infoCircle:"hotels-hotel-review-location-Infographic__infoCircle--1Cfmm",title:"hotels-hotel-review-location-Infographic__title--1IDkR",orange:"hotels-hotel-review-location-Infographic__orange--1x9a-",blue:"hotels-hotel-review-location-Infographic__blue--3o2UL",green:"hotels-hotel-review-location-Infographic__green--5PNC9",collapsible:"hotels-hotel-review-location-Infographic__collapsible--f8k9N",subtitle:"hotels-hotel-review-location-Infographic__subtitle--3jxTl",walkscoreSubtitle:"hotels-hotel-review-location-Infographic__walkscoreSubtitle--2OY0F",text:"hotels-hotel-review-location-Infographic__text--c6Cri",nearbyLocations:"hotels-hotel-review-location-Infographic__nearbyLocations--2CA59",hidden:"hotels-hotel-review-location-Infographic__hidden--1q89r"},J=n("@babel/runtime/helpers/esm/extends"),ee=n.n(J),te=n("@babel/runtime/helpers/esm/objectWithoutProperties"),ne=n.n(te),ae=n("@ta/common.routing"),ie=n("@ta/styleguide.bubble-rating"),le=n("@ta/media.image"),re=function e(t){if(t<0)return null;var n=20*t;return Object(f.unescaped)(Object(f.localize)("time_n_min",{0:Math.ceil(n)}))},oe=function e(t,n,a){if(t<0)return null;var i=Math.pow(10,a),l=Math.round(t*i)/i;return"MILES"===n?Object(f.unescaped)(Object(f.localize)("distance_n_mi",{0:l})):Object(f.unescaped)(Object(f.localize)("distance_n_km",{0:l}))},ce=function e(t,n,a){return n===a?t:"MILES"===n?1.60934*t:.621371*t},se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHorizontal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:284}};se.loc.source={body:"55982fed6d17"};var de=se,ue=N.memo(function(e){var t=e.location,n=e.defaultUrl,a=e.viewportCategory;return N.createElement(j.Query,{query:de,variables:{locationId:t.locationId},errorPolicy:"all"},function(t){var i=t.loading,l=t.data,r=!i&&l&&l.locations&&l.locations[0]||null,o=Object(A.featureIsEnabled)("hr_xsell_history_inject");return N.createElement(ae.Link,{stripNoreferrerNoopener:o,href:r&&r.url,onClick:r?void 0:function(){return window.open(n,"_blank")},target:"_blank",className:"hotels-hotel-review-location-NearbyLocation__location--3aHDX"},"MOBILE"===a?function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__thumbnail--1uAfG"},t&&t.thumbnail?N.createElement(le.ResponsiveImage,{height:"96px",width:"86px",sources:t.thumbnail.photoSizes}):null)}(r):null,function e(t,n,a){var i=n.classification,l=n.location,r=n.distanceUnit;return N.createElement("div",null,N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__name--1pAvV","data-nearbylocationid":l.locationId},l.name),N.createElement(N.Fragment,null,t?N.createElement(w.a,{height:"16px"}):function e(t,n){if(!n)return null;var a=n.reviewSummary,i=n.url;return a&&a.count?N.createElement(N.Fragment,null,N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__bubbleRating--s646b"},N.createElement(ie.BubbleRating,{rating:a.rating})),N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__reviewLink--3c7FI",onClick:function e(t){window.open("".concat(i,"#REVIEWS"),"_blank"),t.preventDefault()}},Object(f.localize)("mobile_reviews_plural",{0:f.globalize.formatNumber("integer",a.count)}))):null}(0,a),N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__details--3a_CK"},N.createElement(z.Icon,{name:l.distanceInMiles<1?"activities":"parking",className:"hotels-hotel-review-location-NearbyLocation__travelIcon--3oTJZ"}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__travelInfo--3p8LW"},l.distanceInMiles<1?re(l.distanceInMiles):oe(ce(l.distanceInMiles,"MILES",r),r,1)),i?N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__classification--3OxHA"},i):null)))}(i,e,r))})}),me=function e(t){var n=t.location,a=ne()(t,["location"]);return N.createElement(ue,ee()({defaultUrl:Object(ae.buildUrl)({page:"Restaurant_Review",d:n.locationId}),location:n},a,{classification:n.cuisines&&n.cuisines[0]?n.cuisines[0].tagNameLocalized:null}))},ve=function e(t){var n=t.location,a=ne()(t,["location"]),i=null;return n.type&&n.type[0]?i=n.type[0].tagNameLocalized:n.category&&n.category[0]&&(i=n.category[0].tagNameLocalized),N.createElement(ue,ee()({defaultUrl:Object(ae.buildUrl)({page:"Attraction_Review",d:n.locationId}),location:n},a,{classification:i}))},pe=function e(t){switch(t){case"ACCOMMODATION":return"hotels";case"ATTRACTION":return"attractions";case"EATERY":return"restaurants";default:return"hotels"}},ke=function e(t){var n=t.url,a=t.placeType,i=t.viewportCategory;return n?N.createElement(ae.Link,{href:n,target:"_blank",className:"hotels-hotel-review-location-NearbyLink__seeNearby--1T7nl",stripNoreferrerNoopener:!0},N.createElement(E.ClickTracker,{useSpan:!0,module:"seeAllNearby",action:"click",context:pe(a)},function e(t){switch(t){case"ACCOMMODATION":return Object(f.localize)("see_all_nearby_hotels_v2");case"ATTRACTION":return Object(f.localize)("see_all_nearby_attractions_v2");case"EATERY":return Object(f.localize)("see_all_nearby_restaurants_v2");default:return Object(f.localize)("see_all_nearby_hotels_v2")}}(a),"MOBILE"===i?N.createElement(z.Icon,{name:"single-chevron-right-circle-fill",className:"hotels-hotel-review-location-NearbyLink__nearbyIcon--2ilfR"}):null)):null},ge=35,he=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"renderInfographic",function(e,t,a,i,l,r){var o=e&&e>ge?e:null;return o||"MOBILE"!==n.props.viewport?o?N.createElement(C.Columns,{gapless:"MOBILE"===n.props.viewport},n.renderWalkability(o),n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r)):null:N.createElement(C.Columns,{gapless:"MOBILE"===n.props.viewport},n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r))}),b()(g()(g()(n)),"renderWalkability",function(e){var t=N.createElement("span",null,Object(f.localize)("grade_x_out_of_100",{nGrade:e})),a=N.createElement(U.a,{below:!0,message:Object(f.localize)("walkability_explanation2")},function(e){return N.createElement("div",{ref:e,className:O()($.subtitle,$.tooltip,$.walkscoreSubtitle)},t,N.createElement(E.ClickTracker,{useSpan:!0,module:"nearby",action:"click",context:"walk_info"},N.createElement(z.Icon,{name:"information-circle",className:$.infoCircle})))});return N.createElement(X,{number:e,viewport:n.props.viewport,color:"green"},N.createElement("span",{className:$.text},N.createElement("span",{className:O()($.title,$.green)},function i(e){return e>90?Object(f.localize)("great_for_walkers"):e>80?Object(f.localize)("good_for_walkers"):e>50?Object(f.localize)("somewhat_walkable"):Object(f.localize)("car_recommended")}(e)),a))}),b()(g()(g()(n)),"renderRestaurantHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:O()($.title,$.orange),subtitleClass:$.subtitle,count:"".concat(t),range:f.globalize.formatNumber("default",a)};return N.createElement(X,{number:t,color:"orange",viewport:n.props.viewport,icon:"restaurants",collapsedContent:function t(a){return N.createElement("div",{className:O()(a&&$.hidden)},N.createElement("div",{className:$.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(me,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:n.props.nearbyRestaurantUrl,viewportCategory:n.props.viewport,placeType:"EATERY"}))}},N.createElement("span",{className:O()($.text,"MOBILE"===n.props.viewport?$.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(f.localize)("hr_location_infographic_restaurant_miles_v2",i):Object(f.localize)("hr_location_infographic_restaurant_km_v2",i)}}))}),b()(g()(g()(n)),"renderAttractionHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:O()($.title,$.blue),subtitleClass:$.subtitle,count:"".concat(t),range:f.globalize.formatNumber("default",a)};return N.createElement(X,{number:t,color:"blue",viewport:n.props.viewport,icon:"attractions",collapsedContent:function t(a){return N.createElement("div",{className:O()(a&&$.hidden)},N.createElement("div",{className:$.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(ve,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:n.props.nearbyAttractionsUrl,viewportCategory:n.props.viewport,placeType:"ATTRACTION"}))}},N.createElement("span",{className:O()($.text,"MOBILE"===n.props.viewport?$.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(f.localize)("hr_location_infographic_attraction_miles_v2",i):Object(f.localize)("hr_location_infographic_attraction_km_v2",i)}}))}),n}return p()(t,e),c()(t,[{key:"render",value:function e(){var t=this;return N.createElement(G,null,function(e){var n=e.loading,a=e.walkScore,i=e.restaurants,l=e.restaurantsCount,r=e.attractions,o=e.attractionsCount,c=e.distanceRange;return n?N.createElement(w.a,{height:"80px"}):t.renderInfographic(a,i,l,r,o,c)})}}]),t}(N.Component),be=n("@ta/public.ride-service-callout"),Ne=n.n(be),ye={airport:{typeIcon:"flights",travelIcon:"parking"},transit:{typeIcon:"train",travelIcon:"activities"}},fe=function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyTransport__item--7md5u"},N.createElement(z.Icon,{name:ye[t.type].typeIcon,className:"hotels-hotel-review-location-NearbyTransport__typeIcon--21-Tf"}),N.createElement("div",null,N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__name--2ZEk0"},t.name),t.travel?N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__travel--oZRAC"},N.createElement(z.Icon,{name:ye[t.type].travelIcon,className:"hotels-hotel-review-location-NearbyTransport__travelIcon--YCPiK"}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__distance--24tmE"},t.travel)):null))},_e=function(e){function t(){return r()(this,t),d()(this,m()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"renderAirports",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return N.createElement(fe,{type:"airport",key:e.id,name:e.localizedName,travel:oe(e.localizedDistance,n.props.distanceUnit,0)})}))}},{key:"renderAirportsGQ",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return e&&e.airportInfo&&e.distanceFromCenter?N.createElement(fe,{type:"airport",key:e.airportInfo.airportLocationId,name:e.airportInfo.locationName,travel:oe(ce(e.distanceFromCenter,"MILES",n.props.distanceUnit),n.props.distanceUnit,0)}):null}))}},{key:"render",value:function e(){var t=this.props,n=t.nearbyAirports,a=t.nearbyAirportsGQ,i=t.nearbyTransit,l=t.viewport;return n&&0!==n.length||a&&0!==a.length||i&&0!==i.length?N.createElement(R,{fillSpace:!0,title:Object(f.localize)("hr_location_getting_there")},n&&this.renderAirports(n),a&&this.renderAirportsGQ(a),function e(t){return N.createElement(N.Fragment,null,t&&t.filter(function(e){return e.distanceFromCenter}).map(function(e){return N.createElement(fe,{type:"transit",key:e.locationId,name:e.name,travel:re(e.distanceFromCenter||0)})}))}(i),"MOBILE"===l?N.createElement(Ne.a,null):null):null}}]),t}(N.Component),Ee=Object(y.bind)(function(e,t){var n=e.meta.device.viewportCategory,a=Object(A.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),i=null;if(!a){var l=new URLSearchParams({radius:"50",limit:"2",locale:e.i18n.locale});i=t("/data/1.0/airports/nearby/".concat(e.page.detailId,"?").concat(l.toString()))}return function(){return{nearbyAirports:i&&i.get().data,distanceUnit:e.i18n.distanceUnit||"MILES",viewport:n}}})(_e),Ie=n("@ta/common.text");function Se(e){return!!(e&&e.name&&e.description)}var we=function e(){return N.createElement(N.Fragment,null,N.createElement("span",{className:"hotels-hotel-review-location-Neighborhood__readMore--1wv8g"},Object(f.localize)("common_Read_more")),N.createElement(z.Icon,{name:"caret-down"}))},Ce=function e(t){var n=t.nearbyHotelsUrl,a=t.neighborhood,i=t.viewportCategory;if(!a||!Se(a))return null;var l=function r(e){if(!e||!e.images)return[];var t=e.images;return t?Object.keys(t).map(function(e){return t[e]}):[]}(a.photo),o="MOBILE"===i?3:5;return N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__container--2evy3"},N.createElement(C.Columns,{gaplessVertical:"MOBILE"===i},N.createElement(C.Column,{width:"MOBILE"===i?12:8},N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__title--2r0Yo"},Object(f.localize)("common_Neighborhood_ffffdfce")),"MOBILE"!==i?N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__name--2LxNd"},a.name):null,N.createElement(Ie.ReadMore,{customCssClass:"hotels-hotel-review-location-Neighborhood__description--28xqH",numLinesToShow:o,initialDivHeight:18*o,cta:we(),ctaNewline:!0},a.description),N.createElement(ke,{url:n,viewportCategory:i,placeType:"ACCOMMODATION"})),"MOBILE"!==i&&l.length?N.createElement(C.Column,{width:4},n?N.createElement(ae.Link,{href:n,target:"_blank"},N.createElement(E.ClickTracker,{module:"seeAllNearby",action:"click_photo",context:"hotels"},N.createElement(le.ResponsiveImage,{height:"200px",width:"100%",sources:l}))):N.createElement(le.ResponsiveImage,{height:"200px",width:"100%",sources:l})):null))},Le=function e(t){var n=t.locationId,a=t.language,i=t.locationEndpoint,l=t.contactsGQ,r=t.hasGeoCenter,o=t.linkLevel,c=l;if(!c&&!i.address&&!i.plainTextAddress)return null;var s={address:i.address||i.plainTextAddress,localAddress:i.local_address,localName:i.local_name,localLanguage:i.local_lang_code&&i.local_lang_code.split("-")[0]||a};return N.createElement(R,{title:Object(f.localize)("tab_detail_contact_fffff9b3")},N.createElement(D.Address,{userLanguage:a,address:s,layout:"location",disableMap:!r,linkLevel:o}),c&&N.createElement(N.Fragment,null,N.createElement(D.PhoneLink,{locationId:n,contact:c.PHONE,layout:"location",linkLevel:o}),N.createElement(D.EmailLink,{locationId:n,contact:c.EMAIL,layout:"location",linkLevel:o})))};Le.defaultProps={linkLevel:void 0};var Ae=Object(y.bind)(function(e,t){var n=new URLSearchParams({detailLevel:"EXTENDED",allowedFields:"address,local_address,local_name,local_lang_code"}),a=t("/data/1.0/location/".concat(e.page.detailId,"/poiDetails?").concat(n.toString()));return function(){return{locationEndpoint:a.get().data||{},locationId:e.page.detailId,language:e.i18n.locale&&e.i18n.locale.split("_")[0]||"en"}}})(Le),Te=n("@babel/runtime/helpers/esm/toConsumableArray"),Fe=n.n(Te),Oe=n("react-redux"),Me=n("@ta/events.window-resize"),Re=n.n(Me),Ve=n("@ta/maps.snapshot"),Ue=n.n(Ve),ze=n("@ta/common.radio"),je=n.n(ze),De={container:"hotels-hotel-review-location-StaticMap__container--1vnh_",fullView:"hotels-hotel-review-location-StaticMap__fullView--XAB4y",fullViewInner:"hotels-hotel-review-location-StaticMap__fullViewInner--35N-M",expandIcon:"hotels-hotel-review-location-StaticMap__expandIcon--3ycAA",map:"hotels-hotel-review-location-StaticMap__map--3L4sb"},Pe=[.3,.75,5],xe=[.5,1,10],He={MOBILE:{height:184,width:765},TABLET:{height:241,width:975},DESKTOP:{height:241,width:811}},Be=15,Ge=13,Ye=11,Qe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"state",{containerSize:n.props.defaultSize,mapRadio:null,scale:1}),b()(g()(g()(n)),"getZoomLevel",function(e){switch(("MILES"===n.props.distanceUnit?Pe:xe).indexOf(e)){case 0:return Be;case 1:return Ge;default:return Ye}}),b()(g()(g()(n)),"computeSize",function(){if(n.containerEl){var e=window.getComputedStyle(n.containerEl);e&&e.width&&e.height&&n.setState({containerSize:{width:parseInt(e.width.replace("px",""),10),height:parseInt(e.height.replace("px",""),10)}});var t=window.devicePixelRatio&&window.devicePixelRatio>1?2:1;n.setState({scale:t})}}),b()(g()(g()(n)),"openMap",function(){n.state.mapRadio&&n.state.mapRadio.emit("open-trigger-clicked")}),b()(g()(g()(n)),"containerEl",null),b()(g()(g()(n)),"renderPin",function(e){if(!e.latitude||!e.longitude)return null;var t;switch(e.placeType){case"ACCOMMODATION":t=e.distanceInMiles&&0!==e.distanceInMiles?Ve.SnapshotAssetCatalogue.miniHotelPin:Ve.SnapshotAssetCatalogue.anchorHotelPin;break;case"ATTRACTION":t=Ve.SnapshotAssetCatalogue.miniAttractionPin;break;case"EATERY":t=Ve.SnapshotAssetCatalogue.miniRestaurantPin;break;default:return null}return{iconUrl:t,position:{lat:e.latitude,lng:e.longitude}}}),b()(g()(g()(n)),"renderFullScreenToggle",function(){return N.createElement("div",{className:De.fullView},N.createElement("div",{className:De.fullViewInner},N.createElement(z.Icon,{name:"expand",className:De.expandIcon}),Object(f.localize)("full_view")))}),n}return p()(t,e),c()(t,[{key:"componentDidMount",value:function e(){this.computeSize(),this.setState({mapRadio:je()("hr-map")})}},{key:"render",value:function e(){var t=this;return N.createElement(G,null,function(e){var n=e.loading,a=e.currentLocation,i=e.hotels,l=e.restaurants,r=e.attractions,o=e.distanceRange;if(n)return N.createElement("div",{className:De.container,ref:function e(n){t.containerEl=n},onClick:t.openMap},N.createElement(w.a,{height:"100%"}),t.renderFullScreenToggle());if(!a||!a.latitude||!a.longitude)return null;var c=[a].concat(Fe()(l.slice(0,10)),Fe()(r.slice(0,10)));return i.length>0&&c.push.apply(c,Fe()(i.slice(0,10))),N.createElement(E.ClickTracker,{module:"nearby",action:"click",context:"open_float_map"},N.createElement("div",{className:De.container,ref:function e(n){t.containerEl=n},onClick:t.openMap},N.createElement(Ue.a,{center:{lat:a.latitude,lng:a.longitude},height:t.state.containerSize.height,zoom:t.getZoomLevel(o),width:t.state.containerSize.width,imgClassName:De.map,scale:t.state.scale,markers:c.map(t.renderPin).filter(function(e){return!!e}),lazy:!0}),t.renderFullScreenToggle(),N.createElement(Re.a,{callback:t.computeSize,throttle:0})))})}}]),t}(N.Component),qe=Object(Oe.connect)(function(e){return{defaultSize:He[e.meta.device.viewportCategory]||He.MOBILE}})(Qe);n.d(t,"ssrQueries",function(){return Ke});var We=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"renderLocationColumn",function(e,t,a,i,l,r,o){return N.createElement(C.Column,{width:4},N.createElement(T,null,e?N.createElement(w.a,{height:"52px"}):N.createElement(Ae,{contactsGQ:t,hasGeoCenter:i,linkLevel:o}),N.createElement(Ee,{locationId:n.props.locationId,nearbyTransit:l,nearbyAirportsGQ:r}),Se(n.props.parentNeighborhood)?null:N.createElement(ke,{url:a,viewportCategory:n.props.viewport,placeType:"ACCOMMODATION"})))}),b()(g()(g()(n)),"renderRestaurantsColumn",function(e,t,a,i){return e||t.length?N.createElement(C.Column,{width:4},N.createElement(T,null,N.createElement(R,{fillSpace:!0,title:Object(f.localize)("hr_location_nearby_restaurants")},e?N.createElement(w.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(me,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:i,viewportCategory:n.props.viewport,placeType:"EATERY"}))):null}),b()(g()(g()(n)),"renderAttractionsColumn",function(e,t,a,i){return e||t.length?N.createElement(C.Column,{width:4},N.createElement(T,null,N.createElement(R,{fillSpace:!0,title:Object(f.localize)("hr_nearby_attractions")},e?N.createElement(w.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(ve,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:i,viewportCategory:n.props.viewport,placeType:"ATTRACTION"}))):null}),n}return p()(t,e),c()(t,[{key:"render",value:function e(){var t=this,n=this.props,a=n.distanceUnit,i=n.viewport;return N.createElement(W,{locationId:this.props.locationId,nearbyLocationData:this.props.nearbyLocationData,commerceCountryId:this.props.commerceCountryId,isMobile:this.props.isMobile,servlet:this.props.servlet,sponsoredListingLocationIdAttribution:this.props.sponsoredListingLocationIdAttribution,distanceUnit:a},N.createElement(_.HasBeenVisible,{onVisible:function e(){I()({module:"nearby_hr",action:"in_view"})}},function(e){return N.createElement("div",{ref:e},N.createElement(L.Section,{section:"location",theme:"reorg"},N.createElement(L.Header,{noDivider:!0},Object(f.localize)("hotels_nav_location")),N.createElement(qe,{distanceUnit:a}),N.createElement(G,null,function(e){var n=e.loading,l=e.contacts,r=e.restaurants,o=e.attractions,c=e.nearbyHotelsUrl,s=e.nearbyAttractionsUrl,d=e.nearbyRestaurantsUrl,u=e.nearbyTransit,m=e.nearbyAirports,v=e.hasGeoCenter;return N.createElement(N.Fragment,null,N.createElement(he,{viewport:i,distanceUnit:a,nearbyAttractionsUrl:s,nearbyRestaurantUrl:d}),N.createElement(C.Columns,{gapless:"MOBILE"===i},t.renderLocationColumn(n,l,c,v,u,m,"level_4"),"MOBILE"!==i?N.createElement(N.Fragment,null,t.renderRestaurantsColumn(n,r,a,d),t.renderAttractionsColumn(n,o,a,s)):null),N.createElement(Ce,{neighborhood:t.props.parentNeighborhood,viewportCategory:i,nearbyHotelsUrl:c}))})))}))}}]),t}(N.Component),Ze=function e(t){var n=t.page.detailId,a=t.meta.device;return{locationId:n,userAgent:a.userAgentCategory,viewport:a.viewportCategory,isMobile:"MOBILE"===t.meta.device.userAgentCategory,sponsoredListingLocationIdAttribution:t.route.sponsoredListingLocationIdAttribution,commerceCountryId:t.meta.commerceCountryId,servlet:t.route.page,distanceUnit:t.i18n.distanceUnit}},Ke=(t.default=Object(y.bind)(function(e,t){Ee.stage(e,t),Ae.stage(e,t);var n=Ze(e),a=t("/data/1.0/location/".concat(e.page.detailId,"/parentNeighborhood?detailLevel=EXTENDED")),l=Object(A.featureIsEnabled)("hr_location_hotel_pins")?"ATTRACTION,EATERY,ACCOMMODATION":"ATTRACTION,EATERY",r=Object(A.featureIsEnabled)("hr_location_via_hps")?null:t("/data/1.0/nearbylocations/".concat(e.page.detailId,"?placeTypes=").concat(l));return function(){return i()({},n,{parentNeighborhood:a.get().data,nearbyLocationData:r?r.get().data:null})}})(We),Object(A.featureIsEnabled)("hr_location_via_hps")?function(e){return[q(i()({},Ze(e),{nearbyLocationData:null}))]}:null)}}});
//# sourceMappingURL=hotels.hotel-review-location.87f3b692af.js.map