(window.$WP=window.$WP||[]).push({id:"@ta/hotels.hotel-offers",d:["vendor-babel","vendor-react-libs","ta-platform","ta-common","@ta/public.dataroots","@ta/public.data-api-polling"],e:["./packages/hotels/hotel-offers/hotel-offers.jsx"],x:{"./packages/hotels/hotel-offers/hotel-offers.jsx":["DominantOffer","bindDominantOffer","DetailTextOffer","bindDetailTextOffer","DetailChevronOffer","bindDetailChevronOffer","MobileDrawerOffer","bindMobileDrawerOffer","MiniOffer","MobileFooterOffer","getOfferElementProps","clickOfferElement","bindToHotelReview","isAnyAvailable","isNoCommerce","MerchandiseMessage","default"]},m:{"./packages/hotels/hotel-offers/hotel-offers.jsx":function(e,t,r){"use strict";r.r(t);var a=r("@babel/runtime/helpers/esm/extends"),o=r.n(a),n=r("react"),l=r("@ta/common.i18n"),s=r("@ta/common.cdn"),i=r("@ta/common.features"),f=r("@ta/common.classnames"),c=r.n(f);require(["trjs!commerce/offerclick"],function(){return null});var u=function e(t){if(!t)return{};var r={"data-contentid":t.contentId,"data-provider":t.provider,"data-clicktoken":t.clickToken||void 0};return(t.dataAtts?Object.keys(t.dataAtts).filter(function(e){return!r[e]&&/^data-/.test(e)}):[]).forEach(function(e){t&&t.dataAtts&&(r[e.toLowerCase()]=t.dataAtts[e])}),r},m=function e(t,r){t.persist();var a=r||t.currentTarget,o=a&&a.getAttribute("data-clicktoken");return!!o&&(require(["trjs!commerce/offerclick"],function(e){return e.clickEvent(t.nativeEvent,a,o)}),!1)},h=r("@ta/styleguide.icon"),d=function e(t){var r=t.message;return n.createElement("div",{className:"hotels-hotel-offers-MerchandiseMessage__merchandiseMessage--1LZv3"},n.createElement(h.Icon,{name:"checkmark",className:"hotels-hotel-offers-MerchandiseMessage__merchandiseMessageIcon--3Omc_"}),r)},_=function e(t){return t&&t.isIbOffer&&Object(i.featureIsEnabled)("om_affiliate_commerce_button_CTA")},p=function e(t){var r=t.data,a=t.providerLogoUrl,f=t.providerDisplayName,h=t.strikeThroughText,p=t.buttonText,v=t.priceText,O=t.status,E=t.merchandiseMessages;return n.createElement("div",null,n.createElement("a",o()({id:"bor_book_link_".concat(r.contentId),className:c()("hotels-hotel-offers-DominantOffer__offer--152Fj","offer",h&&Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DominantOffer__blackStrikeThrough--3LBE4",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DominantOffer__linkStrategyUnderlinePrices--2TiVd",r.clickToken&&"bookableOffer"),href:"javascript:void(0);",onClick:function e(t){return m(t)}},u(r)),n.createElement("div",{className:"ui_columns is-mobile is-multiline is-vcentered is-gapless-vertical ".concat("hotels-hotel-offers-DominantOffer__offerBlock--1K1CL")},n.createElement("div",{className:"ui_column ".concat("hotels-hotel-offers-DominantOffer__logo--1KDoW")},function e(t,r,a){return t.isIbOffer?n.createElement("span",{className:"svgico ".concat("hotels-hotel-offers-DominantOffer__ta_meta_logo--1HyNm")}):r?n.createElement(s.CdnImage,{className:"hotels-hotel-offers-DominantOffer__logo_img--2-BIH",src:r,alt:a}):n.createElement("span",{className:"taLnk",title:a},a)}(r,a,f)),n.createElement("div",{className:"ui_column ".concat("hotels-hotel-offers-DominantOffer__priceBlock--1NB9R")},h?n.createElement("div",{className:"hotels-hotel-offers-DominantOffer__xthrough--pk0Bk"},h):null,v?n.createElement("div",{className:"hotels-hotel-offers-DominantOffer__price--D-ycN"},v):null)),function e(t){return _(t)?n.createElement(d,{key:Object(l.localize)("affiliate_merchandise_message_v1"),message:Object(l.localize)("affiliate_merchandise_message_v1")}):null}(r),function e(t){return t&&0!==t.length?n.createElement("div",{className:"hotels-hotel-offers-DominantOffer__merchandiseMessagesWrapper--2XT-A"},t.map(function(e){return n.createElement(d,{key:e,message:e})})):null}(E)),n.createElement("div",{className:"ui_columns is-mobile"},n.createElement("div",{className:"ui_column is-12 ".concat("hotels-hotel-offers-DominantOffer__ctaColumn--3V-xN")},n.createElement("div",o()({className:"".concat("hotels-hotel-offers-DominantOffer__ctaButton--2wh3E"," ui_button original"),onClick:function e(t){return m(t)}},u(r)),"IN_PROGRESS"===O?n.createElement("span",{className:"ui_loader small ".concat("hotels-hotel-offers-DominantOffer__loader--3QRVq")},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null)):p||function e(t){return _(t)?Object(l.localize)("affiliate_cta_book_get_rewards_v1"):null}(r)||Object(l.localize)("view_deal")))))},v=function e(t){return t.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","status","merchandiseMessages"),function e(t){var r=t.offer;return r.data&&n.createElement(p,{data:r.data,providerLogoUrl:r.providerLogoUrl,providerDisplayName:r.providerDisplayName||"",priceText:r.priceText,strikeThroughText:r.strikeThroughText,status:r.status||"UNCONFIRMED",merchandiseMessages:r.merchandiseMessages})}};p.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,status:void 0,merchandiseMessages:void 0};var O=p,E=function e(t){var r=t.data,a=t.providerDisplayName,l=t.priceText,s=t.isComparisonOffer,f=t.status,h=t.inDropdown;return n.createElement("div",o()({className:c()("hotels-hotel-offers-DetailTextOffer__offer--3a6SH",!r.clickToken&&"hotels-hotel-offers-DetailTextOffer__unclickable--3-rKE",h&&"hotels-hotel-offers-DetailTextOffer__inDropdown--2mtzW",Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DetailTextOffer__blackStrikeThrough--Pas5i",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DetailTextOffer__linkStrategyUnderlinePrices--1ikZZ"),onClick:function e(t){return m(t)}},u(r)),n.createElement("span",{title:a,className:"hotels-hotel-offers-DetailTextOffer__provider--1ai6p"},a,r.isIbOffer||!r.clickToken?null:n.createElement("span",{className:"ui_icon external-link-no-box"})),function e(t,r,a,o){return"IN_PROGRESS"===t?n.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__loading--1m0iV"},n.createElement("span",{className:"ui_loader small"},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null))):"UNAVAILABLE"!==t&&a?"AVAILABLE"===t&&r?o?n.createElement("span",{title:r,className:c()("hotels-hotel-offers-DetailTextOffer__price--2gYdd","hotels-hotel-offers-DetailTextOffer__comparisonOffer--11Mdk")},r):n.createElement("span",{title:r,className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},r):n.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},n.createElement("span",{className:"ui_icon search"})):n.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},n.createElement("span",{className:"ui_icon prohibited"}))}(f,l,!!r.clickToken,s))};E.defaultProps={priceText:void 0,isComparisonOffer:void 0,inDropdown:void 0};var b=function e(t,r){return t.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status"),function e(t){var a=t.offer;return a.data&&n.createElement(E,{data:a.data,providerDisplayName:a.providerDisplayName||"",priceText:a.priceText,isComparisonOffer:a.isComparisonOffer,status:a.status||"UNCONFIRMED",inDropdown:r})}},g=E,k=function e(t){var r=t.data,a=t.providerLogoUrl,f=t.providerDisplayName,h=t.strikeThroughText,_=t.buttonText,p=t.priceText,v=t.status,O=t.savePriceText,E=t.taxesAndFeesText,b=t.merchandiseMessages;return n.createElement("div",o()({className:c()("hotels-hotel-offers-DetailChevronOffer__offer--2b4bE","offer",h&&Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DetailChevronOffer__blackStrikeThrough--3k4KZ",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DetailChevronOffer__linkStrategyUnderlinePrices--1bpHe",r.clickToken&&"bookableOffer",O&&"hotels-hotel-offers-DetailChevronOffer__offerWithStarSave--UJ6h1"),onClick:function e(t){return m(t)}},u(r)),n.createElement("div",{className:"ui_columns is-gapless is-mobile"},n.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__logo--2JJsC")},function e(t,r,a){return t.isIbOffer?n.createElement("span",{className:"svgico ".concat("hotels-hotel-offers-DetailChevronOffer__ta_meta_logo--3Ihqg")}):r?n.createElement(s.CdnImage,{className:"hotels-hotel-offers-DetailChevronOffer__logo_img--1ug1t",src:r,alt:a}):n.createElement("span",{className:"taLnk",title:a},a)}(r,a,f)),n.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__priceBlock--QrLCS")},n.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__priceInner--1X4PY"},h?n.createElement("div",{className:"autoResize ".concat("hotels-hotel-offers-DetailChevronOffer__xthrough--h1SKg")},h):null,p?n.createElement("div",{className:"".concat("hotels-hotel-offers-DetailChevronOffer__price--py2LH"," autoResize"),"data-sizegroup":"hr_chevron_prices"},p):null,E?n.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__taxesAndFees--2GuTG"},"+ ".concat(E," ").concat(Object(l.localize)("meta_ui_taxes_and_fees_14f6"))):null)),n.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__ctaColumn--CMZbI")},n.createElement("div",{className:c()("ui_button original autoResize","hotels-hotel-offers-DetailChevronOffer__ctaButton--3MGTE","IN_PROGRESS"!==v&&"large"),"data-sizegroup":"hr_chevron_cta"},"IN_PROGRESS"===v?n.createElement("span",{className:"hotels-hotel-offers-DetailChevronOffer__ctaText--3irpB"},n.createElement("span",{className:"ui_loader small ".concat("hotels-hotel-offers-DetailChevronOffer__loader--1YARi")},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null))):n.createElement("span",{className:"hotels-hotel-offers-DetailChevronOffer__ctaText--3irpB"},_||Object(l.localize)("view_deal"))))),O?n.createElement("div",{className:"autoResize ".concat("hotels-hotel-offers-DetailChevronOffer__starSave--26N9-")},n.createElement("span",{className:"ui_icon star"}),n.createElement("span",null,Object(l.localize)("hotels_save_money",{0:O}))):null,function e(t){return t&&0!==t.length?n.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__merchandiseMessagesWrapper--nA5oH"},t.map(function(e){return n.createElement(d,{key:e,message:e})})):null}(b))};k.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,savePriceText:void 0,isComparisonOffer:void 0,taxesAndFeesText:void 0,merchandiseMessages:void 0};var N=function e(t){return t.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","isComparisonOffer","status","merchandiseMessages"),function e(t){var r=t.offer;return r.data&&n.createElement(k,{data:r.data,providerLogoUrl:r.providerLogoUrl,providerDisplayName:r.providerDisplayName||"",priceText:r.priceText,strikeThroughText:r.strikeThroughText,isComparisonOffer:r.isComparisonOffer,taxesAndFeesText:Object(i.featureIsEnabled)("hr_ib_exclude_taxes_and_fees")?void 0:r.taxesAndFeesText,savePriceText:r.savePriceText,status:r.status||"UNCONFIRMED",merchandiseMessages:r.merchandiseMessages})}},T=k,D=function e(t){var r=t.data,a=t.providerDisplayName,l=t.priceText,s=t.isComparisonOffer,f=t.status;return n.createElement("div",o()({className:c()("hotels-hotel-offers-MobileDrawerOffer__offer--3VA-m",!r.clickToken&&"hotels-hotel-offers-MobileDrawerOffer__unclickable--2wekV",Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-MobileDrawerOffer__blackStrikeThrough--1Moig"),onClick:function e(t){return m(t)}},u(r)),n.createElement("span",{title:a,className:"hotels-hotel-offers-MobileDrawerOffer__provider--1YOna"},a,r.isIbOffer||!r.clickToken?null:n.createElement("span",{className:"ui_icon external-link-no-box"})),function e(t,r,a,o){return"IN_PROGRESS"===t?n.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__loading--HInZl"},n.createElement("span",{className:"ui_loader small"},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null))):"UNAVAILABLE"!==t&&a?"AVAILABLE"===t&&r?o?n.createElement("span",{title:r,className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},n.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__comparisonOffer--2qLEC"},r)):n.createElement("span",{title:r,className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},r):n.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},n.createElement("span",{className:"ui_icon search"})):n.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},n.createElement("span",{className:"ui_icon prohibited"}))}(f,l,!!r.clickToken,s))};D.defaultProps={priceText:void 0,isComparisonOffer:void 0};var x=function e(t){return t.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status"),function e(t){var r=t.offer;return r.data&&n.createElement(D,{data:r.data,providerDisplayName:r.providerDisplayName||"",priceText:r.priceText,isComparisonOffer:r.isComparisonOffer,status:r.status||"UNCONFIRMED"})}},M=D,C=function e(t){var r=t.data,a=t.status,s=t.providerDisplayName,i=t.buttonText,f=t.priceText;return"AVAILABLE"!==a?null:n.createElement("div",{className:"hotels-hotel-offers-MiniOffer__offer_wrapper--1UqN0"},n.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price_night--29nrf"},n.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price--3qu-X"},f),n.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price_vendor--3F3AG"},s,r.isIbOffer||!r.clickToken?null:n.createElement(h.Icon,{name:"external-link-no-box"}))),n.createElement("div",{className:"hotels-hotel-offers-MiniOffer__btnWrap--3XIDk"},n.createElement("div",o()({className:"ui_button original",onClick:m},u(r)),i||Object(l.localize)("view_deal"))))};C.defaultProps={buttonText:void 0};var I=C,A=function e(t){var r=t.data,a=t.status,s=t.providerDisplayName,h=t.buttonText,d=t.strikeThroughText,_=t.priceText;if("AVAILABLE"!==a)return null;var p=d?n.createElement("span",{className:"hotels-hotel-offers-MobileFooterOffer__xthrough_price--2F1hw"},d):null,v=n.createElement("div",{className:c()("hotels-hotel-offers-MobileFooterOffer__price--OBE5g",d?"hotels-hotel-offers-MobileFooterOffer__hasStrikeThrough--aOUj7":"")},_),O=c()("hotels-hotel-offers-MobileFooterOffer__main_block--vx1bx","hotels-hotel-offers-MobileFooterOffer__ui_persistent_footer_inner--cDY25");return Object(i.featureIsEnabled)("black_strikethrough")&&Object(f.removeAndAdd)(O,null,"hotels-hotel-offers-MobileFooterOffer__blackStrikeThrough--3JoXH"),n.createElement("div",{className:O},n.createElement("div",{className:"hotels-hotel-offers-MobileFooterOffer__wrap_text--VQyDX"},n.createElement("div",{className:"hotels-hotel-offers-MobileFooterOffer__provider--3RVhO"},s),p,v),n.createElement("div",{className:"hotels-hotel-offers-MobileFooterOffer__wrap_button--2M21h"},n.createElement("div",o()({className:"".concat("hotels-hotel-offers-MobileFooterOffer__ui_button--2HDXT"," ui_button original"),onClick:function e(t){return m(t)}},u(r)),h||Object(l.localize)("view_deal"))))};A.defaultProps={strikeThroughText:void 0,buttonText:void 0,hasBlackStrikeThrough:!1};var y=A,w=r("@ta/public.dataroots"),L=r("@ta/public.data-api-polling"),j=function e(t,r){if(!t)return"";var a={};return t.filter(function(e){return"string"==typeof e}).forEach(function(e){a[e]=!0}),r&&r.filter(function(e){return"string"==typeof e}).forEach(function(e){a[e]=!0}),Object.keys(a).sort().join(",")},F=function e(t,r,a){return Object(L.bindDataApiPoller)(function e(a,o){return function e(t,r,a,o){var n;if(!o.route.detail)return null;var l=Number(o.route.detail),s=["/data/1.0/hotelDetail/".concat(l,"/offers?rc=Hotel_Review")];t&&s.push("ttp=".concat(t)),o.tracking&&o.tracking.uid&&s.push("puid=".concat(encodeURIComponent(o.tracking.uid)));var i=o.travelerInfo&&o.travelerInfo.hotels;i&&i.stayDates&&(s.push("stayDates=".concat(i.stayDates)),s.push("dd=".concat(!!i.defaultDates))),i&&i.guests&&s.push("guestInfo=".concat(i.guests));var f=(o.meta&&o.meta.lineItemsByLoc||{})[String(l)];f&&s.push("slid=".concat(f));var c=null===(n=o.page)||void 0===n?void 0:n.refreshCount;return c&&s.push("refreshCount=".concat(c)),r&&s.push("rn=".concat(r)),s.push("fields=".concat(j(a.listingFields,["complete"]))),s.push("offerFields=".concat(j(a.offerFields,["status","data"]))),o.page.isMetaWithVp&&s.push("shape=VP_HR"),s.join("&")}(r,o,t,a)},function e(t){return!(!t||!t.complete)},function e(t,r,o){return a(function e(t,r,a){return{hotelId:t.route.detail?Number(t.route.detail):-1,loading:!!r,listing:a}}(t,r,o))},function e(r,a){return t&&Object(w.stageAll)(t,r,a)})},P=function e(t){var r=t.listing||{},a=r.chevronOffers,o=r.textLinkOffers,n=r.hiddenOffers,l=function e(t){return"AVAILABLE"===t.status};return!!(a&&a.find(l)||o&&o.find(l)||n&&n.find(l))},R=function e(t){var r=t.listing;return!!(r&&r.chevronOffers&&0===r.chevronOffers.length&&r.textLinkOffers&&0===r.textLinkOffers.length)};r.d(t,"DominantOffer",function(){return O}),r.d(t,"bindDominantOffer",function(){return v}),r.d(t,"DetailTextOffer",function(){return g}),r.d(t,"bindDetailTextOffer",function(){return b}),r.d(t,"DetailChevronOffer",function(){return T}),r.d(t,"bindDetailChevronOffer",function(){return N}),r.d(t,"MobileDrawerOffer",function(){return M}),r.d(t,"bindMobileDrawerOffer",function(){return x}),r.d(t,"MiniOffer",function(){return I}),r.d(t,"MobileFooterOffer",function(){return y}),r.d(t,"getOfferElementProps",function(){return u}),r.d(t,"clickOfferElement",function(){return m}),r.d(t,"bindToHotelReview",function(){return F}),r.d(t,"isAnyAvailable",function(){return P}),r.d(t,"isNoCommerce",function(){return R}),r.d(t,"MerchandiseMessage",function(){return d}),t.default={}}}});
//# sourceMappingURL=hotels.hotel-offers.c997957117.js.map