(window.$WP=window.$WP||[]).push({id:"@ta/maps.popups",d:["vendor-babel","vendor-react-libs","@ta/maps.z-index","@ta/maps.popups-base","@ta/public.maps","@ta/hotels.sponsored-listings","ta-platform","ta-common","@ta/maps.sponsored-pill","@ta/maps.location-types","@ta/maps.thumbnail"],e:["./packages/maps/popups/entrypoint.jsx"],x:{"./packages/maps/popups/entrypoint.jsx":["LocationPopup","HoverPopup","LocationHoverPopup"]},m:{"./packages/maps/popups/entrypoint.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/extends"),i=n.n(a),o=n("react"),r=n("@ta/maps.z-index"),p=n.n(r),s=n("@ta/maps.popups-base"),l=n("@ta/public.maps"),u=(n("@ta/hotels.sponsored-listings"),function e(t,n){var a=t.thumbnail&&t.thumbnail.images.large.url;switch(t.entityType){case"hotel":return function e(t,n,a){var r={};return t.sponsoredListing&&(r={isSponsored:!0,onDetailUrlClick:function e(){a&&a.clickHandler(t)},preOfferClick:function e(n){a&&a.offerClickHandler(t,n)}},a&&a.visibleHandler(t)),o.createElement(s.HotelPopup,i()({},r,{locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:n,detailUrl:t.detailUrl,popIndexText:t.popIndexText,listingKey:t.listingKey,offers:t.offers}))}(t,a,n);case"restaurant":return o.createElement(s.RestaurantPopup,{locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:a,detailUrl:t.detailUrl,priceString:t.priceString,cuisines:(t.cuisines||[]).map(function(e){return e.name}),reserveText:t.commerceInfo&&t.commerceInfo.buttonText});case"attraction":return o.createElement(s.AttractionPopup,{locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:a,detailUrl:t.detailUrl,category:t.category,experiencesCtaNumOffers:t.experiencesCtaNumOffers,experiencesCtaEncodedLink:t.experiencesCtaEncodedLink,experiencesCtaStartingCost:t.experiencesCtaStartingCost,openHours:t.openHours,openNow:t.openNow});case"rental":return o.createElement(s.RentalPopup,{locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:a,detailUrl:t.detailUrl});case"vp":return function e(t,n){return o.createElement(s.VpPopUp,{locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:n,detailUrl:t.detailUrl,listingKey:t.listingKey,vpoffers:t.vpoffers})}(t,a);default:return o.createElement(s.BaseLocationPopup,{hideBookmark:!0,entityType:t.entityType||"unknown",locationId:t.id,title:t.name,rating:t.bubbleRating,numReviews:t.numReviews,thumbnail:a,detailUrl:t.detailUrl})}}),c=function e(t){var n=t.location,a=t.autoPan,i=t.spTrackingHandler;return o.createElement(l.Popup,{key:n.id,autoPan:a,direction:"top",visible:!0,offset:{x:0,y:0},zIndexOffset:p.a.clickPopup,position:new l.LatLng(n.geoPoint.latitude,n.geoPoint.longitude)},u(n,i))};c.defaultProps={autoPan:!0,spTrackingHandler:null};var m=c,d=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(d),v=n("@ta/common.features"),g=n("@ta/styleguide.icon"),f=n("@ta/styleguide.bubble-rating"),P=n("@ta/common.classnames"),y=n.n(P),h=n("@ta/maps.sponsored-pill"),w=n.n(h),R=n("@ta/maps.location-types"),E=n("@ta/maps.thumbnail"),_=n.n(E),x=function e(t){var n=t.src,a=t.entityType;return n?o.createElement("div",{className:"maps-popups-HoverPopup__photo--3j60o",style:{backgroundImage:"url(".concat(n,")")}}):o.createElement("span",{className:"maps-popups-HoverPopup__iconWrapper--3cvDx"},o.createElement(g.Icon,{name:Object(R.iconForEntityType)(a),className:"maps-popups-HoverPopup__icon--3-PpJ"}))},H=function e(t){var n=t.isSponsored&&o.createElement("div",{className:"".concat("maps-popups-HoverPopup__pillContainer--1sEUc")},o.createElement(w.a,null)),a=t.thumbnail,i=t.entityType,r=t.locationId,p=o.useCallback(function(){return o.createElement(x,{src:a,entityType:i})},[a,i]),s=o.useCallback(function(){return"hotel"!==i&&"vp"!==i||!Object(v.featureIsEnabled)("hotels_media_mas_maps")?p():o.createElement(_.a,{locationId:r,renderNoPhotosDefault:p,className:"maps-popups-HoverPopup__photo--3j60o"})},[i,r,p]);return o.createElement("div",{className:"maps-popups-HoverPopup__container--3zguN"},o.createElement("div",{className:"maps-popups-HoverPopup__thumbnail--3jX2m"},s()),o.createElement("div",{className:"maps-popups-HoverPopup__rightContainer--17Zt3"},n,o.createElement("div",{className:y()("maps-popups-HoverPopup__title--oCDIL",b()({},"maps-popups-HoverPopup__oneLine--2qD0Y",t.isSponsored))},t.title),t.rating&&t.rating>0?o.createElement(f.BubbleRatingWithReviewCount,{rating:t.rating/10,numReviews:t.numReviews,fontSize:12}):null,t.subtitle&&("string"==typeof t.subtitle?o.createElement("div",{className:"maps-popups-HoverPopup__subtitle--fwKT2"},t.subtitle):t.subtitle)))};H.defaultProps={rating:void 0,numReviews:0,thumbnail:null,subtitle:null,isSponsored:!1};var k=H,I=function e(t){var n,a=t.location,i=!1;switch(a.entityType){case"restaurant":n=function e(t,n){return[t,(n||[]).join(", ")].filter(function(e){return""!==e}).join(", ")}(a.priceString,(a.cuisines||[]).map(function(e){return e.name}));break;case"attraction":n=a.category;break;default:case"hotel":n=null,i=!!a.sponsoredListing}var r=i?-41:-30;return o.createElement(l.Popup,{position:new l.LatLng(a.geoPoint.latitude,a.geoPoint.longitude),direction:"top",offset:{x:0,y:r},autoPan:!1,zIndexOffset:p.a.hoverPopup},o.createElement(k,{title:a.name,locationId:a.id,entityType:a.entityType,subtitle:n,rating:a.bubbleRating,numReviews:a.numReviews,thumbnail:a.thumbnail&&a.thumbnail.images.medium.url,isSponsored:i}))};n.d(t,"LocationPopup",function(){return m}),n.d(t,"HoverPopup",function(){return k}),n.d(t,"LocationHoverPopup",function(){return I})}}});
//# sourceMappingURL=maps.popups.ab7a838d0a.js.map