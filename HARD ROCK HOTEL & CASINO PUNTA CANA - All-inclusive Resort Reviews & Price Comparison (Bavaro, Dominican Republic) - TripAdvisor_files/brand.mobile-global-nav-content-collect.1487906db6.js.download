(window.$WP=window.$WP||[]).push({id:"@ta/brand.mobile-global-nav-content-collect",d:["vendor-babel","vendor-react-libs","ta-common","ta-platform","@ta/common.authz","@ta/tracking.interactions","@ta/social.login-gate","@ta/brand.global-nav-action-content-collect","@ta/overlays.managers","@ta/public.content-uploader","@ta/overlays.modal","@ta/overlays.headers","@ta/media.upload","@ta/public.listing"],e:["./packages/brand/mobile-global-nav-content-collect/index.jsx"],x:{"./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx":["a","c","d","b"],"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx":["a"],"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less":["a"],"./packages/brand/mobile-global-nav-content-collect/index.jsx":["default","MobileMediaActionsBlock","showLinkUploaderFromVideoUploader","setUploaderModal","setNonWCUploaderModal","getMobilePid"]},m:{"./node_modules/webpack/buildin/global.js":function(e,o){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},"./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx":function(e,o,a){"use strict";var t=a("react"),n=a("@ta/common.i18n"),l=a("@ta/overlays.managers"),i=a("@ta/public.content-uploader"),r=a("@ta/overlays.modal"),c=a("@ta/overlays.headers"),d=a("@ta/media.upload"),s=a("@ta/brand.global-nav-action-content-collect"),m="brand-mobile-global-nav-content-collect-MobileContentCollectionUtility__toastMessage--323y-";a.d(o,"a",function(){return u}),a.d(o,"c",function(){return b}),a.d(o,"d",function(){return p}),a.d(o,"b",function(){return v});var u=function e(o){return"Hotel_Review"===o?40537:"Restaurant_Review"===o?40513:"MobileAttraction_Review"===o?40536:"Hotels"===o?40538:"MobileRestaurants"===o?40512:"MobileAttractions"===o?40535:"Home"===o?40488:"Profile"===o?40489:"MobileSmartDeals"===o?40539:"MobileShowTopic"===o?40540:"MobileTourism"===o?40541:"MobileShowUserReviews"===o?40542:"MobileShowForum"===o||"MobileForumHome"===o?40544:"Airline_Review"===o?39771:"Airlines"===o?39772:"Cruise_Review"===o?40514:40543},b=function e(o,a,u,b,p,v,g){if(null==b?void 0:b.profile){var M="link-uploader-nav-mobile";if(o===M)return t.createElement("div",null,t.createElement(l.Opener,{name:"link-toast-overlay-mobile"},function(e){return t.createElement(i.LinkPostUploader,{modalName:M,displaySuccessModal:!1,onSubmit:e,locationId:p})}),t.createElement(r.Modal,{name:"link-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("link_uploader_header"))},t.createElement("div",{className:m},Object(s.linkToastMessage)(b.profile,g))));if("video-uploader-nav-mobile"===o)return t.createElement("div",null,t.createElement(l.Opener,{name:"video-toast-overlay-mobile"},function(e){return t.createElement(d.MediaUploaderModal,{mediaType:"video",modalName:"video-uploader-nav-mobile",linkUploaderModalName:M,key:"video-mobile",pid:a,onSubmit:e,locationId:p,showLinkUploaderOfGNavVideoModalLink:v,linkUploaderModalNameOfGNavVideoModalLink:"link-uploader-from-video-uploader-mobile"})}),t.createElement(r.Modal,{name:"video-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"video-fill",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("post_a_video_modal_header"))},t.createElement("div",{className:m},Object(n.localize)("upload_video_processing_copy_modal"))));if("photo-uploader-nav-mobile"===o)return t.createElement("div",null,t.createElement(l.Opener,{name:"photo-toast-overlay-mobile"},function(e){return t.createElement(d.MediaUploaderModal,{mediaType:"photo",modalName:"photo-uploader-nav-mobile",linkUploaderModalName:M,key:"photo-mobile",pid:a,onSubmit:e,locationId:p})}),t.createElement(r.Modal,{name:"photo-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"camera-fill",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("post_photos_form_header"))},t.createElement("div",{className:m},Object(s.photoToastMessage)(b.profile,g))))}return null},p=function e(o,a,d,u,b){return o&&(null==d?void 0:d.profile)?t.createElement("div",null,t.createElement(l.Opener,{name:"link-toast-overlay"},function(e){return t.createElement(i.LinkPostUploader,{modalName:"link-uploader-from-video-uploader-mobile",displaySuccessModal:!1,onSubmit:e,locationId:u})}),t.createElement(r.Modal,{name:"link-toast-overlay",header:t.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("link_uploader_header"))},t.createElement("div",{className:m},Object(s.linkToastMessage)(d.profile,b)))):null},v=function e(o,a,u,b,p,v){if("Home"!==o&&"Profile"!==o&&"Trips"!==o&&(null==v?void 0:v.profile)){var g="link-uploader-nav-mobile";if(a===g)return t.createElement("div",null,t.createElement(l.Opener,{name:"link-toast-overlay-mobile"},function(e){return t.createElement(i.LinkPostUploader,{modalName:g,displaySuccessModal:!1,onSubmit:e,locationId:b})}),t.createElement(r.Modal,{name:"link-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("link_uploader_header"))},t.createElement("div",{className:m},Object(s.linkToastMessage)(v.profile,o))));if("video-uploader-nav-mobile"===a)return t.createElement("div",null,t.createElement(l.Opener,{name:"video-toast-overlay-mobile"},function(e){return t.createElement(d.MediaUploaderModal,{mediaType:"video",modalName:"video-uploader-nav-mobile",linkUploaderModalName:g,key:"video-mobile",pid:u,onSubmit:e,locationId:b})}),t.createElement(r.Modal,{name:"video-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"video-fill",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("post_a_video_modal_header"))},t.createElement("div",{className:m},Object(n.localize)("upload_video_processing_copy_modal"))));if("photo-uploader-nav-mobile"===a)return t.createElement("div",null,t.createElement(l.Opener,{name:"photo-toast-overlay-mobile"},function(e){return t.createElement(d.MediaUploaderModal,{mediaType:"photo",modalName:"photo-uploader-nav-mobile",linkUploaderModalName:g,key:"photo-mobile",pid:u,onSubmit:e,locationId:b})}),t.createElement(r.Modal,{name:"photo-toast-overlay-mobile",header:t.createElement(c.TitleBar,{iconName:"camera-fill",displayType:"LEFT_ALIGN_GRAY"},Object(n.localize)("post_photos_form_header"))},t.createElement("div",{className:m},Object(s.photoToastMessage)(v.profile,o))))}return null}},"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx":function(e,o,a){"use strict";(function(e){var t=a("@babel/runtime/helpers/esm/extends"),n=a.n(t),l=a("react"),i=a("@ta/overlays.managers"),r=a("@ta/common.i18n"),c=a("@ta/common.api"),d=a("@ta/common.features"),s=a("@ta/tracking.interactions"),m=a("@ta/common.tracking"),u=a.n(m),b=a("@ta/public.listing"),p=a("@ta/styleguide.icon"),v=a("./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx"),g=a("./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less"),M=function o(a){var t=a.label,n=a.icon,r=a.trackingName,c=void 0===r?void 0:r,d=a.onClick,M=void 0===d?void 0:d,f=a.pid,_=void 0===f?-1:f,k=a.currentLocationid,E=void 0===k?0:k,h=a.socialLoginGate,N=a.ifMemberSignedIn,I=a.currentPageName,y=l.createElement("span",{className:g.a.itemLabel},t),C=l.createElement(p.Icon,{className:g.a.itemIcon,name:n});if(a.name){var L=a.name,O=a.overlay,U=a.locale,T=a.memberData;return l.createElement(l.Fragment,null,Object(v.b)(I,L,_,E,U,T),l.createElement(i.Opener,{name:L},function(e){return l.createElement(s.InteractionLogger,null,function(o){return l.createElement(b.LabeledIconAction,{icon:C,label:y,onClick:function a(t){"Home"!==I&&"Profile"!==I&&"Trips"!==I||O(L,_),void 0!==c&&(o(t,"postContentCtaClick",{action:c,entrypoint:"HAMBURGER_MENU",isMemberSignedIn:N,locationId:E}),u()({module:"postContentCtaClick",action:c,context:"HAMBURGER_MENU|".concat(I),isMemberSignedIn:N,value:_})),h(_).then(function(){e(),M&&M(t)})}})})}))}if(a.url){var j=a.url;return l.createElement(s.InteractionLogger,null,function(o){return l.createElement(b.LabeledIconAction,{icon:C,label:y,url:j,onClick:function a(t){void 0!==c&&(o(t,"postContentCtaClick",{action:c,entrypoint:"HAMBURGER_MENU",locationId:E,isMemberSignedIn:N}),Object(m.trackEventCookie)({module:"postContentCtaClick",action:c,context:"HAMBURGER_MENU|".concat(I),isMemberSignedIn:N,value:_,destinationUrl:"/UserReview"})),t.preventDefault(),e.require(["trjs!ta/util/Cookie"],function(e){e.setPIDCookie(_)}),h(_).then(function(){M&&M(t),window.location.href=j})}})})}return null},f=function e(o){var a=o.actions;return l.createElement("div",{className:g.a.buttons},a.map(function(e){return l.createElement(M,n()({},e,{key:e.label}))}))},_=function e(o){var a=o.permissions,t=o.permissionsLoading,n=o.setModalInfo,i=o.isLoggedIn,c=o.member,s=o.currentLocale,m=o.locationId,u=o.pageName,b=o.loginGate,p=o.isMemberSignedIn,g=Object(d.featureIsEnabled)("social_link_posting_enabled"),M=Object(d.featureIsEnabled)("media_video_upload_enabled"),_=Object(d.featureIsEnabled)("media_photo_upload_enabled"),k=[],E=Object(v.a)(u);return M&&i&&(null==a?void 0:a.canUploadVideo)&&k.push({label:Object(r.localize)("ugc_uploader_video_v3"),icon:"video-fill",trackingName:"POST_VIDEOS",name:"video-uploader-nav-mobile",overlay:n,memberData:c,locale:s,pid:E,currentLocationid:m,socialLoginGate:b,ifMemberSignedIn:p,currentPageName:u}),_&&(!i||t||(null==a?void 0:a.canPostPhoto))&&k.push({label:Object(r.localize)("ugc_uploader_photo_v3"),icon:"camera-fill",name:"photo-uploader-nav-mobile",trackingName:"POST_PHOTOS",overlay:n,memberData:c,locale:s,pid:E,currentLocationid:m,socialLoginGate:b,ifMemberSignedIn:p,currentPageName:u}),(!i||t||(null==a?void 0:a.canWriteReview))&&k.push({label:Object(r.localize)("ugc_uploader_review_v2"),icon:"pencil-paper",trackingName:"WRITE_REVIEW",url:"/UserReview",pid:E,currentLocationid:m,socialLoginGate:b,ifMemberSignedIn:p,currentPageName:u}),g&&i&&(null==a?void 0:a.canPostLink)&&k.push({label:Object(r.localize)("ugc_uploader_linkPost_v3"),icon:"link",name:"link-uploader-nav-mobile",trackingName:"POST_LINKS",overlay:n,memberData:c,locale:s,pid:E,currentLocationid:m,socialLoginGate:b,ifMemberSignedIn:p,currentPageName:u}),l.createElement(f,{actions:k})};_.defaultProps={isLoggedIn:!1},o.a=Object(c.bind)(function(e,o){var a=null,t=e.auth,n=t.loggedInUserId;return t.isMember&&(a=o("/data/1.0/member/self?userId=".concat(n))),function(e){return{isLoggedIn:!!e.auth.loggedInUserId,currentLocale:e.i18n.locale,member:a?a.get().data:null,pageName:e.route.page,locationId:e.route.detail,isMemberSignedIn:e.auth.isMember}}})(_)}).call(this,a("./node_modules/webpack/buildin/global.js"))},"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less":function(e,o,a){"use strict";o.a={buttons:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__buttons--1A96a",itemIcon:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__itemIcon--3Ugco",itemLabel:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__itemLabel--1Uc01"}},"./packages/brand/mobile-global-nav-content-collect/index.jsx":function(e,o,a){"use strict";a.r(o);var t=a("@babel/runtime/helpers/esm/classCallCheck"),n=a.n(t),l=a("@babel/runtime/helpers/esm/createClass"),i=a.n(l),r=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=a.n(r),d=a("@babel/runtime/helpers/esm/getPrototypeOf"),s=a.n(d),m=a("@babel/runtime/helpers/esm/inherits"),u=a.n(m),b=a("@babel/runtime/helpers/esm/assertThisInitialized"),p=a.n(b),v=a("@babel/runtime/helpers/esm/defineProperty"),g=a.n(v),M=a("react"),f=a("@ta/styleguide.icon"),_=a("@ta/common.classnames"),k=a.n(_),E=a("@ta/common.api"),h=a("@ta/common.authz"),N=a("@ta/tracking.interactions"),I=a("@ta/common.tracking"),y=a.n(I),C=a("@ta/social.login-gate"),L=a("@ta/brand.global-nav-action-content-collect"),O=a("./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx"),U=a("./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx"),T=function(e){function o(){var e,a;n()(this,o);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return a=c()(this,(e=s()(o)).call.apply(e,[this].concat(l))),g()(p()(p()(a)),"state",{isCollapsed:!0}),a}return u()(o,e),i()(o,[{key:"render",value:function e(){var o=this,a=k()("brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__collapsedLinksContainer--3g9GA",g()({},"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__expanded--3e0GQ",!this.state.isCollapsed)),t=k()("brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__toggleMoreLinks--2-2dw",g()({},"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__isOwner--2J2GH",this.props.isOwner));return M.createElement(N.TrackingNamespaceContext.Provider,{value:"globalNav"},M.createElement(N.GlobalNavTrackingContext.Provider,{value:{uid:this.props.uid}},M.createElement(C.SocialLoginGate,{pid:Object(O.a)(this.props.pageName)},function(e){return M.createElement(N.InteractionLogger,null,function(n){return M.createElement(M.Fragment,null,M.createElement("div",{className:a},M.createElement("div",{className:t,onClick:function e(a){o.state.isCollapsed&&(n(a,"postContentCtaClick",{action:"NO_SELECTION",entrypoint:"HAMBURGER_MENU",locationId:o.props.currentLocationId,isMemberSignedIn:o.props.ifMemberSignedIn}),y()({module:"postContentCtaClick",action:"NO_SELECTION",locationId:o.props.currentLocationId,context:"HAMBURGER_MENU|".concat(o.props.pageName),isMemberSignedIn:o.props.ifMemberSignedIn})),o.setState({isCollapsed:!o.state.isCollapsed})}},Object(L.getTitle)(),M.createElement(f.Icon,{name:"single-chevron-down",className:"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__singleChevronDown--n5ozB"})),M.createElement("ul",{className:"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__collapsedMedias--3J66_"},M.createElement(h.WithAuthzInfo,null,function(a,t){return M.createElement(U.a,{permissions:a,permissionsLoading:t,setModalInfo:o.props.setModalInfo,loginGate:e})}))))})})))}}]),o}(M.Component),j=Object(E.bind)(function(e,o){return U.a.stage(e,o),function(o){return{uid:o.tracking.uid||"",pageName:e.route.page,currentLocationId:e.route.detail||0,ifMemberSignedIn:e.auth.isMember}}})(T);a.d(o,"MobileMediaActionsBlock",function(){return U.a}),a.d(o,"showLinkUploaderFromVideoUploader",function(){return O.d}),a.d(o,"setUploaderModal",function(){return O.c}),a.d(o,"setNonWCUploaderModal",function(){return O.b}),a.d(o,"getMobilePid",function(){return O.a}),o.default=j}}});
//# sourceMappingURL=brand.mobile-global-nav-content-collect.1487906db6.js.map