(window.$WP=window.$WP||[]).push({id:"@ta/overlays.bounded-arrow-overlay",d:["vendor-babel","vendor-react-libs","@ta/events.window-resize","@ta/overlays.pieces"],e:["./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx"],x:{"./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx":["WindowPadding","getAdjustedPosition","getAdjustedAlignEdge","getArrowOffset","getPosition","getPositionForProps","default"]},m:{"./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx":function(t,e,i){"use strict";i.r(e),i.d(e,"WindowPadding",function(){return k}),i.d(e,"getAdjustedPosition",function(){return R}),i.d(e,"getAdjustedAlignEdge",function(){return X}),i.d(e,"getArrowOffset",function(){return j}),i.d(e,"getPosition",function(){return M}),i.d(e,"getPositionForProps",function(){return S});var o=i("@babel/runtime/helpers/esm/objectSpread"),r=i.n(o),n=i("@babel/runtime/helpers/esm/objectWithoutProperties"),a=i.n(n),s=i("@babel/runtime/helpers/esm/classCallCheck"),d=i.n(s),l=i("@babel/runtime/helpers/esm/createClass"),f=i.n(l),u=i("@babel/runtime/helpers/esm/possibleConstructorReturn"),h=i.n(u),c=i("@babel/runtime/helpers/esm/getPrototypeOf"),p=i.n(c),g=i("@babel/runtime/helpers/esm/inherits"),m=i.n(g),b=i("@babel/runtime/helpers/esm/assertThisInitialized"),v=i.n(b),w=i("@babel/runtime/helpers/esm/defineProperty"),y=i.n(w),P=i("react"),x=i("react-redux"),O=i("@ta/events.window-resize"),A=i.n(O),E=i("@ta/overlays.pieces"),k=20,R=function t(e,i){if(e){if("rightOf"===i)return"leftOf";if("leftOf"===i)return"rightOf"}return i},X=function t(e,i){if(e){if("right"===i)return"left";if("left"===i)return"right"}return i},j=function t(e,i,o,r){if("windowX"===o){var n=r.getBoundingClientRect();if(n){var a=e?-1:1;return(n.width/2+n.left-2*k)*a}}return i},W=function t(e,i){switch(e){case"above":return"bottom";case"below":return"top";case"leftOf":return i?"left":"right";case"rightOf":default:return i?"right":"left"}},C=function t(e,i,o,r){var n=document&&(r?document.documentElement:document.body)||{},a=n.clientHeight,s=void 0===a?0:a,d=n.clientWidth,l=void 0===d?0:d,f=window,u=f.innerHeight,h=void 0===u?0:u,c=f.innerWidth,p=void 0===c?0:c;return"right"!==e||"right"!==i&&"left"!==i?"bottom"!==e||"top"!==i&&"bottom"!==i?o:r?Math.max(s,h)-o:s-o:r?Math.min(p,l)-o:l-o},M=function t(e,i,o,r){var n=e.position,a=e.target,s=e.fixed,d=e.alignEdge,l=e.arrowType,f=e.paddingY,u=e.minWidth,h=e.paddingX,c=e.shiftX,p=e.shiftY,g=r&&r.getBoundingClientRect()||{},m=g.width,b=void 0===m?0:m,v=g.height,w=void 0===v?0:v,y=window||{},P=y.pageXOffset,x=void 0===P?0:P,O=y.pageYOffset,A=void 0===O?0:O,R=document&&document.body||{},X=R.clientHeight,j=void 0===X?0:X,M=R.clientWidth,S=void 0===M?0:M,Y=a.getBoundingClientRect(),z={top:Y.top+(s?0:A),left:Y.left+(s?0:x),right:Y.right+(s?0:x),bottom:Y.bottom+(s?0:A)},B={};B[o]=C(o,i,z[i],s),d&&"windowX"===d?(h=h||k,u&&S-2*h<u&&(h=Math.max(0,(S-u)/2)),B.left=h,B.right=h):d?B[d]=C(d,d,z[d],s):"top"===i||"bottom"===i?B.left=z.left+Y.width/2-b/2:B.top=z.top+Y.height/2-w/2;var T={position:s?"fixed":"absolute"},H=function t(e){return"small"===e?E.SmallArrowSize:"none"===e?0:E.ArrowSize}(l);switch(W(n)){case"bottom":p-=H;break;case"top":p+=H;break;case"left":c+=H;break;default:c-=H}if(void 0!==B.left){B.left+=c;var D=B.left+b-(S-h);D>0&&(B.left=Math.max(h,B.left-D)),T.left="".concat(B.left,"px")}if(void 0!==B.right){B.right-=c;var F=B.right+b-(S-h);F>0&&(B.right=Math.max(h,B.right-F)),T.right="".concat(B.right,"px")}if(void 0!==B.top){B.top+=p;var $=B.top+w-(j-f);$>0&&(B.top=Math.max(f,B.top-$)),T.top="".concat(B.top,"px")}if(void 0!==B.bottom){B.bottom-=p;var I=B.bottom+w-(j-f);I>0&&(B.bottom=Math.max(f,B.bottom-I)),T.bottom="".concat(B.bottom,"px")}return T},S=function t(e,i){return"above"===e.position?M(e,"top","bottom",i):"leftOf"===e.position?M(e,"left","right",i):"rightOf"===e.position?M(e,"right","left",i):M(e,"bottom","top",i)},Y=[{property:"top",timing:500},{property:"bottom",timing:500},{property:"left",timing:500},{property:"right",timing:500}],z=function(t){function e(t){var i;return d()(this,e),i=h()(this,p()(e).call(this,t)),y()(v()(v()(i)),"setPosition",function(t){i.refreshing||(i.refreshing=!0,i.setState({position:S(i.props,i.contentsRef.current),animated:t&&i.props.animated},function(){i.refreshing=!1}))}),y()(v()(v()(i)),"contentsRef",P.createRef()),y()(v()(v()(i)),"refreshing",!1),i.state={position:S(t,i.contentsRef.current),animated:!1},i}return m()(e,t),f()(e,[{key:"componentDidMount",value:function t(){this.setPosition()}},{key:"componentDidUpdate",value:function t(){this.refreshing||this.setPosition(!0)}},{key:"renderArrow",value:function t(){var e=this.props,i=e.isRtl,o=e.position,r=e.arrowType,n=e.shiftArrow,a=e.alignEdge,s=e.target,d=e.inverted,l=e.shiftX,f=e.shiftY;if("none"===r)return null;var u=j(i,n,a,s),h=W(o,i);switch(o){case"above":case"below":u*=i?-1:1,u-=l;break;case"rightOf":default:u-=f}return u*="bottom"===a||"right"===a?-1:1,P.createElement(E.Arrow,{on:h,from:"windowX"===a?"left":a,offset:u,small:"small"===r,inverted:d})}},{key:"render",value:function t(){return null!==this.state.position?P.createElement(E.Overlay,{position:this.state.position,transitionProperties:this.state.animated?Y:[]},P.createElement("div",{ref:this.contentsRef},P.createElement(E.ShadowBox,{inverted:this.props.inverted},this.renderArrow(),this.props.children)),P.createElement(A.a,{callback:this.setPosition,throttle:100})):null}}]),e}(P.Component);y()(z,"defaultProps",{alignEdge:void 0,fixed:!1,shiftX:0,shiftY:0,shiftArrow:0,arrowType:"large",inverted:!1,animated:!1,paddingX:0,paddingY:0}),e.default=Object(x.connect)(function(t,e){var i=e.position,o=e.alignEdge,n=e.shiftX,s=void 0===n?0:n,d=a()(e,["position","alignEdge","shiftX"]),l=t.i18n.isRtl;return r()({isRtl:l,position:R(l,i),alignEdge:X(l,o),shiftX:l?-s:s},d)})(z)}}});
//# sourceMappingURL=overlays.bounded-arrow-overlay.4ebb792c4f.js.map